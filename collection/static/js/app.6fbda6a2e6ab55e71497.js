webpackJsonp([1],{"+Txt":function(t,e){},"/5nn":function(t,e){},"/Mhx":function(t,e){},"06I1":function(t,e){},"0R25":function(t,e){},"0Y0Z":function(t,e){},"0rNA":function(t,e){},"1KUS":function(t,e){},"5dj+":function(t,e){},"7CpY":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return formatDate}),__webpack_require__.d(__webpack_exports__,"d",function(){return getCookie}),__webpack_require__.d(__webpack_exports__,"f",function(){return setCookie}),__webpack_require__.d(__webpack_exports__,"b",function(){return delCookie}),__webpack_require__.d(__webpack_exports__,"a",function(){return axiosRequest}),__webpack_require__.d(__webpack_exports__,"e",function(){return message});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("7+uW"),__WEBPACK_IMPORTED_MODULE_2_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_2_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__),__WEBPACK_IMPORTED_MODULE_3__router_js__=__webpack_require__("cHtD");function formatDate(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("("+i+")").test(e)){var s=a[i]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?s:("00"+s).substr(s.length))}return e}function getCookie(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}function setCookie(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+e}function delCookie(t){setCookie(t,"")}function axiosParams(t){var e=new URLSearchParams;if(t)for(var a in t)e.append(a,t[a]);return e}function axiosRequest(conf){if(void 0==conf.url||!conf.url)throw new Error("说好的url参数尼");void 0==conf.data&&(conf.data="");var param=axiosParams(conf.data);__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(conf.url,param).then(function(response){if(1==parseInt(response.data.statusCode))void 0!=conf.success&&""!=conf.success&&("function"==typeof conf.success?conf.success(response.data):eval(conf.success+"=response.data.info"));else if(response.data.message)conf.success(response.data);else{var info="";_.forEach(response.data.info,function(t){info+=t})}}).catch(function(t){console.log(t),t.response&&t&&200!=t.response.status&&__WEBPACK_IMPORTED_MODULE_1_vue__.default.prototype.$message.error("出现异常错误,请联系供应商")})}function message(t){0==t.statusCode&&"请先登录"==t.message&&__WEBPACK_IMPORTED_MODULE_1_vue__.default.prototype.$alert(t.message,"提示",{confirmButtonText:"确定",callback:function(t){goHome(),setCookie("user","")}})}function goHome(){__WEBPACK_IMPORTED_MODULE_3__router_js__.a.push({path:"/login"})}function clone(t){if(null==t||"object"!=(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(t)))return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array|t instanceof Object){var e=t instanceof Array?[]:{};for(var a in t)t.hasOwnProperty(a)&&(e[a]=clone(t[a]));return e}throw new Error("Unable to clone obj! Its type isn't supported.")}__WEBPACK_IMPORTED_MODULE_1_vue__.default.directive("move",{bind:function(t,e,a,i){var s=t.querySelector(".el-dialog__header"),n=t.querySelector(".el-dialog");s.style.cursor="move";var o=n.currentStyle||window.getComputedStyle(n,null);s.onmousedown=function(t){var e=t.clientX-s.offsetLeft,a=t.clientY-s.offsetTop,i=void 0,l=void 0;o.left.includes("%")?(i=+document.body.clientWidth*(+o.left.replace(/\%/g,"")/100),l=+document.body.clientHeight*(+o.top.replace(/\%/g,"")/100)):(i=+o.left.replace(/\px/g,""),l=+o.top.replace(/\px/g,"")),document.onmousemove=function(t){var s=t.clientX-e,o=t.clientY-a;n.style.left=s+i+"px",n.style.top=o+l+"px"},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}})},"7lUQ":function(t,e){},"7y0E":function(t,e){},AGL3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg3OUNBNzY2ODY3ODExRTg5RTdFQUFGRjNCRDI5QTA4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg3OUNBNzY3ODY3ODExRTg5RTdFQUFGRjNCRDI5QTA4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODc5Q0E3NjQ4Njc4MTFFODlFN0VBQUZGM0JEMjlBMDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODc5Q0E3NjU4Njc4MTFFODlFN0VBQUZGM0JEMjlBMDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WdZQ+AAANEUlEQVR42sRZCXRTVRr+XrYmbdp0X8NaoCwtLUIRhEFxDgwwgKKCckSgiJTdEQ8jjMuZUUREB5kBFARRhlFANgdZBSwCssgiW0GgaYEuaZukTZp9eXnz35ekprQ4qMzMPeedNC/33ffdf/n+77/lBEHAzx28X5BUW9z5ZUbHQKPV08tk9XSqqndmGCzuKI7W00TK7RqltDIlJuJaXrvY05mp0UWqCOkpetT/c9/F/RyAtVaP9orePqOy3vW03cO3kkgAgV7Z4PRCJuHA0Zx6mwc19U5UmhyoMtjhdHmhknIYlJtSPmlQh08z06NX0LSKewqwwcUnHCu1vF5mck6OUUoVfnrE5vbB4vBBTi/Py1DD7PCipsGNrORIJKgV8NMkm8sHnd6GdV/r8M2FakTLOYzsrfW89nTumk5azWu0tOlXAzxe1jDmxM2GFfFRskSO41Bn98Lp8cPt4+Fw88zd6NkqGg92jIXHJ2Dt0Qpcq7Iiv60GvdtpkBSjgEouRYneirkfncW5C3rR0+9Ou9/4wpicmRKO2/SLANJd2caztcvKzZ6pydEK1JGFzC4eJgLo8PBQKyTw8X6yEo/KOie6pEThT0PaIk2jwMHLJjy75hzKL9dCmRKJ8b9pjRE9UqGvc2Dt7qv4XlcHd60VA3qlY8fiYSs1UYpZ9ErfXQP0+PyRr+69tYleNhxktSu1TnjJUh0TIpCXFgUFufXz80boGzwUg374fH7cNDpxy2jHt3PzkZsRDT+tu/V0Nca8dRS0I3HLmWTV2EgZdOVmKFhM36pDVIQU1fue3alWyZ+kW467ASibvk23NUYlG2lx+8W0G5eXiKxEpWjBCgJVanLji2ITLE6fCM7j8cFLnwaLC9W6epx59yHcR25n45bJiTZTdlLq89CQJ/w0V8mSi0JERqCrCaScMq3h6PQdSoXs8dst2QzgwoPlKw/dsBVmk6Ue6xaHvq3VcHgFHLtlw+ozBrKmCwItGCWXwOvl4aQ4dHnYJ4Gll9dT9jKLudYNQ4RMIq5ppWRJKdgBnn6PjpQSBAaOMqTODgUnwKG3oEtmPIq3TlhFDpsajkcS/qWoxPLk0qPVhQW9krFwsBb920TjdKUDAz+5jum7y3HD6oMqQgZOKkWdW0Ctk6zm5GEkSzYQUAdZUR2rBOjvt/aUNq4brZShaMFAeKweMAaQSCUwW10Y1CsDue0TQFmEK2cqMH/50UKaPrZFC5qdvoSEP3/3w4lZuYn52ijx3mtFenxwxoj0mAhalIPd64eLLpbFTuZWspyfXCdhF72Zo3jk/ATU5kZilBz6xQ+K/BgaHWfvRZm+ASqymq3Kgob9BYikDc9feQLvfHAMqLZA9/2Lde21ms403dDEgpM2XV/w1XPdGsHN3V+JxSdqkapRwk6BWOPyo5ZZja56AujgiSy4gDU4usCAcAwMBzlZzEicyHgxfOR3iBdpyXbDjPVvDEI0WU5Kzy2e3hd7Vj9BcSqg/9h/xNPUN5q4+JrB2Xpq39Rnf9tBI97cec2Cd7+pRjqBqyVg1QTKQJfFS94jgwu0qDQEjIHiQp+BS8ZKDLOyt2llM1DFQWk9Rj/WFeMGtmvy25A+bXDu5PPQny7HV9+WTaJbrUWAzMFJavm0wVlxcpFiaBdPbSmDglxUS/Floky2U175GAgKegnFHycJWSwELMidAQOKa8iomsQoZeHUhQN7dWiVnYKNL/VvkXtzOybi+Mk/YMSMLXKKvGkiQOalOJVsXGgSy1Y7JQZFFMWcEAhqVmdlUjE5Gi31I6EHo5kL4uTAUwnMofLHCD40XtlYTDXTjWtrR9JLuWbgLuhMcFC29+mejjdnD8CBY2UMEzMF8unShiZ+dpHKI+FgySPjAjsIICEoDC2a0hLXtPqIRmVAJj2Q0Xj/B6rH7yw7hdpDE6Cksnf7MBJ/5ua9hz3HbojfXyzojQiFVEv1PJ8t93D45EO6BuIFOUvvACgRGGUncRfH8wGQ9L3xtxBmQRDBuohiiCTxTO/UQNwRtXQp3I3ibaORFGbR0GAcmvHIOiBZje1FJUFncOh3n5YZaSAD2DP8gWiqsQxEAKA/QB083/QShLANBMEylISQr7Bi1eQcaFQylBgcSJ68C7o1w9E1I7oZOAeRe8dxn8NDyaPOTMDx81XwEPmzwZKQrl4MYFb4Q/2pclDpIAAMmJ+pU/Ez/ELoPgMfBMsWctbYkd8zBVP6puFoST06vnQIZSuGoD1JsJbAdRq/BRWVFqSnx4BlhYvuOV1NKl0WWzct/M6YHGJ2muhvJN7brEh/S8LuIwjSQSqnq1aNPbPysOE7PSZ8fAmWFYPRNlHVDFy12YUOBdtQWW1FWpoaPIUPq+msSkWq5OFT0xgPNLH9/WRBaawcXgp0JWk5Py80ydpg+QmGgV/85Am4mmK/X9d4LKQSF6WQQvfmb1qkkiOXDRgwZ49Yj1NTCZzbK1rfZnFiaL4WclmT6hstaSZlKG2LCrNpmzb4aVcSPmS9kIt5UZkELCjQznl4yCJMIyooDln2vj4isxkwpnbe3nYFA2bshJziPCUxUrScuFnav2B2Ys4zPZvrwTq7xxgXKU+4/YdZ23VYvlkHZYdYUZj6WFWQMq7jxKQQqBbD5hUp6ffdE/HK0Lbo0zamRasdvFiLguUnUX7dhFiKR6ZgBG9go3ISdFWlJnTtlIjizeNvf9Qku1xl0/frENcM4LJRmdT0OLHtUAU65yWjU7IKRpuPMtMOO1WX7FZqFD6QhoEk9dvGK5uB8lFoHC+pw992lWDrfh0pFgkSKZMFAuX3BRKLeavO6GANDg6vHt3S3vSyT49VXs3RRmeHl6XQ2DIlG1NIXa45WI6MyFTMHZCBbqQTW8dFNGq98GEjDmQC9cwNC5bsuo5zJPkZ/cSR7GehIgR5lIEjZ6Cmxgo/Sf/z+55DQqyqJYBXuYkffj/fJwgL10/pccfG5V8XjHh02VliVR/uy07CIzmJaE/ZWU69CFMjCrouVjRg/yUDysnCoNaTU0qhoc1JQrQkZn9AlnkoMcwVZsTHKXF09ePo0jb+Tq+ez12uaOjT9Ymtx0t2jEFmUuQdQZJexNIDN/GXHcT2tY5AjSNLilWEEoTJDhllL+GCLETyvNBIRX6fD3YC7jU7ICE1/vrEHpjzVJ5ILS02bQHy6MMEqyR10pc3a2rs2uoNo5BC4vSnhpmEwL5iAz46XI5DV4zwMgnFBzKRfBewFksARt6sKLFk8vogI5/mtNZg8pCOGNm3NbRU2u407NQy1JmdFa3SNW1ERb3yYNlb014umodWMSh9fxja/YQlwwfrka9UWnGmzIwb5NoaohtWCaRkTUa3rB9mRJ3TJhZ51HO0SooSQ+Knhpu8MW/BHiyc/7tFKpV8vqhaqOxo8dgmN0ZuFPDoJuHEdZPw/xhUTQRVm1eEjdvPu+mrVgiWUKgU0opF43LWUB+JCOpb+zy/D3PXXyQ64fG/GgZq6rN6vS2Gy5OPdl8bOr9pbJqoV0iQj/zsqlQuTVBTHJopEWJTovD3gh4Y3VcLpUL6XwHGavCOg1cxeupG+G9UoFL/nik9NSYrdG7TSGYUG6ZLHwyf6auwgKcgTyLuslHWjV90BJ1m7caqr3SoIlq5V8Nq92D7gavoMeJDPD55A4EzYfH7E0DgZocfKjVr3N/74srKOQsOFSZ0ThKTkuW6hTKViYcIaqJG9ErH8N5a9OuSiFTqgdVN1cddjcs6I7oPWwXe5SUuVKHulgn9+7XDkS+nfUg/F/6now/FxMWHN6/bfGlkAolILqRkWDNE9dhKYAXKVEmEFCkaFfp3S0Je+3jEk1pWUzXiKYaUxHPVBhvGDu6E5LjmFSLlgaWopf64fSsNynQGpMarcPPsvB1yuZTVO8/dnG5FTl1ydMuqT88NjW0TBwXRhT80L0h5PJEvA+wgK/hJPyLYSzGp5SAe8xMhm76dgfiYpnX6k+0XUDDtc7TrmISyq9Tapkaj9PQfd0UoZGPu9vAoNOQrthcvm7mwqFBGlkokdzIRKzQ+GEQblP5csKFiNbbqUjWWvjkUz4/Na7JgabkZmfcvgYYsZtGbMXFcPt5f9Mgq4jt2/Ob9RQeYJy/XPDVq3t5l+pv1iVEpakRHkuoLdXeNTVNQAFDK1ZBKZt2gnZpwSRgpl9yiFuChZcTuNqjiI/HRX0cZx47KZQmx4VcfATvdvsStX+vemL3km0n1tTaFnDXlURFQkKIRhB/VicFkFw8m9WfmIDUhqvH5j7ecw6Rx64HYCLz8wkDPzIK+a1OT1a+yjvOeHqLbnF7t7iNlMzfsuzqu6NStDCvpOGYjdojppxqc3T4B6xePQF5WMqpISh0+dRPvrDyGa6VGzJvar3LC6Lx/atM0y+/5IXoLQ1JlsOUXlxgfJtf1LNc3dKL41PbLy1D3zE7FDzqT7VqpqcLp8lzL7Zxy5sG+7b4mnv1F/4b4twADAAyrDP1OEjJ9AAAAAElFTkSuQmCC"},EI7o:function(t,e){},Emgi:function(t,e){},GvQb:function(t,e){},JVS5:function(t,e){},Jvpv:function(t,e){},M1mY:function(t,e){},Mhg1:function(t,e){},Mu93:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("7CpY"),n=a("YtJ0"),o={data:function(){return{open:!0,menus:[],default_url:"/charts"}},watch:{$route:"getPath"},mounted:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/load-menu",success:function(e){1==e.statusCode&&(t.menus=e.info)}};Object(s.a)(e),""!=this.$route.name&&("/charts"!==this.$route.path&&-1===this.$route.path.indexOf("charts")?(n.a.commit("add_tabs",{route:"/charts",name:"首页"}),n.a.commit("add_tabs",{route:this.$route.path,name:this.$route.name}),n.a.commit("set_active_index",this.$route.path),n.a.commit("save_index",this.$route.query.num)):(n.a.commit("add_tabs",{route:"/charts",name:"首页"}),n.a.commit("set_active_index","/charts"),this.$router.push("/charts"))),this.default_url=this.$route.path},methods:{getPath:function(){this.default_url=this.$route.path},handleOpen:function(t,e){n.a.commit("save_index",t)},handleClose:function(t,e){console.log(t,e)},handleSelect:function(t,e){console.log(t,e),n.a.commit("save_index",e[1])},handleIconClick:function(t){console.log(t)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"100%"},attrs:{"default-active":t.default_url,"unique-opened":t.open,router:"","background-color":"#333744","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose,select:t.handleSelect}},[t._l(t.menus,function(e,i){return 0==e.child.length?a("el-menu-item",{key:i,attrs:{index:e.path}},[a("i",{class:e.icon}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]):t._e()}),t._v(" "),t._l(t.menus,function(e,i){return 0!=e.child.length?a("el-submenu",{key:i,attrs:{index:e.id}},[a("template",{slot:"title"},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),t._l(e.child,function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.path}},[t._v(t._s(e.name))])})],2):t._e()})],2)},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("gCBO")},null,null).exports,c={inject:["reload"],data:function(){return{collapsed:!1,info:{true_name:"",company_id:"",company_name:""},sysUserName:"",sysUserAvatar:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},beforeMount:function(){var t=this,e={url:"/api/api_backend.php?r=user/index",success:function(e){t.info=e}};Object(s.a)(e)},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(){},shuxian:function(){this.reload()},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={url:"/api/api_backend.php?r=login/logout",success:function(e){1==e.statusCode?(n.a.commit("clearOptions"),t.$router.push({path:"/login"}),Object(s.f)("user","")):t.$alert(e.message)}};Object(s.a)(e)}).catch(function(){t.$message({type:"info",message:"取消退出"})})}},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"",this.sysUserAvatar=t.avatar||"")}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("\t言通催收系统")]),t._v(" "),a("div",{staticClass:"drop"},[a("span",{staticStyle:{"margin-right":"20px",cursor:"pointer"},on:{click:t.shuxian}},[t._v("刷新")]),t._v(" "),t._m(0),t._v(" "),a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("img",{attrs:{src:this.sysUserAvatar}}),t._v(t._s(t.info.company_name))]),t._v(" "),a("el-dropdown-menu",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("公司代号:"+t._s(t.info.company_id))]),t._v(" "),a("el-dropdown-item",[t._v("设置")]),t._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("a",{staticStyle:{display:"inline-block",color:"#fff","margin-right":"20px",cursor:"pointer"},attrs:{href:"/sysadmin.php"}},[this._v(" 切回管理")])])}]};var u=a("VU/8")(c,d,!1,function(t){a("M1mY")},"data-v-e64ec65c",null).exports,p=a("BO1k"),m=a.n(p),_={name:"NaveTab",data:function(){return{}},mounted:function(){},methods:{tabClick:function(t){var e=this.activeIndex;console.log(e),this.activeIndex,this.$router.push({path:e})},tabRemove:function(t){"/charts"!=t&&(n.a.commit("del_tabs",t),this.activeIndex===t&&(n.a&&this.options.length>=1?(n.a.commit("set_active_index",this.options[this.options.length-1].route),this.$router.push({path:this.activeIndex})):this.$router.push({path:"/charts"})))}},computed:{options:function(){return n.a.state.options},activeIndex:{get:function(){return n.a.state.activeIndex},set:function(t){n.a.commit("set_active_index",t)}}},watch:{$route:function(t){var e=!1,a=!0,i=!1,s=void 0;try{for(var o,l=m()(this.options);!(a=(o=l.next()).done);a=!0){if(o.value.name===t.name){e=!0,n.a.commit("set_active_index","/"+t.path.split("/")[1]);break}}}catch(t){i=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw s}}e||(n.a.commit("add_tabs",{route:"/"+t.path.split("/")[1],name:t.name}),n.a.commit("set_active_index","/"+t.path.split("/")[1]))}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NaveTab"},[t.options.length?a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.tabRemove},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.options,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.route}})})):t._e()],1)},staticRenderFns:[]};var h={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},components:{left:r,NaveTab:a("VU/8")(_,f,!1,function(t){a("rRrP")},null,null).exports,top:u},beforeMount:function(){this.upload()},methods:{upload:function(){Object(s.d)("user")&&("/"==this.$route.path?this.$router.push("/charts"):"/login"==this.$route.path&&this.$router.push("/charts"))},reload:function(){console.log("刷新"),this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.$route.meta.keepAlive?a("el-container",[a("el-header",[a("keep-alive",[a("top")],1),t._v(" "),a("NaveTab",{staticStyle:{"margin-left":"250px"}})],1),t._v(" "),t.$route.meta.keepAlive?a("el-container",[a("el-aside",{staticStyle:{"background-color":"#EBEBEB",width:"250px"}},[a("keep-alive",[a("left")],1)],1),t._v(" "),a("el-main",{staticStyle:{"min-height":"550px","max-height":"750px",overflow:"scroll","margin-top":"60px"}},[a("keep-alive",[t.isRouterAlive?a("router-view"):t._e()],1)],1)],1):t._e()],1):t._e(),t._v(" "),t.$route.meta.keep?a("router-view"):t._e()],1)},staticRenderFns:[]};var b=a("VU/8")(h,v,!1,function(t){a("JVS5")},null,null).exports,g=a("mtWM"),y=a.n(g),x=a("zL8q"),w=a.n(x),k=(a("tvR6"),a("erWL"),a("//Fk")),C=a.n(k),D=a("cHtD");y.a.interceptors.request.use(function(t){return t},function(t){console.log(t),C.a.reject(t)}),y.a.interceptors.response.use(function(t){t.data;return 0==t.data.statusCode&&"请先登录"==t.data.message?(x.MessageBox.confirm("登录已过期,请重新登录",{confirmButtonText:"重新登录",type:"warning",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then(function(){D.a.push("/login"),Object(s.b)("user"),location.reload()}),!1):0==t.data.statusCode&&"账号在其他地点登陆"==t.data.message?(x.MessageBox.confirm("账号在其他地点登陆",{confirmButtonText:"重新登录",type:"warning",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then(function(){D.a.push("/login"),Object(s.b)("user"),location.reload()}),!1):t},function(t){return console.log("err"+t),Object(x.Message)({message:t.message,type:"error",duration:5e3}),C.a.reject(t)});y.a;var E=a("NYxO");a("e0XP"),a("yS2L"),a("q7ro"),a("7t+N"),a("egCM");i.default.config.productionTip=!1,i.default.config.axios=y.a,i.default.use(w.a),i.default.use(E.a),new i.default({el:"#app",router:D.a,store:n.a,components:{App:b},template:"<App/>"})},Skak:function(t,e,a){t.exports=a.p+"static/img/login_bg.8ae586c.png"},V37U:function(t,e){},VkcE:function(t,e){},"W/oW":function(t,e){},Yh0N:function(t,e){},YtJ0:function(t,e,a){"use strict";var i=a("BO1k"),s=a.n(i),n=a("7+uW"),o=a("NYxO");n.default.use(o.a);var l=new o.a.Store({modules:{},state:{options:[],activeIndex:"/charts",userInfo:{},menuIndex:"0",caseBatchId:"",menusList:""},mutations:{add_tabs:function(t,e){""!=e.name&&t.options.push(e)},save_index:function(t,e){t.menuIndex=e||"0"},del_tabs:function(t,e){var a=0,i=!0,n=!1,o=void 0;try{for(var l,r=s()(t.options);!(i=(l=r.next()).done);i=!0){if(l.value.route===e)break;a++}}catch(t){n=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw o}}this.state.options.splice(a,1)},set_active_index:function(t,e){t.activeIndex=e},save_detail_info:function(t,e){t.userInfo=e},changeBatchId:function(t,e){t.caseBatchId=e},clearOptions:function(t){t.options=[]}}});e.a=l},avKH:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxRkMzRDFFODRBQTExRTg4NkE3OTQxOUU3NkY0MTYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxRkMzRDFGODRBQTExRTg4NkE3OTQxOUU3NkY0MTYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTFGQzNEMUM4NEFBMTFFODg2QTc5NDE5RTc2RjQxNjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTFGQzNEMUQ4NEFBMTFFODg2QTc5NDE5RTc2RjQxNjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4TOji3AAADqElEQVR42rRXWWhTQRQ9SWPa2mpduqggLmBFwa0qraggqKn4JQouH/4oIlqtfmhRUKsVKS6IgsuX+qGiFSmIihhRixuIGCm4ti5VhFpjbIrWapqknstM6GuS9xIlPXDIy5uZe2bm3rlzn23O6S4kgT5kKTmfnE6OJgfoNj/5nnxC3iJvkp2JDDoStIvxzeR6Ms+kT4HmDLKc/EYeJ4/oScWF3UJ0OfmarLQQjYdcPea1tpG0cBp5grygV/K/KNA2TmiblsLS4RK5DqnDOm0zzUpY/LIYqYfYPGoWXMvIDVaj87OA1VOBCfmAk/MPhhm+5BuG07l6oMlvKV5G3idr5I9NHyeJ3jdi22zUwkJg60zgxVegrgl43gKEOLRwMDCXh2vyUOCMBzhbbynO0Rgr0R5Z8WYr0UXjgE0lwN464M6Hnm2NPuB6AzCFwocX8MBzJ057zDdNa+0WHzv1OY2LvCwluvN2rKgRz5qBNVeAlZO4pFzLVYuWU4RdVud07TQeSC/w4FPiCHr7HfA0q4laQLRcEWFTTBoCXG1IPnzP08cjBqjgs0CpCBdZ9bBJIm5NXriBPu9gph7c17JbkQgXmrXKzNPsylCykEi3cbajBlp2GyNRnRP9VmZbOQcYzpYMx78JB0IU59nePhv48hOovhd3x3JicnUuRS8zlfh/AzsYya0dQL/05IUzHUpcBF8xKE8tih/lItxmfFHNG/clB+y6o5KFBElnSLXtd8XfwpwM4FCp+u0Iql16x1UefgS43wL75sYMaRPhRuObkfTrnrvqeVAmIHlN0qJgIu+bfk71vLFYuUOQzskVDVO/ss3hLrVzggMPld+j0CjCT3sER1htlSC6f1AbFWRzAv0zuvuFwvG3PhyO2+YRYbfxjfcXUDFLPYt/5Tg5dCR8olP+hLpXUqFHiiskgGTCEtF2su23vhmKlQui4I4I+yJvJKBmDOdWlqjjlMlqK6uPTug3mJ183TsTWYkEYtk19ZvNvun08ZBsYBUzxJLxQFVdD1Gv1GUiHCCPRd5+9KucO5kZ6yCDqZ2tLe3dKzMrDYN6Er8YXM0/gG08TvN4a21h6ff4c4+uUpEEkr4WUwSvTlh+u6FELUfvozxSeRoTSI0uS3sLYvuiWc21iaztBdFabdu02JPDspQ8mULRk9pmKFFdHdJVwgpdI/0vvmob66NFE31JXNSFWZXxnCcBnx4z1ujTmHv+Hz/aXIaPtsh10Wr4aHNrBhIZ/CvAAGfbD2p2S9eDAAAAAElFTkSuQmCC"},cHtD:function(e,a,i){"use strict";var s=i("XLwt"),n=i.n(s),o={data:function(){return{chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},methods:{drawColumnChart:function(){this.chartColumn=n.a.init(document.getElementById("chartColumn")),this.chartColumn.setOption({title:{text:"Column Chart"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})},drawBarChart:function(){this.chartBar=n.a.init(document.getElementById("chartBar")),this.chartBar.setOption({title:{text:"Bar Chart",subtext:"数据来自网络"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2011年","2012年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["巴西","印尼","美国","印度","中国","世界人口(万)"]},series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]})},drawLineChart:function(){this.chartLine=n.a.init(document.getElementById("chartLine")),this.chartLine.setOption({title:{text:"Line Chart"},tooltip:{trigger:"axis"},legend:{data:["邮件营销","联盟广告","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]})},drawPieChart:function(){this.chartPie=n.a.init(document.getElementById("chartPie")),this.chartPie.setOption({title:{text:"Pie Chart",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawCharts:function(){this.drawColumnChart(),this.drawBarChart(),this.drawLineChart(),this.drawPieChart()}},mounted:function(){this.drawCharts()},updated:function(){this.drawCharts()}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"chart-container"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartColumn"}})]),this._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartBar"}})]),this._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartLine"}})]),this._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartPie"}})]),this._v(" "),e("el-col",{attrs:{span:24}},[e("a",{staticStyle:{float:"right"},attrs:{href:"http://echarts.baidu.com/examples.html",target:"_blank"}},[this._v("more>>")])])],1)],1)},staticRenderFns:[]};var r,c=i("VU/8")(o,l,!1,function(t){i("ypTe")},"data-v-186213fe",null).exports,d=i("mvHQ"),u=i.n(d),p=i("bOdI"),m=i.n(p),_=i("7CpY"),f=i("zL8q"),h=i("YtJ0"),v={data:function(){var t,e;return{images:{robotOff:"static/image/off.png",robotOn:"static/image/on.png"},AddData:{outLine:[],recognition_lies:[],call_result:[],templates:[],ext_list:[],smsList:[],usable_ai_count:0},AddQueueData:{QueueShow:!1,Data:[],caller_id:"",strategy:"rrmemory",timeout:"30",maxlen:"10",staff_id_queue:"",multipleSelection:[],member:""},EditQueueData:{QueueShow:!1,Data:[],caller_id:"",strategy:"",timeout:"",maxlen:"",staff_id_queue:"",multipleSelection:[],member:""},Index:{addTask:!1,editTask:!1,width:"width:260px",width1:"width:120px"},form:(t={name:"",caller_id:"",asr_number:"",ai_count:1,call_duration:"45",start_time_am:"08:00",end_time_am:"12:00",start_time_pm:"11:00",end_time_pm:"21:00",agent_or_queue:"",exten_num:"",asrtomobile:"",asrqueue:""},m()(t,"exten_num",""),m()(t,"exten",""),m()(t,"strategy",""),m()(t,"timeout",""),m()(t,"maxlen",""),m()(t,"staff_id_queue",""),m()(t,"sms_rules","0"),t),round_rule:[],not_connected_status1:[],not_connected_status2:[],form1:{round:"0",template_id:"",next_round:"1",call_times:"",not_connected_status:""},form2:{round:"1",template_id:"",next_round:"2",call_times:"",not_connected_status:""},form3:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},data1:(e={name:"",caller_id:"",asr_number:"",ai_count:1,call_duration:"45",start_time_am:"08:00",end_time_am:"12:00",start_time_pm:"11:00",end_time_pm:"21:00",agent_or_queue:"",exten_num:"",asrtomobile:"",asrqueue:""},m()(e,"exten_num",""),m()(e,"exten",""),m()(e,"strategy",""),m()(e,"timeout",""),m()(e,"maxlen",""),m()(e,"staff_id_queue",""),m()(e,"sms_rules","0"),e),data2:{round:"0",template_id:"",next_round:"1",call_times:"",not_connected_status:""},data3:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},data4:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},Dates:[],editData:{outLine:[],recognition_lies:[],call_result:[],templates:[]},agent_or_queue:"",formEdit:{extNum:"",asrtomobile:"",usable_ai_count:0},start_time_am:"",end_time_am:"",start_time_pm:"",end_time_pm:"",round_rule_edit:[],not_connected_status1Edit:[],not_connected_status2Edit:[],form1Edit:{},form2Edit:{},form3Edit:{},closeData:{status:"",status1:"",status2:""},isAnyoneOn:!1,AddQueue:{show:!1,name:"",date:[],multipleSelection:[]},showQueue:{show:!1,tableData:[]}}},activated:function(){this.init()},watch:{isAnyoneOn:{handler:function(t){t?this.timer=setInterval(this.init,5e3):t||clearInterval(this.timer)}}},methods:(r={init:function(){var t=this;if(Object(_.d)("user")&&"/taskManagement"==this.$route.path){console.log(h.a);var e={url:"/api/api_backend.php?r=asroperate/list",success:function(e){t.Dates=e.info,t.isAnyoneOn=t.Dates.some(function(t){return"1"===t.status})}};Object(_.a)(e)}},addInit:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/add-init",success:function(e){t.AddData.outLine=e.info.out_side_lines,t.AddData.recognition_lies=e.info.recognition_lies,t.AddData.call_result=e.info.call_result_status,t.AddData.usable_ai_count=e.info.usable_ai_count}};Object(_.a)(e)},AddInitSound:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list-all",success:function(e){var a=e.info;a.unshift({id:"0",name:"未选择话术"}),t.AddData.templates=a,t.editData.templates=a}};Object(_.a)(e)},AddInitSms:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/list",success:function(e){t.AddData.smsList=e.info}};Object(_.a)(e)},addExtension:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/turn-extension",success:function(e){t.AddData.ext_list=e.info}};Object(_.a)(e)},changeStatus1:function(){this.form1.not_connected_status=this.not_connected_status1.join()},changeStatus2:function(){this.form2.not_connected_status=this.not_connected_status2.join()},addTask:function(){this.Index.addTask=!0,this.addInit(),this.AddInitSound(),this.addExtension(),this.AddInitSms()},clone:function(t){return JSON.parse(u()(t))},handleSelectionChangeQueue:function(t){this.AddQueueData.multipleSelection=t},QueueSure:function(){if(0==this.AddQueueData.multipleSelection.length)this.$alert("选择接听坐席"),this.AddQueueData.QueueShow=!0;else{var t=this.AddQueueData.multipleSelection.map(function(t){return t.staff_id});this.AddQueueData.staff_id_queue=t.join(","),this.form.strategy=this.AddQueueData.strategy,this.form.timeout=this.AddQueueData.timeout,this.form.maxlen=this.AddQueueData.maxlen,this.form.staff_id_queue=this.AddQueueData.staff_id_queue,this.AddQueueData.member=parseInt(this.AddQueueData.multipleSelection.length),this.AddQueueData.QueueShow=!1}},agentorqueueChangeWord:function(){var t=this;if("queue"==this.form.agent_or_queue)if(""==this.form.caller_id)this.$alert("请选择外线号码"),this.form.agent_or_queue="";else{this.AddQueueData.QueueShow=!0;var e={url:"/api/api_backend.php?r=asroperate/turn-queue",data:{caller_id:this.form.caller_id},success:function(e){t.AddQueueData.Data=e.info}};Object(_.a)(e)}else this.$alert("未选择转队列")},agentorqueueChange:function(t){var e=this;if("queue"==t)if(""==this.form.caller_id)this.$alert("请选择外线号码"),this.form.agent_or_queue="";else{this.AddQueueData.QueueShow=!0;var a={url:"/api/api_backend.php?r=asroperate/turn-queue",data:{caller_id:this.form.caller_id},success:function(t){e.AddQueueData.Data=t.info}};Object(_.a)(a),this.AddQueueData.caller_id=this.form.caller_id,this.form.agent_or_queue=t}else this.AddQueueData.caller_id="",this.form.agent_or_queue=t},onSubmit:function(){var t=this;this.round_rule[0]=this.form1,this.round_rule[1]=this.form2,this.round_rule[2]=this.form3;var e=this.form;if("mobile"==this.form.agent_or_queue){var a=this.form.asrtomobile;e.exten_num=a?"mobile"+a:0}else if("ext"==this.form.agent_or_queue){var i=this.form.exten;e.exten_num=i?"ext"+i:0}else"queue"==this.form.agent_or_queue?(e.exten_num="queue",e.strategy=this.AddQueueData.strategy,e.timeout=this.AddQueueData.timeout,e.maxlen=this.AddQueueData.maxlen,e.staff_id_queue=this.AddQueueData.staff_id_queue):e.exten_num=0;e.start_time_am=this.form.start_time_am+":00",e.end_time_am=this.form.end_time_am+":00",e.start_time_pm=this.form.start_time_pm+":00",e.end_time_pm=this.form.end_time_pm+":00",e.round_rule=u()(this.round_rule);var s={url:"/api/api_backend.php?r=asroperate/add-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.Index.addTask=!1,t.form=t.clone(t.data1),t.form1=t.clone(t.data2),t.form2=t.clone(t.data3),t.form3=t.clone(t.data4),t.not_connected_status1=[],t.not_connected_status2=[],t.init()):t.Index.addTask=!0,Object(_.e)(e)}};Object(_.a)(s)},edit:function(t){var e=this;this.addExtension(),this.AddInitSound(),this.AddInitSms(),this.Index.editTask=!0;var a={url:"/api/api_backend.php?r=asroperate/info",data:{id:t},success:function(t){e.editData.outLine=t.info.out_side_lines,e.editData.recognition_lies=t.info.recognition_lies,e.editData.call_result=t.info.call_result_status.map(function(t){return t.id=""+t.id,t}),e.formEdit=t.info.info,e.formEdit.usable_ai_count=t.info.usable_ai_count,e.formEdit.ai_count=parseInt(t.info.info.ai_count),e.start_time_am=t.info.info.call_time.am.s,e.end_time_am=t.info.info.call_time.am.e,e.start_time_pm=t.info.info.call_time.pm.s,e.end_time_pm=t.info.info.call_time.pm.e;var a=t.info.round_rule.filter(function(t){if(0==t.round)return t}),i=t.info.round_rule.filter(function(t){if(1==t.round)return t}),s=t.info.round_rule.filter(function(t){if(2==t.round)return t}),n=t.info.info.exten_num;0==n.indexOf("mobile")?(e.formEdit.agent_or_queue="mobile",e.agent_or_queue="mobile",e.formEdit.asrtomobile=n.substring(6)):0==n.indexOf("ext")?(e.formEdit.agent_or_queue="ext",e.agent_or_queue="ext",e.formEdit.extNum=n.substring(3)):0==n.indexOf("queue")?(e.formEdit.agent_or_queue="queue",e.agent_or_queue="queue",e.EditQueueData.caller_id=e.formEdit.caller_id):0==n&&(e.formEdit.agent_or_queue="",e.formEdit.exten_num="",e.formEdit.asrtomobile=""),e.EditQueueData.member=t.info.queue_count,e.form1Edit=a[0],e.form1Edit.template_id=a[0].template_id,e.form2Edit=i[0],e.form2Edit.template_id=i[0].template_id,e.form3Edit=s[0],e.form3Edit.template_id=s[0].template_id,e.not_connected_status1Edit=a[0].not_connected_status.split(","),e.not_connected_status2Edit=i[0].not_connected_status.split(",")}};Object(_.a)(a)},agentorqueueChangeEdit:function(t){var e=this;if("queue"==t)if(""==this.formEdit.caller_id)this.$alert("请选择外线号码"),this.formEdit.agent_or_queue="";else{this.EditQueueData.QueueShow=!0;var a={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(t){e.EditQueueData.Data=t.info,e.EditQueueData.strategy=t.message.strategy,e.EditQueueData.timeout=t.message.timeout,e.EditQueueData.maxlen=t.message.maxlen,e.EditQueueData.Data.forEach(function(t,a){1==t.staff_id_selected&&setTimeout(function(){e.$refs.multipleTables1.toggleRowSelection(e.EditQueueData.Data[a])},1)})}};Object(_.a)(a),this.EditQueueData.caller_id=this.formEdit.caller_id,this.formEdit.agent_or_queue=t}else this.EditQueueData.caller_id="",this.formEdit.agent_or_queue=t,this.formEdit.strategy="",this.formEdit.timeout="",this.formEdit.maxlen="",this.formEdit.staff_id_queue=""},editQueue:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(e){t.EditQueueData.Data=e.info,t.EditQueueData.strategy=e.message.strategy,t.EditQueueData.timeout=e.message.timeout,t.EditQueueData.maxlen=e.message.maxlen;var a=t.EditQueueData.Data.filter(function(t,e){return 1==t.staff_id_selected}).map(function(t,e){return t.staff_id});t.EditQueueData.staff_id_queue=a.join(",")}};Object(_.a)(e)},handleSelectionChangeQueueEdit:function(t){this.EditQueueData.multipleSelection=t},EditQueueSure:function(){if(0==this.EditQueueData.multipleSelection.length)this.$alert("选择接听坐席"),this.EditQueueData.QueueShow=!0;else{var t=this.EditQueueData.multipleSelection.map(function(t){return t.staff_id});this.EditQueueData.staff_id_queue=t.join(","),this.formEdit.strategy=this.EditQueueData.strategy,this.formEdit.timeout=this.EditQueueData.timeout,this.formEdit.maxlen=this.EditQueueData.maxlen,this.formEdit.staff_id_queue=this.EditQueueData.staff_id_queue,this.EditQueueData.member=parseInt(this.EditQueueData.multipleSelection.length),this.EditQueueData.QueueShow=!1}},agentorqueueChangeWordEdit:function(){var t=this;if("queue"==this.formEdit.agent_or_queue)if(""==this.formEdit.caller_id)this.$alert("请选择外线号码"),this.formEdit.agent_or_queue="";else{this.EditQueueData.QueueShow=!0;var e={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(e){t.EditQueueData.Data=e.info,t.EditQueueData.strategy=e.message.strategy,t.EditQueueData.timeout=e.message.timeout,t.EditQueueData.maxlen=e.message.maxlen,t.EditQueueData.Data.forEach(function(e,a){1==e.staff_id_selected&&setTimeout(function(){t.$refs.multipleTables1.toggleRowSelection(t.EditQueueData.Data[a])},1)})}};Object(_.a)(e)}else this.$alert("未选择转队列")},changeStatus1Edit:function(){this.form1Edit.not_connected_status=this.not_connected_status1Edit.join()},changeStatus2Edit:function(){this.form2Edit.not_connected_status=this.not_connected_status2Edit.join()},onSubmitSave:function(){var t=this;this.round_rule_edit[0]=this.form1Edit,this.round_rule_edit[1]=this.form2Edit,this.round_rule_edit[2]=this.form3Edit;var e=this.formEdit;if(3==this.start_time_am.split(":").length?e.start_time_am=this.start_time_am:e.start_time_am=this.start_time_am+":00",3==this.end_time_am.split(":").length?e.end_time_am=this.end_time_am:e.end_time_am=this.end_time_am+":00",3==this.start_time_pm.split(":").length?e.start_time_pm=this.start_time_pm:e.start_time_pm=this.start_time_pm+":00",3==this.end_time_pm.split(":").length?e.end_time_pm=this.end_time_pm:e.end_time_pm=this.end_time_pm+":00","mobile"==this.agent_or_queue){var a=this.formEdit.asrtomobile;e.exten_num=a?"mobile"+a:0}else if("ext"==this.agent_or_queue){var i=this.formEdit.extNum;e.exten_num=i?"ext"+i:0}else"queue"==this.agent_or_queue?(this.formEdit.exten="queue",e.strategy=this.EditQueueData.strategy,e.timeout=this.EditQueueData.timeout,e.maxlen=this.EditQueueData.maxlen,e.staff_id_queue=this.EditQueueData.staff_id_queue):e.exten_num=0;e.staff_id_queue=this.formEdit.staff_id_queue,e.round_rule=u()(this.round_rule_edit);var s={url:"/api/api_backend.php?r=asroperate/edit-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.Index.editTask=!1,t.init(),t.formEdit={},t.form1Edit={},t.form2Edit={},t.form3Edit={},t.not_connected_status1Edit=[],t.not_connected_status2Edit=[]):t.Index.editTask=!0,Object(_.e)(e)}};Object(_.a)(s)},close:function(t,e){var a=this,i={url:"/api/api_backend.php?r=asroperate/start-and-close",data:{id:t,status:0==e?1:2},success:function(t){a.$alert(t.message),a.init()}};Object(_.a)(i)},del:function(t){var e=this;this.$confirm("您确定要删除吗？","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=asroperate/del",data:{id:t},success:function(t){e.$alert(t.message),1==t.statusCode&&e.init()}};Object(_.a)(a)})},queueAdd:function(){var t=this;this.AddQueue.show=!0,this.AddQueue.name="";var e={url:"/api/api_backend.php?r=asroperate/config-list",success:function(e){t.AddQueue.date=e.info}};Object(_.a)(e)}},m()(r,"handleSelectionChangeQueue",function(t){this.AddQueue.multipleSelection=t}),m()(r,"queueSure",function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/config-queue-add",data:{queue_name:this.AddQueue.name,configId:this.AddQueue.multipleSelection.map(function(t){return t.id}).join(",")},success:function(e){t.$alert(e.message),1==e.statusCode?t.AddQueue.show=!1:t.AddQueue.show=!0}};Object(_.a)(e)}),m()(r,"queueList",function(){var t=this;this.showQueue.show=!0;var e={url:"/api/api_backend.php?r=asroperate/config-queue-list",success:function(e){t.showQueue.tableData=e.info}};Object(_.a)(e)}),m()(r,"delQueue",function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=asroperate/config-queue-list-del",data:{id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode?a.showQueue.show=!1:a.showQueue.show=!0}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}),r)},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"AIadd"},[a("el-button",{attrs:{type:"success"},on:{click:t.addTask}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加任务")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.queueAdd}},[t._v("队列功能")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.queueList}},[t._v("队列列表")])],1),t._v(" "),a("div",{staticClass:"AIlist"},[a("ul",{staticClass:"el-row",staticStyle:{"padding-left":"0"}},t._l(t.Dates,function(e,i){return a("li",{key:i,staticClass:"el-col el-col-8",staticStyle:{"min-height":"300px","max-height":"350px","margin-bottom":"5px"}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"AiTop",staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"title",staticStyle:{width:"30%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},attrs:{title:e.name}},[t._v("任务名称："+t._s(e.name))]),t._v(" "),a("div",{staticClass:"title",staticStyle:{margin:"0 15px"}},[t._v("任务编码："+t._s(e.task_coding))]),t._v(" "),a("div",{staticClass:"title",staticStyle:{width:"30%"}},[a("span",[t._v("机器人状态: "),e.warning_asrnumber&&e.warning_callerid?a("span",[t._v("正常")]):a("span",{staticStyle:{color:"red"}},[t._v("异常")])])])]),t._v(" "),a("div",{staticClass:"ListMain"},[1==e.status?a("div",{staticClass:"pic"},[a("img",{staticClass:"animated pulse infinite",attrs:{src:t.images.robotOn}})]):a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.images.robotOff}})]),t._v(" "),a("div",{staticClass:"AiInfo"},[a("div",{staticClass:"Upton"},[a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("\t识别线路")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.asr_number))]),t._v(" "),a("div",{staticClass:"time"},[t._v(" ")])]),t._v(" "),a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("外呼时间")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.call_time.am.s)+"-"+t._s(e.call_time.am.e))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.call_time.pm.s)+"-"+t._s(e.call_time.pm.e))])]),t._v(" "),a("span",{staticClass:"div1"})]),t._v(" "),a("div",{staticClass:"Upton"},[a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("外线号码")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.caller_id))])]),t._v(" "),a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("机器人数")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.ai_count))])]),t._v(" "),a("span",{staticClass:"div1"})]),t._v(" "),a("div",{staticClass:"Countp"},[a("div",{staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("人机交互："),a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.exten_num))])])])]),t._v(" "),a("div",{staticClass:"Countp",staticStyle:{height:"30px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"form.status == 0"}],staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("剩余资料："),a("span",{staticStyle:{color:"red"}},[t._v("名称:"+t._s(e.remain_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),a("p",{staticStyle:{"margin-left":"56px"}},[t._v("数量:"+t._s(e.remain_count)+" 机器人未启动")])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"form.status == 1"}],staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("剩余资料："),a("span",{staticStyle:{color:"red"}},[t._v("名称:"+t._s(e.remain_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),a("p",{staticStyle:{"margin-left":"56px"}},[t._v("数量:"+t._s(e.remain_count)+" 呼叫中："+t._s(e.callin)+"通话中："+t._s(e.dropin))])])])])]),t._v(" "),a("div",{staticClass:"Countp"},[a("div",{staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("当前状态:\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),-1==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("呼叫已完成\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):0==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("本人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):1==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一联系人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):2==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二联系人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):t._e()])])]),t._v(" "),a("div",{staticClass:"AiButton"},[a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"danger"}},[a("i",{staticClass:"fa fa-headphones"}),t._v("测试")]),t._v(" "),0==parseInt(e.status)?a("el-button",{attrs:{type:"primary",disabled:!e.warning_asrnumber&&!e.warning_callerid},on:{click:function(a){t.close(e.id,e.status)}}},[a("i",{staticClass:"fa fa-power-off"}),t._v("启动")]):1==parseInt(e.status)?a("el-button",{attrs:{type:"primary",disabled:!e.warning_asrnumber&&!e.warning_callerid},on:{click:function(a){t.close(e.id,e.status)}}},[a("i",{staticClass:"fa fa-power-off"}),t._v("关闭")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"success",disabled:!e.warning_asrnumber&&!e.warning_callerid},on:{click:function(a){t.edit(e.id)}}},[a("i",{staticClass:"fa fa-pencil"}),t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.del(e.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除")])],1)])])])])}))]),t._v(" "),a("div",{staticClass:"dial-header addTask"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"任务添加",visible:t.Index.addTask},on:{"update:visible":function(e){t.$set(t.Index,"addTask",e)}}},[a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("基础配置")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"00:00",step:"00:30",end:"12:00"}},model:{value:t.form.start_time_am,callback:function(e){t.$set(t.form,"start_time_am",e)},expression:"form.start_time_am"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:30",end:"12:00",minTime:t.form.start_time_am}},model:{value:t.form.end_time_am,callback:function(e){t.$set(t.form,"end_time_am",e)},expression:"form.end_time_am"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"11:00",step:"00:30",end:"24:00"}},model:{value:t.form.start_time_pm,callback:function(e){t.$set(t.form,"start_time_pm",e)},expression:"form.start_time_pm"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"11:00",step:"00:30",end:"24:00",minTime:t.form.start_time_pm}},model:{value:t.form.end_time_pm,callback:function(e){t.$set(t.form,"end_time_pm",e)},expression:"form.end_time_pm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机器人数量:"}},[a("ul",{staticStyle:{"margin-top":"15px"}},[a("li",{staticClass:"Slider"},[a("el-slider",{attrs:{"show-stops":"",max:t.AddData.usable_ai_count,min:1},model:{value:t.form.ai_count,callback:function(e){t.$set(t.form,"ai_count",e)},expression:"form.ai_count"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:"外线号码:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form.caller_id,callback:function(e){t.$set(t.form,"caller_id",e)},expression:"form.caller_id"}},t._l(t.AddData.outLine,function(t,e){return a("el-option",{key:e,attrs:{value:t.out_number,label:t.out_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"语音识别线路:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择识别线路"},model:{value:t.form.asr_number,callback:function(e){t.$set(t.form,"asr_number",e)},expression:"form.asr_number"}},t._l(t.AddData.recognition_lies,function(t,e){return a("el-option",{key:e,attrs:{label:t.asr_number,value:t.asr_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"交互方式："}},[a("el-radio-group",{on:{change:t.agentorqueueChange},model:{value:t.form.agent_or_queue,callback:function(e){t.$set(t.form,"agent_or_queue",e)},expression:"form.agent_or_queue"}},[a("div",[a("el-radio",{attrs:{label:"mobile"}},[t._v("转手机")]),t._v(" "),a("el-input",{staticStyle:{width:"120px","margin-left":"10px"},model:{value:t.form.asrtomobile,callback:function(e){t.$set(t.form,"asrtomobile",e)},expression:"form.asrtomobile"}})],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"ext"}},[t._v("转分机")]),t._v(" "),a("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:t.form.exten,callback:function(e){t.$set(t.form,"exten",e)},expression:"form.exten"}},t._l(t.AddData.ext_list,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))],1)])],1),t._v(" "),a("el-form-item",{attrs:{label:"振铃时长:"}},[a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},model:{value:t.form.call_duration,callback:function(e){t.$set(t.form,"call_duration",e)},expression:"form.call_duration"}}),t._v("秒\n\t\t\t\t\t\t\t\t")],1),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("呼叫规则")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form1.call_times,callback:function(e){t.$set(t.form1,"call_times",e)},expression:"form1.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form1.template_id,callback:function(e){t.$set(t.form1,"template_id",e)},expression:"form1.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus1},model:{value:t.not_connected_status1,callback:function(e){t.not_connected_status1=e},expression:"not_connected_status1"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择联系人"},model:{value:t.form1.next_round,callback:function(e){t.$set(t.form1,"next_round",e)},expression:"form1.next_round"}},[a("el-option",{attrs:{label:"第一联系人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("el-form",{ref:"forms",attrs:{model:t.form2,"label-width":"145px"}},[a("el-form-item",{attrs:{label:"第一联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form2.call_times,callback:function(e){t.$set(t.form2,"call_times",e)},expression:"form2.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form2.template_id,callback:function(e){t.$set(t.form2,"template_id",e)},expression:"form2.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus2},model:{value:t.not_connected_status2,callback:function(e){t.not_connected_status2=e},expression:"not_connected_status2"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.next_round,callback:function(e){t.$set(t.form2,"next_round",e)},expression:"form2.next_round"}},[a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form3,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"第二联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form3.call_times,callback:function(e){t.$set(t.form3,"call_times",e)},expression:"form3.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form3.template_id,callback:function(e){t.$set(t.form3,"template_id",e)},expression:"form3.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"是否发送短信:"}},[a("el-select",{style:t.Index.width,model:{value:t.form.sms_rules,callback:function(e){t.$set(t.form,"sms_rules",e)},expression:"form.sms_rules"}},[a("el-option",{attrs:{value:"0",label:"不发送短信"}}),t._v(" "),t._l(t.AddData.smsList,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})})],2)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Index.addTask=!1}}},[t._v("取消")])],1)])],1),t._v(" "),a("div",{staticClass:"dial-header addTask"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"任务编辑",visible:t.Index.editTask},on:{"update:visible":function(e){t.$set(t.Index,"editTask",e)}}},[a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("基础配置")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.formEdit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.formEdit.name,callback:function(e){t.$set(t.formEdit,"name",e)},expression:"formEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"00:00",step:"00:30",end:"12:00"}},model:{value:t.start_time_am,callback:function(e){t.start_time_am=e},expression:"start_time_am"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:30",end:"12:00",minTime:t.start_time_am}},model:{value:t.end_time_am,callback:function(e){t.end_time_am=e},expression:"end_time_am"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"11:00",step:"00:30",end:"24:00"}},model:{value:t.start_time_pm,callback:function(e){t.start_time_pm=e},expression:"start_time_pm"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"11:00",step:"00:30",end:"24:00",minTime:t.start_time_pm}},model:{value:t.end_time_pm,callback:function(e){t.end_time_pm=e},expression:"end_time_pm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机器人数量:"}},[a("ul",{staticStyle:{"margin-top":"15px"}},[a("li",{staticClass:"Slider"},[a("el-slider",{attrs:{"show-stops":"",max:t.formEdit.usable_ai_count,min:1},model:{value:t.formEdit.ai_count,callback:function(e){t.$set(t.formEdit,"ai_count",e)},expression:"formEdit.ai_count"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:"外线号码:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.formEdit.caller_id,callback:function(e){t.$set(t.formEdit,"caller_id",e)},expression:"formEdit.caller_id"}},t._l(t.editData.outLine,function(t,e){return a("el-option",{key:e,attrs:{value:t.out_number,label:t.out_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"语音识别线路:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择识别线路"},model:{value:t.formEdit.asr_number,callback:function(e){t.$set(t.formEdit,"asr_number",e)},expression:"formEdit.asr_number"}},t._l(t.editData.recognition_lies,function(t,e){return a("el-option",{key:e,attrs:{label:t.asr_number,value:t.asr_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"交互方式："}},[a("el-radio-group",{on:{change:t.agentorqueueChangeEdit},model:{value:t.agent_or_queue,callback:function(e){t.agent_or_queue=e},expression:"agent_or_queue"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-radio",{attrs:{label:"mobile"}},[t._v("转手机")]),t._v(" "),a("el-input",{staticStyle:{width:"120px","margin-left":"10px"},model:{value:t.formEdit.asrtomobile,callback:function(e){t.$set(t.formEdit,"asrtomobile",e)},expression:"formEdit.asrtomobile"}})],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-radio",{attrs:{label:"ext"}},[t._v("转分机")]),t._v(" "),a("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:t.formEdit.extNum,callback:function(e){t.$set(t.formEdit,"extNum",e)},expression:"formEdit.extNum"}},t._l(t.AddData.ext_list,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))],1)])],1),t._v(" "),a("el-form-item",{attrs:{label:"振铃时长:"}},[a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},model:{value:t.formEdit.call_duration,callback:function(e){t.$set(t.formEdit,"call_duration",e)},expression:"formEdit.call_duration"}}),t._v("秒\n\t\t\t\t\t\t\t\t")],1),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("呼叫规则")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form1Edit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form1Edit.call_times,callback:function(e){t.$set(t.form1Edit,"call_times",e)},expression:"form1Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form1Edit.template_id,callback:function(e){t.$set(t.form1Edit,"template_id",e)},expression:"form1Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus1Edit},model:{value:t.not_connected_status1Edit,callback:function(e){t.not_connected_status1Edit=e},expression:"not_connected_status1Edit"}},t._l(t.editData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择联系人"},model:{value:t.form1Edit.next_round,callback:function(e){t.$set(t.form1Edit,"next_round",e)},expression:"form1Edit.next_round"}},[a("el-option",{attrs:{label:"第一联系人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("el-form",{ref:"forms",attrs:{model:t.form2Edit,"label-width":"145px"}},[a("el-form-item",{attrs:{label:"第一联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form2Edit.call_times,callback:function(e){t.$set(t.form2Edit,"call_times",e)},expression:"form2Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form2Edit.template_id,callback:function(e){t.$set(t.form2Edit,"template_id",e)},expression:"form2Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus2Edit},model:{value:t.not_connected_status2Edit,callback:function(e){t.not_connected_status2Edit=e},expression:"not_connected_status2Edit"}},t._l(t.editData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2Edit.next_round,callback:function(e){t.$set(t.form2Edit,"next_round",e)},expression:"form2Edit.next_round"}},[a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form3Edit,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"第二联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form3Edit.call_times,callback:function(e){t.$set(t.form3Edit,"call_times",e)},expression:"form3Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form3Edit.template_id,callback:function(e){t.$set(t.form3Edit,"template_id",e)},expression:"form3Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.formEdit,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"是否发送短信:"}},[a("el-select",{style:t.Index.width,model:{value:t.formEdit.sms_rules,callback:function(e){t.$set(t.formEdit,"sms_rules",e)},expression:"formEdit.sms_rules"}},[a("el-option",{attrs:{value:"0",label:"不发送短信"}}),t._v(" "),t._l(t.AddData.smsList,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})})],2)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Index.editTask=!1}}},[t._v("取消")])],1)])],1),t._v(" "),a("div",{staticClass:"dial-header bind"},[a("el-dialog",{attrs:{title:"选择接听的坐席",visible:t.AddQueueData.QueueShow,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.AddQueueData,"QueueShow",e)}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"90px",model:t.AddQueueData},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃策略:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.AddQueueData.strategy,callback:function(e){t.$set(t.AddQueueData,"strategy",e)},expression:"AddQueueData.strategy"}},[a("el-option",{attrs:{value:"ringall",label:"群振"}}),t._v(" "),a("el-option",{attrs:{value:"roundrobin",label:"轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"rrmemory",label:"记忆轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"leastrecent",label:"按最后一次接通分配"}}),t._v(" "),a("el-option",{attrs:{value:"fewestcalls",label:"按呼叫次数分配"}}),t._v(" "),a("el-option",{attrs:{value:"random",label:"随机分配"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃时长:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.AddQueueData.timeout,callback:function(e){t.$set(t.AddQueueData,"timeout",e)},expression:"AddQueueData.timeout"}}),t._v(" "),a("span",[t._v("秒")])],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 最大等待数:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.AddQueueData.maxlen,callback:function(e){t.$set(t.AddQueueData,"maxlen",e)},expression:"AddQueueData.maxlen"}}),t._v(" "),a("span",[t._v("个")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTables",staticStyle:{width:"100%"},attrs:{data:t.AddQueueData.Data,"tooltip-effect":"dark",height:"200"},on:{"selection-change":t.handleSelectionChangeQueue}},[a("el-table-column",{attrs:{type:"selection",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"真实姓名(工号)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"penalty",label:"振铃顺序"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.penalty,disabled:!0}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.QueueSure}},[t._v("确定保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.AddQueueData.QueueShow=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header bind"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"选择接听的坐席",visible:t.EditQueueData.QueueShow,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.EditQueueData,"QueueShow",e)}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"90px",model:t.EditQueueData},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃策略:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.EditQueueData.strategy,callback:function(e){t.$set(t.EditQueueData,"strategy",e)},expression:"EditQueueData.strategy"}},[a("el-option",{attrs:{value:"ringall",label:"群振"}}),t._v(" "),a("el-option",{attrs:{value:"roundrobin",label:"轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"rrmemory",label:"记忆轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"leastrecent",label:"按最后一次接通分配"}}),t._v(" "),a("el-option",{attrs:{value:"fewestcalls",label:"按呼叫次数分配"}}),t._v(" "),a("el-option",{attrs:{value:"random",label:"随机分配"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃时长:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.EditQueueData.timeout,callback:function(e){t.$set(t.EditQueueData,"timeout",e)},expression:"EditQueueData.timeout"}}),t._v(" "),a("span",[t._v("秒")])],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 最大等待数:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.EditQueueData.maxlen,callback:function(e){t.$set(t.EditQueueData,"maxlen",e)},expression:"EditQueueData.maxlen"}}),t._v(" "),a("span",[t._v("个")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTables1",staticStyle:{width:"100%"},attrs:{data:t.EditQueueData.Data,"tooltip-effect":"dark",height:"200"},on:{"selection-change":t.handleSelectionChangeQueueEdit}},[a("el-table-column",{attrs:{type:"selection",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"真实姓名(工号)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"penalty",label:"振铃顺序"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.penalty,disabled:!0}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditQueueSure}},[t._v("确定保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.EditQueueData.QueueShow=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header Main"},[a("el-dialog",{attrs:{title:"组成队列",visible:t.AddQueue.show},on:{"update:visible":function(e){t.$set(t.AddQueue,"show",e)}}},[t._v("\n\t\t\t\t\t\t队列名称:\n\t\t\t\t\t\t"),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名称"},model:{value:t.AddQueue.name,callback:function(e){t.$set(t.AddQueue,"name",e)},expression:"AddQueue.name"}}),t._v(" "),a("span",{staticStyle:{color:"red","font-size":"12px"}},[t._v("*必填")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.AddQueue.date,border:"",height:t.AddQueue.date.length<=1?100:300,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChangeQueue}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"task_coding",label:"任务编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"asr_number",label:"外线号码"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.AddQueue.show=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.queueSure}},[t._v("组成队列")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header queue"},[a("el-dialog",{attrs:{title:"已有队列",visible:t.showQueue.show},on:{"update:visible":function(e){t.$set(t.showQueue,"show",e)}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.showQueue.tableData,border:""}},[a("el-table-column",{attrs:{type:"expand",label:"点击查看详情",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.config_info,function(i,s){return a("el-form",{key:s,staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"队列中机器人名称:"}},[a("span",[t._v(t._s(e.row.config_info[s].name))])]),t._v(" "),a("el-form-item",{attrs:{label:"任务编号:"}},[a("span",[t._v(t._s(e.row.config_info[s].task_coding))])]),t._v(" "),a("el-form-item",{attrs:{label:"外线号码:"}},[a("span",[t._v(t._s(e.row.config_info[s].asr_number))])])],1)})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"队列名称",prop:"queue_name",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"任务编号",prop:"task_coding"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"create_time",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.delQueue(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)])])])},staticRenderFns:[]};var g=i("VU/8")(v,b,!1,function(t){i("06I1")},"data-v-0a7c0e69",null).exports,y=(i("7y0E"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pageChangeCover"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!!this.total,expression:"!!total"}],staticClass:"block"},[e("el-pagination",{attrs:{"current-page":this.page,"page-sizes":[10,20,30,40],"page-size":this.page_size,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)])},staticRenderFns:[]}),x=i("VU/8")({name:"pageChange",props:["total","page","page_size"],methods:{handleSizeChange:function(t){this.$emit("pageSizeChange",t)},handleCurrentChange:function(t){this.$emit("currentPageChange",t)}},data:function(){return{}}},y,!1,null,null,null).exports,w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.conditions}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.conditions.case_name,callback:function(e){t.$set(t.conditions,"case_name",e)},expression:"conditions.case_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:t.conditions.case_mobile,callback:function(e){t.$set(t.conditions,"case_mobile",e)},expression:"conditions.case_mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"证件号"}},[a("el-input",{attrs:{placeholder:"请输入证件号"},model:{value:t.conditions.case_id_num,callback:function(e){t.$set(t.conditions,"case_id_num",e)},expression:"conditions.case_id_num"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{attrs:{placeholder:"请输入关键词"},model:{value:t.conditions.talk_recode,callback:function(e){t.$set(t.conditions,"talk_recode",e)},expression:"conditions.talk_recode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件序列号"}},[a("el-input",{attrs:{placeholder:"请输入案件id"},model:{value:t.conditions.id,callback:function(e){t.$set(t.conditions,"id",e)},expression:"conditions.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件状态"}},[a("el-select",{attrs:{placeholder:"请选择案件状态"},model:{value:t.conditions.case_status,callback:function(e){t.$set(t.conditions,"case_status",e)},expression:"conditions.case_status"}},[a("el-option",{attrs:{label:"请选择案件状态",value:""}}),t._v(" "),t._l(t.caseStatusList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"案件等级"}},[a("el-select",{attrs:{placeholder:"案件等级"},model:{value:t.conditions.case_level,callback:function(e){t.$set(t.conditions,"case_level",e)},expression:"conditions.case_level"}},[a("el-option",{attrs:{label:"请选择案件等级",value:""}}),t._v(" "),t._l(t.levelList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方"}},[a("el-select",{attrs:{filterable:"","filter-method":t.filterFn,placeholder:"请选择委托方"},on:{change:t.filterFn},model:{value:t.special,callback:function(e){t.special=e},expression:"special"}},t._l(t.filterList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"委案金额"}},[a("el-input",{attrs:{type:"number",placeholder:"最低金额"},model:{value:t.conditions.case_money1,callback:function(e){t.$set(t.conditions,"case_money1",e)},expression:"conditions.case_money1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"-"}},[a("el-input",{attrs:{type:"number",placeholder:"最高金额"},model:{value:t.conditions.case_money2,callback:function(e){t.$set(t.conditions,"case_money2",e)},expression:"conditions.case_money2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"通话时长"}},[a("el-input",{attrs:{type:"number",placeholder:"最小时长"},model:{value:t.conditions.talk_time1,callback:function(e){t.$set(t.conditions,"talk_time1",e)},expression:"conditions.talk_time1"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"-"}},[a("el-input",{attrs:{type:"number",placeholder:"最大时长"},model:{value:t.conditions.talk_time2,callback:function(e){t.$set(t.conditions,"talk_time2",e)},expression:"conditions.talk_time2"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"委案时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.conditions.case_date,callback:function(e){t.$set(t.conditions,"case_date",e)},expression:"conditions.case_date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"退案时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.conditions.case_back_date,callback:function(e){t.$set(t.conditions,"case_back_date",e)},expression:"conditions.case_back_date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{attrs:{placeholder:"请选择部门"},on:{change:t.changeFn},model:{value:t.conditions.depart_id,callback:function(e){t.$set(t.conditions,"depart_id",e)},expression:"conditions.depart_id"}},[a("el-option",{attrs:{label:"请选择部门",value:""}}),t._v(" "),t._l(t.departmentList,function(t){return a("el-option",{key:t.id,attrs:{label:t.depart_name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"催收员"}},[a("el-select",{attrs:{placeholder:"请选择催收员"},model:{value:t.conditions.staff_id,callback:function(e){t.$set(t.conditions,"staff_id",e)},expression:"conditions.staff_id"}},[a("el-option",{attrs:{label:"请选择催收员",value:""}}),t._v(" "),t._l(t.staffList,function(t){return a("el-option",{key:t.id,attrs:{label:t.true_name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属批次"}},[a("el-select",{attrs:{placeholder:"请选择批次"},model:{value:t.conditions.batch_id,callback:function(e){t.$set(t.conditions,"batch_id",e)},expression:"conditions.batch_id"}},[a("el-option",{attrs:{label:"请选择批次",value:""}}),t._v(" "),t._l(t.batchList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"标色搜索"}},[a("el-select",{attrs:{placeholder:"标色搜索"},model:{value:t.conditions.case_color,callback:function(e){t.$set(t.conditions,"case_color",e)},expression:"conditions.case_color"}},[a("el-option",{attrs:{label:"正常色",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"玫红色",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"天蓝色",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"紫色",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"翠绿色",value:"5"}}),t._v(" "),a("el-option",{attrs:{label:"棕色",value:"6"}}),t._v(" "),a("el-option",{attrs:{label:"黄色",value:"7"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"最后跟进"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.conditions.case_last_collection_date,callback:function(e){t.$set(t.conditions,"case_last_collection_date",e)},expression:"conditions.case_last_collection_date"}})],1)],1)],1)},staticRenderFns:[]};var k=i("VU/8")({name:"formCaseFirst",props:["conditions","levelList","batchList","departmentList","staffList","filterList","caseStatusList"],data:function(){return{special:""}},methods:{changeFn:function(t){this.$emit("changeFn",t),this.$emit("getDepartmentList",2)},filterFn:function(t){this.$emit("filterFn",t)}}},w,!1,function(t){i("pZTK")},null,null).exports,C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"分配案件："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.distributeFn(2)}}},[t._v("快速分配")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.distributeFn(1)}}},[t._v("手动分配")])],1),t._v(" "),a("el-form-item",{attrs:{label:"案件操作："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.pauseFn("1")}}},[t._v("暂停案件")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.pauseFn("2")}}},[t._v("关闭案件")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.pauseFn("3")}}},[t._v("退案")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){t.pauseFn("0")}}},[t._v("恢复案件")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.changeArea}},[t._v("修改催收区域")])],1),t._v(" "),a("el-form-item",{attrs:{label:"导出操作："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出查询结果")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选案件")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选电话")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出催收记录")])],1),t._v(" "),a("el-form-item",{staticClass:"colorCover",attrs:{label:"案件标色："}},t._l(t.colorList,function(e){return a("el-button",{key:e.code,class:e.class,attrs:{type:"info",size:"medium"},on:{click:function(a){t.colorChange(e.code)}}})}))],1)},staticRenderFns:[]};var D=i("VU/8")({name:"formCaseSecond",props:["form"],data:function(){return{colorList:[{class:"one",code:"1"},{class:"two",code:"2"},{class:"three",code:"3"},{class:"four",code:"4"},{class:"five",code:"5"},{class:"six",code:"6"},{class:"seven",code:"7"}]}},methods:{searchFn:function(){},colorChange:function(t){this.$emit("colorChange",t)},changeArea:function(){this.$emit("changeArea")},pauseFn:function(t){this.$emit("pauseFn",t)},distributeFn:function(t){this.$emit("distributeFn",t)}}},C,!1,function(t){i("+Txt")},"data-v-6d0810aa",null).exports,E={name:"tableCaseMan",props:["tableData"],data:function(){return{tableRowClassName:function(t){var e=t.row;t.rowIndex;return 1==e.case_color?"one":7==e.case_color?"seven":2==e.case_color?"two":3==e.case_color?"three":4==e.case_color?"four":5==e.case_color?"five":6==e.case_color?"six":void 0}}},methods:{handleSelectionChange:function(t){this.$emit("handleSelectionChange",t)},doubleClickFn:function(t,e){We.push({path:"/caseDetails/",query:{id:t.id}})}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData,"row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange,"row-dblclick":t.doubleClickFn}},[a("el-table-column",{attrs:{label:"选框",type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"案件序列号",prop:"case_code"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"case_name"}}),t._v(" "),a("el-table-column",{attrs:{label:"催收区域",prop:"collection_area"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_status",label:"催收状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"是否分配"}}),t._v(" "),a("el-table-column",{attrs:{label:"所属批次",prop:"batch_id"}}),t._v(" "),a("el-table-column",{attrs:{label:"证件号码",prop:"case_id_num"}}),t._v(" "),a("el-table-column",{attrs:{label:"委案金额",prop:"case_money"}}),t._v(" "),a("el-table-column",{attrs:{label:"已还款",prop:"case_paid"}}),t._v(" "),a("el-table-column",{attrs:{label:"上次通话",prop:"case_last_collection_date"}}),t._v(" "),a("el-table-column",{attrs:{label:"委案日期",prop:"case_date"}})],1)},staticRenderFns:[]},T=i("VU/8")(E,S,!1,null,null,null).exports,I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"区域名称","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择区域"},model:{value:t.formTitle.id,callback:function(e){t.$set(t.formTitle,"id",e)},expression:"formTitle.id"}},t._l(t.areaList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},M=i("VU/8")({name:"addChangeArea",props:["formTitle","areaList"],methods:{protectFn:function(){this.$emit("protectFn")},cancelFn:function(){this.$emit("cancelFn")}}},I,!1,null,null,null).exports,F={name:"addDistribute",props:["formDistribute","departmentList","staffList"],methods:{changeFn:function(t){this.$emit("changeFn",t),this.$emit("getDepartmentList",2)},sureToDistribute:function(){this.$emit("sureToDistribute",1)},cancelDistribute:function(){this.$emit("cancelDistribute")},changeStaff:function(t){console.log(t,this.formDistribute)}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"ableDis"},[t._v("可分配的数量为："+t._s(t.formDistribute.case_all_num)+"条")]),t._v(" "),a("el-form",{attrs:{model:t.formDistribute}},[a("el-form-item",{attrs:{label:"分配的数量","label-width":"100px"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formDistribute.split_num,callback:function(e){t.$set(t.formDistribute,"split_num",e)},expression:"formDistribute.split_num"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择部门"},on:{change:t.changeFn},model:{value:t.formDistribute.depart_id,callback:function(e){t.$set(t.formDistribute,"depart_id",e)},expression:"formDistribute.depart_id"}},t._l(t.departmentList,function(t){return a("el-option",{key:t.id,attrs:{label:t.depart_name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"催收员","label-width":"100px"}},[a("el-checkbox-group",{on:{change:t.changeStaff},model:{value:t.formDistribute.staff,callback:function(e){t.$set(t.formDistribute,"staff",e)},expression:"formDistribute.staff"}},t._l(this.staffList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.true_name}},[t._v(t._s(e.true_name))])}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sureToDistribute}},[t._v("确定分配")]),t._v(" "),a("el-button",{on:{click:t.cancelDistribute}},[t._v("取消")])],1)])},staticRenderFns:[]};var L=i("VU/8")(F,A,!1,function(t){i("Yh0N")},"data-v-5fa4b4d0",null).exports,$={components:{"page-change":x,"div-form":k,"second-form":D,"div-table":T,"edit-dialog":M,"second-dialog":L},data:function(){return{distributeNow:!1,bannerTitle:"修改区域",addChangeAreaNow:!1,case_num:"",case_all_money:"",formDistribute:{depart_id:"",staff:[],case_all_num:""},formKey:{key:""},form:{name:"",region:""},levelList:[],batchList:[],departmentList:[],clientList:[],staffList:[],conditions:{case_name:"",case_mobile:"",case_id_num:"",case_status:"",talk_recode:"",case_level:"",batch_id:"",depart_id:"",staff_id:"",case_color:"",id:"",case_client:"",talk_time1:"",talk_time2:"",case_money1:"",case_money2:"",case_money:["",""],case_date:["",""],case_back_date:["",""],case_last_collection_date:["",""],talk_time:["",""]},formInline:{user:"",region:""},id:"",page:1,page_size:10,total:0,addNow:!1,tableData:[],formTitle:{id:""},caseStatusList:[{value:"0",label:"正常状态"},{value:"1",label:"暂停"},{value:"2",label:"关闭"},{value:"3",label:"退案"}],multipList:[],areaList:[],filterList:[],case_id:null}},activated:function(){this.conditions.staff_id=this.$route.query.staff_id,this.conditions.depart_id=this.$route.query.depart_id,this.conditions.batch_id=this.$route.query.batch_id,this.init(),this.getBatchList(),this.getDepartmentList(1),this.filterFn("")},methods:{changeCaseClient:function(e){t=e},handleSelectionChange:function(t){this.multipList=t},getBatchList:function(){var t=this,e={url:"/api/api_backend.php?r=collection/init-search",success:function(e){1==e.statusCode&&(t.levelList=e.info.case_level,t.batchList=e.info.batch_id)}};Object(_.a)(e)},changeFn:function(t){this.id=t},getDepartmentList:function(t){var e=this,a={url:"/api/api_backend.php?r=collection/depart-search",data:{id:this.id},success:function(a){1==a.statusCode&&(1==t?e.departmentList=a.info.depart:2==t&&(e.staffList=a.info.staff),e.id="")}};Object(_.a)(a)},filterFn:function(t){var e=this,a={url:"/api/api_backend.php?r=collection/client-search",data:{case_client:t},success:function(t){1==t.statusCode?(e.filterList=t.info.client,e.conditions.case_client=t.info.client_batch_id):0==t.statusCode&&(e.filterList=[])}};Object(_.a)(a)},init:function(){var t=this,e={case_name:this.conditions.case_name,case_mobile:this.conditions.case_mobile,case_id_num:this.conditions.case_id_num,case_status:this.conditions.case_status,talk_recode:this.conditions.talk_recode,case_level:this.conditions.case_level,batch_id:this.conditions.batch_id,depart_id:this.conditions.depart_id,staff_id:this.conditions.staff_id,case_color:this.conditions.case_color,id:this.conditions.id,case_client:this.conditions.case_client,case_money:[this.conditions.case_money1,this.conditions.case_money2],case_date:this.conditions.case_date,case_back_date:this.conditions.case_back_date,case_last_collection_date:this.conditions.case_last_collection_date,talk_time:[this.conditions.talk_time1,this.conditions.talk_time2]},a={url:"/api/api_backend.php?r=collection/search",data:{data:u()(e),page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info.info.map(function(e){return t.caseStatusList.forEach(function(t){t.value==e.case_status&&(e.case_status=t.label)}),e}),t.total=Number(e.info.total),t.case_all_money=e.info.case_all_money,t.case_num=e.info.case_num,t.case_id=e.info.case_id)}};Object(_.a)(a)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},clearFn:function(){this.conditions={case_name:"",case_mobile:"",case_id_num:"",case_status:"",talk_recode:"",case_level:"",batch_id:"",depart_id:"",staff_id:"",case_color:"",id:"",case_client:"",talk_time1:"",talk_time2:"",case_money1:"",case_money2:"",case_money:["",""],case_date:["",""],case_back_date:["",""],case_last_collection_date:["",""],talk_time:["",""]}},changeArea:function(){var t=this;if(this.multipList.length){this.addChangeAreaNow=!0,this.formTitle={id:""};var e={url:"/api/api_backend.php?r=collection/area-query",success:function(e){1==e.statusCode&&(t.areaList=e.info)}};Object(_.a)(e)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},protectFn:function(){var t=this,e={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:"",case_color:"",collection_area:this.formTitle.id})},success:function(e){1==e.statusCode?(t.formTitle={id:""},t.addChangeAreaNow=!1,t.init(),t.multipList=[],Object(f.Message)({message:e.message,type:"success",duration:3e3})):Object(f.Message)({message:e.message,type:"info",duration:3e3})}};Object(_.a)(e)},cancelFn:function(){this.addChangeAreaNow=!1},pauseFn:function(t){var e=this;if(this.multipList.length){var a={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:t,case_color:"",collection_area:""})},success:function(t){1==t.statusCode?(e.init(),e.multipList=[],Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},colorChange:function(t){var e=this;if(this.multipList.length){var a={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:"",case_color:t,collection_area:""})},success:function(t){1==t.statusCode?(e.init(),e.multipList=[],Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},distributeFn:function(t){var e=this;1==t&&(this.distributeNow=!0);var a=this.formDistribute;a.split_status=t,a.case_id=this.case_id;var i={url:"/api/api_backend.php?r=collection/case-split",data:{data:u()(a)},success:function(t){1==t.statusCode?e.formDistribute.case_all_num=t.info.case_all_num:Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(i)},cancelDistribute:function(){this.distributeNow=!1},sureToDistribute:function(t){var e=this.formDistribute;e.split_status=t,e.case_id=this.case_id;var a={url:"/api/api_backend.php?r=collection/case-split",data:{data:u()(e)},success:function(t){1==t.statusCode||Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cover"},[a("div-form",{attrs:{conditions:t.conditions,levelList:t.levelList,filterList:t.filterList,batchList:t.batchList,departmentList:t.departmentList,staffList:t.staffList,clientList:t.clientList,caseStatusList:t.caseStatusList},on:{changeFn:function(e){t.changeFn(e)},getDepartmentList:function(e){t.getDepartmentList(e)},filterFn:function(e){t.filterFn(e)}}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.init}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.clearFn}},[t._v("清空")])],1),t._v(" "),a("div",[a("div",{staticClass:"blueB"},[a("second-form",{attrs:{form:t.form},on:{changeArea:function(e){t.changeArea(e)},pauseFn:function(e){t.pauseFn(e)},colorChange:function(e){t.colorChange(e)},distributeFn:function(e){t.distributeFn(e)}}})],1)]),t._v(" "),a("div",{staticClass:"tableCover"},[a("div",{staticClass:"totalT"},[t._v("\r\n\t\t\t查询统计：\t案件总数："+t._s(t.case_num)+"件，总金额：￥"+t._s(t.case_all_money)+"\r\n\t\t")]),t._v(" "),a("div-table",{attrs:{tableData:t.tableData},on:{handleSelectionChange:function(e){t.handleSelectionChange(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addChangeAreaNow},on:{"update:visible":function(e){t.addChangeAreaNow=e}}},[a("edit-dialog",{attrs:{areaList:t.areaList,formTitle:t.formTitle},on:{protectFn:function(e){t.protectFn(e)},cancelFn:function(e){t.cancelFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"手动分配",visible:t.distributeNow},on:{"update:visible":function(e){t.distributeNow=e}}},[a("second-dialog",{attrs:{formDistribute:t.formDistribute,departmentList:t.departmentList,staffList:t.staffList},on:{cancelDistribute:function(e){t.cancelDistribute(e)},sureToDistribute:function(e){t.sureToDistribute(e)},changeFn:function(e){t.changeFn(e)},getDepartmentList:function(e){t.getDepartmentList(e)}}})],1)],1)])},staticRenderFns:[]};var j=i("VU/8")($,O,!1,function(t){i("1KUS")},null,null).exports,N={name:"addDataMan",props:["id","title","formTitle","fileList","areaList","typeList","clientList","action"],computed:{formShow:function(){return"导入资料"==this.title},data:function(){if(this.formShow)return this.formTitle;var t={};return t.batch_id=this.id,t}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},submitUpload:function(){this.$refs.upload.submit()},successFn:function(t,e,a){1==t.statusCode?(this.$emit("changeAddNow",!1),this.$emit("init"),Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"erro",duration:3e3})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.formShow?a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"批次名称","label-width":"70px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.batch_name,callback:function(e){t.$set(t.formTitle,"batch_name",e)},expression:"formTitle.batch_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"催收区域","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择催收区域"},model:{value:t.formTitle.collection_area,callback:function(e){t.$set(t.formTitle,"collection_area",e)},expression:"formTitle.collection_area"}},t._l(t.areaList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择委托方"},model:{value:t.formTitle.client,callback:function(e){t.$set(t.formTitle,"client",e)},expression:"formTitle.client"}},t._l(t.clientList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"案件类型","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择案件类型"},model:{value:t.formTitle.case_type,callback:function(e){t.$set(t.formTitle,"case_type",e)},expression:"formTitle.case_type"}},t._l(t.typeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":"70px"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.formTitle.remark,callback:function(e){t.$set(t.formTitle,"remark",e)},expression:"formTitle.remark"}})],1)],1):t._e(),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.action,data:t.data,"on-success":t.successFn,"file-list":t.fileList,"auto-upload":!1,limit:1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.formShow,expression:"formShow"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("确定上传")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.formShow,expression:"!formShow"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.submitUpload}},[t._v("确定追加")])],1)],1)},staticRenderFns:[]};var R=i("VU/8")(N,z,!1,function(t){i("/Mhx")},null,null).exports,q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTask}},[a("el-form-item",{attrs:{label:"任务列表","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择任务"},model:{value:t.formTask.value,callback:function(e){t.$set(t.formTask,"value",e)},expression:"formTask.value"}},t._l(t.taskList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sureToAddTask}},[t._v("确认添加")])],1)])},staticRenderFns:[]},Q=i("VU/8")({name:"addTask",props:["formTask","taskList"],methods:{sureToAddTask:function(){this.$emit("sureToAddTask")}}},q,!1,null,null,null).exports;var U=function(t,e,a){return(e-1)*a+t+1},B={name:"tableTemplate",props:["tableData","templateUse","page","page_size"],methods:{editFn:function(t){this.$emit("editFn",t)},downloadFn:function(t){console.log(this.templateUse),this.$emit("downloadFn",t)},deleteFn:function(t){this.$emit("deleteFn",t)},methodIndex:function(t){return U(t,this.page,this.page_size)}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"模板名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.templateUse,expression:"templateUse"}],attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(a){t.downloadFn(e.row)}}},[t._v("下载")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.templateUse,expression:"templateUse"}],attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]},V=i("VU/8")(B,P,!1,null,null,null).exports,W={name:"addDownload",components:{"div-table":V,"page-change":x},created:function(){this.init()},data:function(){return{templateUse:!1,page:1,page_size:10,total:0,tableData:[]}},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(_.a)(e)},downloadFn:function(t){window.open("/api/api_backend.php?r=system-setting/template-download&id="+t.id)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div-table",{attrs:{templateUse:t.templateUse,tableData:t.tableData,page:t.page,page_size:t.page_size},on:{downloadFn:function(e){t.downloadFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1)},staticRenderFns:[]},Z=i("VU/8")(W,Y,!1,null,null,null).exports,G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"催收区域"}},[a("el-select",{attrs:{placeholder:"请选择催收区域"},model:{value:t.formInline.collection_area,callback:function(e){t.$set(t.formInline,"collection_area",e)},expression:"formInline.collection_area"}},t._l(t.areaList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方"}},[a("el-select",{attrs:{placeholder:"请选择委托方"},model:{value:t.formInline.client,callback:function(e){t.$set(t.formInline,"client",e)},expression:"formInline.client"}},t._l(t.clientList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"案件类型"}},[a("el-select",{attrs:{placeholder:"请选择案件类型"},model:{value:t.formInline.case_type,callback:function(e){t.$set(t.formInline,"case_type",e)},expression:"formInline.case_type"}},t._l(t.typeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.addFn(!0)}}},[t._v("搜索")])],1)],1)},staticRenderFns:[]},J={name:"tableDataMan",props:["tableData","addTask","page","page_size"],methods:{deleteFn:function(t){this.$emit("deleteFn",t)},exportFn:function(t){this.$emit("exportFn",t)},addToFn:function(t){this.$emit("addToFn",t)},addToTask:function(t){this.$emit("addToTask",t)},rowDblclick:function(t,e){h.a.commit("changeBatchId",t.id),We.push({path:"/caseManagement/",query:{batch_id:t.id}})},methodIndex:function(t){return U(t,this.page,this.page_size)}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData},on:{"row-dblclick":t.rowDblclick}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"collection_area",label:"催收区域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client",label:"委托方"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_type",label:"案件类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"row_count",label:"户数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"总金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"批次备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",plain:"",round:""},on:{click:function(a){t.addToFn(e.row)}}},[t._v("追加")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",plain:"",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info",plain:"",round:""},on:{click:function(a){t.exportFn(e.row)}}},[t._v("导出")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:"",round:""},on:{click:function(a){t.addToTask(e.row)}}},[t._v("添加到任务")])]}}])})],1)],1)},staticRenderFns:[]},K={components:{"edit-dialog":R,"page-change":x,"div-form":i("VU/8")({name:"formDataMan",props:["formInline","areaList","typeList","clientList"],methods:{addFn:function(){this.$emit("addFn")}}},G,!1,null,null,null).exports,"div-table":i("VU/8")(J,H,!1,null,null,null).exports,"div-dialog":Z,"task-dialog":Q},data:function(){return{id:"",batch_id:"",page:1,page_size:10,total:0,bannerTitle:"导入资料",addNow:!1,addDown:!1,addTask:!1,tableData:[],formTitle:{batch_name:"",collection_area:"",client:"",case_type:"",remark:""},fileList:[],action:"",formInline:{collection_area:"",client:"",case_type:""},areaList:[],clientList:[],typeList:[],taskList:[],tableDownload:[],formTask:{value:""}}},activated:function(){this.init(),this.getAreaList(),this.getClientList(),this.getTypeList()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/case-batch-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode?(t.tableData=e.info.info,t.total=Number(e.info.total)):0==e.statusCode&&(t.tableData=[],t.total=t.tableData.length)}};Object(_.a)(e)},searchFn:function(){var t=this,e=this.formInline;e.page=this.page,e.page_size=this.page_size;var a={url:"/api/api_backend.php?r=asrcall-case-batch/search-batch-list",data:e,success:function(e){1==e.statusCode?(t.tableData=e.info,t.total=Number(e.info.length)):0==e.statusCode&&(t.tableData=[],t.total=0)}};Object(_.a)(a)},getAreaList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/collection-area",success:function(e){1==e.statusCode&&(t.areaList=e.info)}};Object(_.a)(e)},getClientList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/client",success:function(e){1==e.statusCode&&(t.clientList=e.info)}};Object(_.a)(e)},getTypeList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/case-type",success:function(e){1==e.statusCode&&(t.typeList=e.info)}};Object(_.a)(e)},addFn:function(t){this.bannerTitle="导入资料",this.addNow=t,this.id="",this.fileList=[],this.action="/api/api_backend.php?r=asrcall-case-batch/import-batch",this.formTitle={batch_name:"",collection_area:"",client:"",case_type:"",remark:""}},changeAddNow:function(t){this.addNow=t},downloadFn:function(t){this.addDown=t},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},addToFn:function(t){this.bannerTitle="资料追加",this.id=t.id,this.addNow=!0,this.fileList=[],this.action="/api/api_backend.php?r=asrcall-case-batch/superaddition"},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=asrcall-case-batch/fake-del-batch",data:{batch_id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})},exportFn:function(t){window.open("/api/api_backend.php?r=asrcall-case-batch/export-batch&batch_id="+t.id)},addToTask:function(t){var e=this;this.addTask=!0,this.batch_id=t.id,this.formTask={value:""};var a={url:"/api/api_backend.php?r=asrcall-case-batch/config-list",success:function(t){1==t.statusCode?e.taskList=t.info:0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)},sureToAddTask:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/add-to-config",data:{batch_id:this.batch_id,config_id:this.formTask.value},success:function(e){1==e.statusCode?(t.init(),t.addTask=!1,t.batch_id="",t.formTask={value:""},Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(e)}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",{staticClass:"upB"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.addFn(!0)}}},[t._v("导入资料")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){t.downloadFn(!0)}}},[t._v("下载模板")])],1),t._v(" "),a("div-form",{attrs:{formInline:t.formInline,areaList:t.areaList,typeList:t.typeList,clientList:t.clientList},on:{addFn:function(e){t.searchFn(e)}}}),t._v(" "),a("div-table",{attrs:{tableData:t.tableData,addTask:t.addTask,page:t.page,page_size:t.page_size},on:{deleteFn:function(e){t.deleteFn(e)},exportFn:function(e){t.exportFn(e)},addToFn:function(e){t.addToFn(e)},addToTask:function(e){t.addToTask(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}}),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,action:t.action,title:t.bannerTitle,formTitle:t.formTitle,fileList:t.fileList,areaList:t.areaList,typeList:t.typeList,clientList:t.clientList},on:{init:function(e){t.init(e)},changeAddNow:function(e){t.changeAddNow(e)},addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"下载模板",visible:t.addDown},on:{"update:visible":function(e){t.addDown=e}}},[a("div-dialog")],1),t._v(" "),a("el-dialog",{attrs:{title:"添加到外呼任务",visible:t.addTask},on:{"update:visible":function(e){t.addTask=e}}},[a("task-dialog",{attrs:{formTask:t.formTask,taskList:t.taskList},on:{sureToAddTask:function(e){t.sureToAddTask(e)}}})],1)],1)},staticRenderFns:[]};var tt=i("VU/8")(K,X,!1,function(t){i("7lUQ")},null,null).exports,et=i("504h"),at=i.n(et),it={data:function(){return{option:[],batch_id:"",loading:!0,dates:[{name:"",data:[]},{name:"",data:[]}],x:[],tip:{all:"",conn:"",per_conn:""}}},activated:function(){this.initBatch(),this.init()},methods:{initBatch:function(){var t=this,e={url:"/api/api_backend.php?r=call-stat/batch-list",success:function(e){t.option=e.info}};Object(_.a)(e)},changeBatch:function(t){this.batch_id=t,this.init()},init:function(){var t=this,e={url:"/api/api_backend.php?r=call-stat/data-show",data:{batch_id:this.batch_id},success:function(e){t.tip.all=e.info.data.all,t.tip.conn=e.info.data.conn,t.tip.per_conn=e.info.data.per_conn,t.x=e.info.chart.map(function(t){return t.time}),t.dates[0].name="拨打电话量",t.dates[0].data=e.info.chart.map(function(t){return Number(t.num)}),t.dates[1].name="接通电话量",t.dates[1].data=e.info.chart.map(function(t){return Number(t.connect)}),t.loading=!1,t.loadchart(t.x,t.dates),Object(_.e)(e)}};Object(_.a)(e)},exportData:function(){window.open("/api/api_backend.php?r=call-stat/export&batch_id="+this.batch_id)},loadchart:function(t,e){at.a.chart("container",{title:{text:"通话量统计"},subtitle:{},yAxis:{title:{text:"通话量"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},xAxis:{categories:t,labels:{autoRotationLimit:80,autoRotation:[-30]}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n      批次名称:\n      "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeBatch},model:{value:t.batch_id,callback:function(e){t.batch_id=e},expression:"batch_id"}},t._l(t.option,function(t,e){return a("el-option",{key:e,attrs:{label:t.batch_name,value:t.id}})}))],1),t._v(" "),a("div",{staticStyle:{"padding-bottom":"10px","font-size":"20px",display:"flex","justify-content":"space-between"}},[a("div",[t._v("\n        案件总量"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.all))]),t._v("; \n        接通总量 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.conn))]),t._v(" ;接通率"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.per_conn))])]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",disabled:""==t.batch_id},on:{click:t.exportData}},[t._v("导出数据")])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"container"}})])},staticRenderFns:[]};var nt=i("VU/8")(it,st,!1,function(t){i("tbrN")},"data-v-b74da782",null).exports,ot={components:{"page-change":x},data:function(){return{isIndeterminate1:!0,isIndeterminate2:!0,isIndeterminate3:!0,isIndeterminate1Edit:!0,isIndeterminate2Edit:!0,isIndeterminate3Edit:!0,infos:[],addOrEdit:{addShow:!1,editShow:!1},AddData:{call_result:[]},Index:{width:"width:200px",width1:"width:120px"},form:{name:"",remark:""},round_info:[],not_connected_status1:[],not_connected_status2:[],not_connected_status3:[],not_connected_content:"",form1:{round:"0",times:"",connected_send:"0",not_connected_send:"0",not_connected_status:"",connected_content:"",not_connected_content:""},form2:{round:"1",times:"",connected_send:"0",not_connected_send:"0",not_connected_status:"",connected_content:"",not_connected_content:""},form3:{round:"2",times:"",connected_send:"0",not_connected_send:"0",not_connected_status:"",connected_content:"",not_connected_content:""},data1:{round:"0",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},data2:{round:"1",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},data3:{round:"2",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},Dates:[],formEdit:{},round_rule_edit:[],not_connected_status1Edit:[],not_connected_status2Edit:[],not_connected_status3Edit:[],form1Edit:{},form2Edit:{},form3Edit:{}}},activated:function(){this.init()},methods:{clone:function(t){return JSON.parse(u()(t))},init:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/list",success:function(e){t.infos=e.info}};Object(_.a)(e)},addInit:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/add-init",success:function(e){t.AddData.call_result=e.info.call_result_status.map(function(t){return t.id=t.id.toString(),t})}};Object(_.a)(e)},changeStatus1:function(t){t.length<this.AddData.call_result.length&&(this.isIndeterminate=!0),this.form1.not_connected_status=this.not_connected_status1.join(",")},changeStatus2:function(){val.length<this.AddData.call_result.length&&(this.isIndeterminate=!0),this.form2.not_connected_status=this.not_connected_status2.join(",")},changeStatus3:function(){val.length<this.AddData.call_result.length&&(this.isIndeterminate=!0),this.form3.not_connected_status=this.not_connected_status3.join(",")},addTask:function(){this.addOrEdit.addShow=!0,this.addInit()},handleCheckAllChange1:function(t){this.not_connected_status1=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form1.not_connected_status=this.not_connected_status1.join(","),this.isIndeterminate1=!1},handleCheckAllChange2:function(t){this.not_connected_status2=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form2.not_connected_status=this.not_connected_status2.join(","),this.isIndeterminate2=!1},handleCheckAllChange3:function(t){this.not_connected_status3=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form3.not_connected_status=this.not_connected_status3.join(","),this.isIndeterminate3=!1},handleCheckAllChange1Edit:function(t){this.not_connected_status1Edit=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form1Edit.not_connected_status=this.not_connected_status1Edit.join(","),this.isIndeterminate1Edit=!1},handleCheckAllChange2Edit:function(t){this.not_connected_status2Edit=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form2Edit.not_connected_status=this.not_connected_status2Edit.join(","),this.isIndeterminate2Edit=!1},handleCheckAllChange3Edit:function(t){this.not_connected_status3Edit=t?this.AddData.call_result.map(function(t){return t.id}):[],this.form3Edit.not_connected_status=this.not_connected_status3Edit.join(","),this.isIndeterminate3Edit=!1},onSubmit:function(){var t=this;this.round_info[0]=this.form1,this.round_info[1]=this.form2,this.round_info[2]=this.form3;var e=this.form;e.round_info=u()(this.round_info);var a={url:"/api/api_backend.php?r=sms-rule/add-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.addOrEdit.addShow=!1,t.form1=t.clone(t.data1),t.form2=t.clone(t.data2),t.form3=t.clone(t.data3),t.not_connected_status1=[],t.not_connected_status2=[],t.not_connected_status3=[],t.form.name="",t.form.remark="",t.init()):t.addOrEdit.addShow=!0}};Object(_.a)(a)},edit:function(t){var e=this;this.addOrEdit.editShow=!0,this.addInit();var a={url:"/api/api_backend.php?r=sms-rule/info",data:{id:t},success:function(t){e.formEdit.name=t.info.rule_info.name,e.formEdit.remark=t.info.rule_info.remark,e.formEdit.id=t.info.rule_info.id;var a=t.info.round_list.filter(function(t){if(0==t.round)return t}),i=t.info.round_list.filter(function(t){if(1==t.round)return t}),s=t.info.round_list.filter(function(t){if(2==t.round)return t});e.form1Edit=a[0],e.form2Edit=i[0],e.form3Edit=s[0],e.not_connected_status1Edit=a[0].not_connected_status.split(","),e.not_connected_status2Edit=i[0].not_connected_status.split(","),e.not_connected_status3Edit=s[0].not_connected_status.split(","),e.not_connected_status1Edit.length==e.AddData.call_result.length?e.isIndeterminate1Edit=!0:e.isIndeterminate1Edit=!1,e.not_connected_status2Edit.length==e.AddData.call_result.length?e.isIndeterminate2Edit=!0:e.isIndeterminate2Edit=!1,e.not_connected_status3Edit.length==e.AddData.call_result.length?e.isIndeterminate3Edit=!0:e.isIndeterminate3Edit=!1}};Object(_.a)(a)},changeStatus1Edit:function(){this.form1Edit.not_connected_status=this.not_connected_status1Edit.join(",")},changeStatus2Edit:function(){this.form2Edit.not_connected_status=this.not_connected_status2Edit.join(",")},changeStatus3Edit:function(){this.form3Edit.not_connected_status=this.not_connected_status3Edit.join(",")},onSubmitEdit:function(){var t=this;this.round_rule_edit[0]=this.form1Edit,this.round_rule_edit[1]=this.form2Edit,this.round_rule_edit[2]=this.form3Edit;var e=this.formEdit;e.round_info=u()(this.round_rule_edit);var a={url:"/api/api_backend.php?r=sms-rule/edit-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.addOrEdit.editShow=!1,t.init()):t.addOrEdit.editShow=!0}};Object(_.a)(a)},del:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=sms-rule/del",data:{id:t},success:function(t){e.$alert(t.message),e.init()}};Object(_.a)(a)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"AIadd",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.addTask(1)}}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加方案")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"dial-header addTask1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加方案",visible:t.addOrEdit.addShow},on:{"update:visible":function(e){t.$set(t.addOrEdit,"addShow",e)}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"方案名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送方式"}})],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"32%",display:"inline-block",background:"#fff","border-right":"1px solid #dcdfe6"},attrs:{model:t.form1,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"本人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1.connected_send,callback:function(e){t.$set(t.form1,"connected_send",e)},expression:"form1.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1.connected_content,callback:function(e){t.$set(t.form1,"connected_content",e)},expression:"form1.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"本人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1.not_connected_send,callback:function(e){t.$set(t.form1,"not_connected_send",e)},expression:"form1.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form1.times,callback:function(e){t.$set(t.form1,"times",e)},expression:"form1.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate1},on:{change:t.handleCheckAllChange1}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus1},model:{value:t.not_connected_status1,callback:function(e){t.not_connected_status1=e},expression:"not_connected_status1"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1.not_connected_content,callback:function(e){t.$set(t.form1,"not_connected_content",e)},expression:"form1.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"32%",display:"inline-block",background:"#fff","border-right":"1px solid #dcdfe6"},attrs:{model:t.form2,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"第一联系人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.connected_send,callback:function(e){t.$set(t.form2,"connected_send",e)},expression:"form2.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2.connected_content,callback:function(e){t.$set(t.form2,"connected_content",e)},expression:"form2.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"第一联系人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.not_connected_send,callback:function(e){t.$set(t.form2,"not_connected_send",e)},expression:"form2.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form2.times,callback:function(e){t.$set(t.form2,"times",e)},expression:"form2.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate2},on:{change:t.handleCheckAllChange2}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus2},model:{value:t.not_connected_status2,callback:function(e){t.not_connected_status2=e},expression:"not_connected_status2"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2.not_connected_content,callback:function(e){t.$set(t.form2,"not_connected_content",e)},expression:"form2.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"32%",display:"inline-block",background:"#fff"},attrs:{model:t.form3,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"第二联系人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form3.connected_send,callback:function(e){t.$set(t.form3,"connected_send",e)},expression:"form3.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3.connected_content,callback:function(e){t.$set(t.form3,"connected_content",e)},expression:"form3.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"第二联系人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form3.not_connected_send,callback:function(e){t.$set(t.form3,"not_connected_send",e)},expression:"form3.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form3.times,callback:function(e){t.$set(t.form3,"times",e)},expression:"form3.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate3},on:{change:t.handleCheckAllChange3}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus3},model:{value:t.not_connected_status3,callback:function(e){t.not_connected_status3=e},expression:"not_connected_status3"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3.not_connected_content,callback:function(e){t.$set(t.form3,"not_connected_content",e)},expression:"form3.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrEdit.addShow=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header addTask1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑方案",visible:t.addOrEdit.editShow},on:{"update:visible":function(e){t.$set(t.addOrEdit,"editShow",e)}}},[a("el-form",{ref:"form",attrs:{model:t.formEdit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"方案名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.formEdit.name,callback:function(e){t.$set(t.formEdit,"name",e)},expression:"formEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送方式"}})],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"32%",display:"inline-block",background:"#fff","border-right":"1px solid #dcdfe6"},attrs:{model:t.form1Edit,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"本人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1Edit.connected_send,callback:function(e){t.$set(t.form1Edit,"connected_send",e)},expression:"form1Edit.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1Edit.connected_content,callback:function(e){t.$set(t.form1Edit,"connected_content",e)},expression:"form1Edit.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"本人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1Edit.not_connected_send,callback:function(e){t.$set(t.form1Edit,"not_connected_send",e)},expression:"form1Edit.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form1Edit.times,callback:function(e){t.$set(t.form1Edit,"times",e)},expression:"form1Edit.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate1Edit},on:{change:t.handleCheckAllChange1Edit}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus1Edit},model:{value:t.not_connected_status1Edit,callback:function(e){t.not_connected_status1Edit=e},expression:"not_connected_status1Edit"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1Edit.not_connected_content,callback:function(e){t.$set(t.form1Edit,"not_connected_content",e)},expression:"form1Edit.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"32%",display:"inline-block",background:"#fff","border-right":"1px solid #dcdfe6"},attrs:{model:t.form2Edit,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"第一联系人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2Edit.connected_send,callback:function(e){t.$set(t.form2Edit,"connected_send",e)},expression:"form2Edit.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2Edit.connected_content,callback:function(e){t.$set(t.form2Edit,"connected_content",e)},expression:"form2Edit.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"第一联系人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2Edit.not_connected_send,callback:function(e){t.$set(t.form2Edit,"not_connected_send",e)},expression:"form2Edit.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form2Edit.times,callback:function(e){t.$set(t.form2Edit,"times",e)},expression:"form2Edit.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate2Edit},on:{change:t.handleCheckAllChange2Edit}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus2Edit},model:{value:t.not_connected_status2Edit,callback:function(e){t.not_connected_status2Edit=e},expression:"not_connected_status2Edit"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2Edit.not_connected_content,callback:function(e){t.$set(t.form2Edit,"not_connected_content",e)},expression:"form2Edit.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"31%",display:"inline-block",background:"#fff"},attrs:{model:t.form3Edit,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"第二联系人号码接通:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form3Edit.connected_send,callback:function(e){t.$set(t.form3Edit,"connected_send",e)},expression:"form3Edit.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3Edit.connected_content,callback:function(e){t.$set(t.form3Edit,"connected_content",e)},expression:"form3Edit.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"第二联系人号码未接通:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form3Edit.not_connected_send,callback:function(e){t.$set(t.form3Edit,"not_connected_send",e)},expression:"form3Edit.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form3Edit.times,callback:function(e){t.$set(t.form3Edit,"times",e)},expression:"form3Edit.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate3Edit},on:{change:t.handleCheckAllChange3Edit}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:t.changeStatus3Edit},model:{value:t.not_connected_status3Edit,callback:function(e){t.not_connected_status3Edit=e},expression:"not_connected_status3Edit"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3Edit.not_connected_content,callback:function(e){t.$set(t.form3Edit,"not_connected_content",e)},expression:"form3Edit.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.formEdit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.formEdit.remark,callback:function(e){t.$set(t.formEdit,"remark",e)},expression:"formEdit.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitEdit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrEdit.editShow=!1}}},[t._v("取消")])],1)],1)],1)],1)])])},staticRenderFns:[]};var rt=i("VU/8")(ot,lt,!1,function(t){i("0R25")},null,null).exports,ct={data:function(){var t=this;return{width:"width:160px",pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(e){if(""!=t.formRecord.start_time){var a=t.formRecord.start_time;return e.getTime()<a||e.getTime()>Date.now()}return e.getTime()>Date.now()}},total:0,currentPage:1,formRecord:{page:1,page_size:10,start_time:"",end_time:""},tableData:[]}},activated:function(){this.sendRecord(0)},methods:{index:function(t){return(this.formRecord.page-1)*this.formRecord.page_size+t+1},sendRecord:function(t){var e=this,a=this.formRecord;0==t?(a.page=this.formRecord.page,a.page_size=this.formRecord.page_size):1==t&&(a.page=1,a.page_size=10);var i={url:"/api/api_backend.php?r=sms-log/sms-log",data:a,success:function(t){1==t.statusCode?(e.tableData=t.info.info,e.total=parseInt(t.info.total)):(e.tableData=[],e.total=0)}};Object(_.a)(i)},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.formRecord.page_size=t,this.sendRecord(0)},handleCurrentChange:function(t){this.formRecord.page=t,this.sendRecord(0)}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"seachForm"},[a("el-form",{ref:"formRecord",attrs:{model:t.formRecord,"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"接受号码:"}},[a("el-input",{style:t.width,model:{value:t.formRecord.mobile,callback:function(e){t.$set(t.formRecord,"mobile",e)},expression:"formRecord.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送状态："}},[a("el-select",{style:t.width,attrs:{placeholder:"请选择状态"},model:{value:t.formRecord.status,callback:function(e){t.$set(t.formRecord,"status",e)},expression:"formRecord.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"发送成功",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"发送失败",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送时间："}},[a("el-date-picker",{style:t.width,attrs:{type:"date",placeholder:"开始时间","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions0,clearable:!1},model:{value:t.formRecord.start_time,callback:function(e){t.$set(t.formRecord,"start_time",e)},expression:"formRecord.start_time"}}),t._v("~\n            "),a("el-date-picker",{style:t.width,attrs:{type:"date",placeholder:"结束时间","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions1,clearable:!1},model:{value:t.formRecord.end_time,callback:function(e){t.$set(t.formRecord,"end_time",e)},expression:"formRecord.end_time"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sendRecord(1)}}},[t._v("立即搜索")])],1)],1),t._v(" "),a("div",{staticClass:"TableList"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:"",stripe:"",height:t.total>0?500:100}},[a("el-table-column",{attrs:{type:"index",index:t.index,label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"接收号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"发送内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"发送状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("成功")]):a("span",[t._v("失败")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"发送时间"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!t.total,expression:"!!total"}],staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,15,20,25],"page-size":t.formRecord.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])])},staticRenderFns:[]};var ut=i("VU/8")(ct,dt,!1,function(t){i("eT0X")},null,null).exports,pt={data:function(){return{userList:[],active:"",messageList:[],form:{id:"",mobile:"",content:"",sms_id:""},rightList:[]}},activated:function(){this.AddInitSms()},methods:{AddInitSms:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/list",success:function(e){e.info.length>0?(t.messageList=e.info,t.rightData(t.messageList[0].id),t.active=t.messageList[0].id):t.rightList=[]}};Object(_.a)(e)},getContent:function(t){this.form.content=this.rightList[t].content,this.form.sms_id=this.rightList[t].id},sendNow:function(){var t=this,e=this.form;e.id=this.active;var a={url:"/api/api_backend.php?r=sms-rule/send-sms",data:e,success:function(e){t.$alert(e.message),1==e.statusCode&&(t.active=t.messageList[0].id,t.form.mobile="",t.form.content="")}};Object(_.a)(a)},handleClick:function(t,e){this.form.id=t.name,this.rightData(t.name)},rightData:function(t){var e=this;this.rightList=[];var a={url:"/api/api_backend.php?r=sms-rule/round-list",data:{id:t},success:function(t){e.rightList=t.info}};Object(_.a)(a)}}},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"smssend"},[a("div",{staticStyle:{float:"left",width:"40%"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("div",[a("el-form-item",{attrs:{label:"发送号码："}},[a("el-input",{staticStyle:{width:"300px"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"短信内容："}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:5},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),t._v(" "),a("div",{staticStyle:{color:"red"}},[t._v("提示：当前一次只能发送一条短信")])],1)],1),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-left":"200px"},attrs:{type:"primary"},on:{click:t.sendNow}},[t._v("立即发送")])],1)])],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"45%",border:"1px solid #409EFF","border-radius":"5px"}},[a("div",{staticStyle:{"font-size":"18px","text-align":"center","margin-bottom":"10px"}},[t._v("短信模板")]),t._v(" "),a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left"},on:{"tab-click":t.handleClick},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._l(t.messageList,function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.id}})}),t._v(" "),a("ul",{staticStyle:{display:"block"}},t._l(t.rightList,function(e,i){return a("li",{staticStyle:{border:"1px solid #eee",background:"#fff",cursor:"pointer",height:"30px","line-height":"30px","text-align":"center"},on:{click:function(e){t.getContent(i)}}},[t._v(t._s(e.content))])}))],2)],1)])])},staticRenderFns:[]};var _t=i("VU/8")(pt,mt,!1,function(t){i("Emgi")},null,null).exports,ft={components:{"page-change":x},data:function(){return{saving:!1,page:1,total:0,page_size:10,loading:!0,keyword:"",infos:[],AddTpl:!1,AddData:{sound_type:[],select_tpl_id:[],sound:[]},select_tpl_id:"0",AddTplData:{name:"",sound_type:"真人录音",sound_id:"",template_id:"0"},AddTplData1:{name:"",sound_type:"真人录音",sound_id:"",template_id:"0"},dataClone:{},AddSound:!1,AddSoundData:{name:""},EditTpl:!1,EditTplData:{name:"",sound_type:"",sound_name:"",template_id:"",forcehangup:""}}},activated:function(){this.init()},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},init:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){t.infos=e.info.info,t.total=parseInt(e.info.total),t.loading=!1}};Object(_.a)(e)},addListTpl:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list-all",success:function(e){t.AddData.select_tpl_id=e.info.map(function(t){return{id:t.id,tpl_name:t.name}})}};Object(_.a)(e)},addListSound:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-list-all",success:function(e){t.AddData.sound=e.info}};Object(_.a)(e)},addTpl:function(){this.AddTpl=!0,this.AddData.sound_type=[{sound_type:"真人录音"},{sound_type:"人工合成"}],this.addListTpl(),this.addListSound()},clone:function(t){return JSON.parse(u()(t))},AddSave:function(){var t=this;this.saving=!0;var e=this.AddTplData;"人工合成"==this.AddTplData.sound_type?e.sound_type=0:"真人录音"==this.AddTplData.sound_type&&(e.sound_type=1);var a={url:"/api/api_backend.php?r=template/template-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.AddTpl=!1,t.init(),t.AddTplData=t.clone(t.AddTplData1)):t.AddTpl=!0,t.saving=!1}};Object(_.a)(a)},addSound:function(){this.AddSound=!0},AddSoundSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-add",data:{name:this.AddSoundData.name},success:function(e){t.$alert(e.message),1==e.statusCode?(t.AddSound=!1,t.addListSound()):t.AddSound=!0}};Object(_.a)(e)},edit:function(t,e){var a=this;this.EditTpl=!0;var i={url:"/api/api_backend.php?r=template/template-info",data:{template_id:e.id},success:function(t){a.EditTplData=t.info,a.EditTplData.template_id=t.info.id}};Object(_.a)(i)},EditSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-edit",data:{template_id:this.EditTplData.template_id,name:this.EditTplData.name,forcehangup:this.EditTplData.forcehangup},success:function(e){1==e.statusCode?(t.EditTpl=!1,t.init()):t.EditTpl=!0,t.$alert(e.message)}};Object(_.a)(e)},del:function(t,e){var a=this;this.$confirm("确定删除语音模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/template-del",data:{template_id:e.id},success:function(t){1==t.statusCode&&a.init(),a.$alert(t.message)}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},onSubmit:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-search",data:{keywords:this.keyword},success:function(e){t.total=0,1==e.statusCode?t.infos=e.info:t.infos=[]}};Object(_.a)(e)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},asrSound:function(t){this.$router.push({path:"asrSoundScheme/"+t.id})},sound:function(t){this.$router.push({path:"sound/"+t.sound_id})},tree:function(t,e){this.$router.push({path:"templateTree/"+e.id})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"CallCount"},[a("div",{staticClass:"AIadd",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"success"},on:{click:t.addTpl}},[a("i",{staticClass:"fa fa-plus"}),t._v("新建模板")])],1),t._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{float:"left","margin-left":"10px"},attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"TableList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:"",height:parseInt(t.total)>0?500:100}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"方案名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sound_type",label:"语言模式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"forcehangup",label:"最长通话时长(秒)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sound_type",label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.sound(e.row)}}},[t._v("语音库")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.asrSound(e.row)}}},[t._v("话术库")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.tree(e.$index,e.row)}}},[t._v("流程图")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.edit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.del(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("page-change",{directives:[{name:"show",rawName:"v-show",value:0!=t.total,expression:"total!=0"}],attrs:{total:t.total,page:t.page},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1)])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"新建模板",visible:t.AddTpl,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!t.saving},on:{"update:visible":function(e){t.AddTpl=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"方案名称："}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.AddTplData.name,callback:function(e){t.$set(t.AddTplData,"name",e)},expression:"AddTplData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音模式:"}},[a("el-select",{attrs:{placeholder:"请选择语音模式"},model:{value:t.AddTplData.sound_type,callback:function(e){t.$set(t.AddTplData,"sound_type",e)},expression:"AddTplData.sound_type"}},t._l(t.AddData.sound_type,function(t,e){return a("el-option",{key:e,attrs:{label:t.sound_type,value:t.sound_type,disabled:"人工合成"==t.sound_type}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"选择模板:"}},[a("el-select",{attrs:{placeholder:"请选择模板"},model:{value:t.AddTplData.template_id,callback:function(e){t.$set(t.AddTplData,"template_id",e)},expression:"AddTplData.template_id"}},[a("el-option",{attrs:{label:"空模板",value:"0"}}),t._v(" "),t._l(t.AddData.select_tpl_id,function(t,e){return a("el-option",{key:e,attrs:{label:t.tpl_name,value:t.id,disabled:""}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"语音库:"}},[a("el-select",{attrs:{placeholder:"请选择语音库"},model:{value:t.AddTplData.sound_id,callback:function(e){t.$set(t.AddTplData,"sound_id",e)},expression:"AddTplData.sound_id"}},t._l(t.AddData.sound,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSound}},[t._v("新建语音库")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.saving,expression:"!saving"}],attrs:{type:"primary"},on:{click:t.AddSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],attrs:{type:"primary"}},[t._v("保存中")]),t._v(" "),a("el-button",{on:{click:function(e){t.AddTpl=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"新建语音库",visible:t.AddSound},on:{"update:visible":function(e){t.AddSound=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"语音库名称："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.AddSoundData.name,callback:function(e){t.$set(t.AddSoundData,"name",e)},expression:"AddSoundData.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.AddSoundSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.AddSound=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"修改模板",visible:t.EditTpl},on:{"update:visible":function(e){t.EditTpl=e}}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"方案名称："}},[a("el-input",{staticStyle:{width:"450px"},model:{value:t.EditTplData.name,callback:function(e){t.$set(t.EditTplData,"name",e)},expression:"EditTplData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音模式:"}},[a("el-input",{staticStyle:{width:"450px"},attrs:{disabled:!0},model:{value:t.EditTplData.sound_type,callback:function(e){t.$set(t.EditTplData,"sound_type",e)},expression:"EditTplData.sound_type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音库:"}},[a("el-input",{staticStyle:{width:"450px"},attrs:{disabled:!0},model:{value:t.EditTplData.sound_name,callback:function(e){t.$set(t.EditTplData,"sound_name",e)},expression:"EditTplData.sound_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最长通话时长(秒):"}},[a("el-input",{staticStyle:{width:"450px"},model:{value:t.EditTplData.forcehangup,callback:function(e){t.$set(t.EditTplData,"forcehangup",e)},expression:"EditTplData.forcehangup"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.EditTpl=!1}}},[t._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};var vt=i("VU/8")(ft,ht,!1,function(t){i("iry/")},"data-v-24ff9e16",null).exports,bt={data:function(){var t;return t={template_id:"",req_id:"",curr:1,loading:!1,init:{page:1,page_size:15,total:0,keywords:"",InitData:[],textAudio:""},baseMessage:{Add:!1,Sound:[],Edit:!1}},m()(t,"baseMessage",{Add:!1,Sound:[],Edit:!1}),m()(t,"baseMessageData",{show_name:"",is_interrupt:"1",type:"0",name:"",nextname:".null",max_repeat:"3",wait_time:"3",record:"",answer:"",compose_record:""}),m()(t,"baseMessageDataEdit",{show_name:"",is_interrupt:"",type:"",name:"",nextname:"",wait_time:"",max_repeat:"",record:"",answer:"",record_description:"",compose_record:""}),m()(t,"activeName2","first"),m()(t,"touchAddData",{condition:"",name:"",is_interrupt:"1"}),m()(t,"touch",{touchShow:!1,EditTouch:!1,EditTouchLeft:!1,AddTouch:!1,Data:[],keyword:"",DataRight:[],total:0,page:1,page_size:10,req_id:"",levalData:[]}),m()(t,"touchEditDataLeft",{condition:"",name:""}),m()(t,"touchEditData",{condition:"",is_interrupt:""}),m()(t,"context",{EditContext:!1,custom:!0,ShowContext:!1,nextData:[],touchData:[],Data:[],req_id:"",page:1,page_size:10,total:0}),m()(t,"contextData",{content_type:".content",is_interrupt:"1",nextId:"",condition:"0",newCondition:""}),m()(t,"editContextData",{}),m()(t,"audioList",[]),m()(t,"add",{show:!1,audio:""}),m()(t,"edit",{show:!1,addNext:!1,title:!1,audioList:[],audio:"",nextList:[],addNextList:[]}),m()(t,"obj",[]),m()(t,"target",""),m()(t,"ops",""),m()(t,"show",!1),t},activated:function(){this.getId(),this.initData()},methods:{index:function(t){return(this.init.page-1)*this.init.page_size+t+1},getId:function(){this.template_id=this.$route.params&&this.$route.params.id},initData:function(){var t=this;this.getId(),this.loading=!0;var e={url:"/api/api_backend.php?r=template/req-ans-data-list",data:{template_id:this.template_id,page:this.init.page,page_size:this.init.page_size,keywords:this.init.keywords},success:function(e){t.loading=!1,t.init.InitData=e.info.info,1==e.statusCode?t.init.total=parseInt(e.info.total):t.init.total=0}};Object(_.a)(e)},search:function(){this.loading=!0,this.init.page="1",this.init.page_size="15",this.curr="1",this.initData()},handleSizeChange:function(t){this.init.page_size=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},handleCurrentChange:function(t){this.init.page=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},listen:function(t){this.init.textAudio=t,document.getElementById("audioPlay").paused?document.getElementById("audioPlay").play():document.getElementById("audioPlay").pause()},editInit:function(t,e){var a=this;this.activeName2="first",this.req_id=e.id,this.baseMessage.Edit=!0,this.getSoundContent();var i={url:"/api/api_backend.php?r=template/template-base-info",data:{template_id:this.template_id,req_id:e.id},success:function(t){a.baseMessageDataEdit=t.info,"0"==t.info.type?a.baseMessageDataEdit.type="0":"1"==t.info.type&&(a.baseMessageDataEdit.type="1")}};Object(_.a)(i)},EditMessageSave:function(){var t=this;if(this.baseMessageDataEdit.max_repeat&&this.baseMessageDataEdit.wait_time){var e={};"0"==this.baseMessageDataEdit.record?e.answer=this.baseMessageDataEdit.record_description:e.answer=this.baseMessageDataEdit.answer,e.template_id=this.template_id,e.req_id=this.baseMessageDataEdit.id,e.show_name=this.baseMessageDataEdit.show_name,e.is_interrupt=this.baseMessageDataEdit.is_interrupt,e.type=this.baseMessageDataEdit.type,0==this.baseMessageDataEdit.type?e.name=".question":e.name=this.baseMessageDataEdit.name,e.nextname=this.baseMessageDataEdit.nextname,e.max_repeat=this.baseMessageDataEdit.max_repeat,e.wait_time=this.baseMessageDataEdit.wait_time,e.record=this.baseMessageDataEdit.record,e.compose_record=this.baseMessageDataEdit.compose_record;var a={url:"/api/api_backend.php?r=template/template-base-info-edit",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.baseMessage.Edit=!1,t.initData()):t.baseMessage.Edit=!0}};Object(_.a)(a)}else this.$alert("等待时长和可重复次数为必填")},delInit:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/template-base-info-delete",data:{template_id:a.template_id,req_id:e.id},success:function(t){a.$alert(t.message),a.initData()}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getSoundContent:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-content",data:{template_id:this.template_id},success:function(e){1==e.statusCode?t.baseMessage.Sound=e.info:t.baseMessage.Sound=[],t.baseMessage.Sound.push({id:"0",spath:"无录音,填写描述"}),t.baseMessage.Sound.unshift({id:"-100",spath:"组合录音"})}};Object(_.a)(e)},getMainLine:function(){var t=this,e={url:"/api/api_backend.php?r=template/max-main-line",data:{template_id:this.template_id},success:function(e){t.baseMessageData.name=e.info,t.baseMessageDataEdit.name=e.info,t.baseMessageData.show_name.trim()||(t.baseMessageData.show_name="主线"+e.info)}};Object(_.a)(e)},changeType:function(t){1==t&&this.getMainLine()},changeSoundWord:function(t){var e=this.baseMessage.Sound.filter(function(e){if(e.id==t)return e});this.baseMessageData.answer=e.map(function(t){return t.word}),this.baseMessageDataEdit.answer=e.map(function(t){return t.word})},addMessage:function(){this.baseMessage.Add=!0,this.baseMessageData.show_name="",this.baseMessageData.is_interrupt="1",this.baseMessageData.type="0",this.baseMessageData.name="",this.baseMessageData.nextname=".null",this.baseMessageData.max_repeat="3",this.baseMessageData.wait_time="3",this.baseMessageData.record="",this.baseMessageData.answer="",this.getSoundContent()},AddMessageSave:function(){var t=this;if(this.baseMessageData.max_repeat&&this.baseMessageData.wait_time){var e=this.baseMessageData;0==this.baseMessageData.type&&(e.name=".question"),e.template_id=this.template_id;var a={url:"/api/api_backend.php?r=template/template-base-info-add",data:e,success:function(e){1==e.statusCode?(t.baseMessage.Add=!1,t.initData(),t.$alert(e.message)):(t.baseMessage.Add=!0,t.$message({showClose:!0,message:e.message,duration:5e3,type:"error"}))}};Object(_.a)(a)}else this.$alert("等待时长和可重复次数为必填")},handleClick:function(t,e){1==t.index?(this.touch.req_id=this.req_id,this.touch.keyword="",this.touchInit(),this.touchDataRight()):2==t.index&&(this.contextData.req_id=this.req_id,this.contextTouch(),this.contextNext(),this.contextInit())},touchInit:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-usable-list",data:{template_id:this.template_id},success:function(e){t.touch.Data=e.info}};Object(_.a)(e)},dblclickTouchEdit:function(t,e){var a=this;this.touch.EditTouchLeft=!0;var i={url:"/api/api_backend.php?r=template/trigger-info",data:{template_id:this.template_id,trigger_id:t.id},success:function(t){a.touchEditDataLeft=t.info}};Object(_.a)(i)},touchEditSaveLeft:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-edit",data:{template_id:this.template_id,name:this.touchEditDataLeft.name,condition:this.touchEditDataLeft.condition,trigger_id:this.touchEditDataLeft.id},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouchLeft=!1,t.touchInit()):t.touch.EditTouchLeft=!0}};Object(_.a)(e)},touchSearch:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-search",data:{template_id:this.template_id,keywords:this.touch.keyword},success:function(e){1==e.statusCode?t.touch.Data=e.info:t.$alert(e.message)}};Object(_.a)(e)},touchAdd:function(){this.touch.AddTouch=!0,this.touchAddData.condition="",this.touchAddData.name="",this.touchAddData.is_interrupt="1"},touchAddSave:function(){var t=this,e=this.touchAddData;e.template_id=this.template_id;var a={url:"/api/api_backend.php?r=template/trigger-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.touchInit(),t.touch.AddTouch=!1):t.touch.AddTouch=!0}};Object(_.a)(a)},touchLeftPlus:function(t,e){var a=this,i={url:"/api/api_backend.php?r=template/req-ans-trigger-add",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.initData(),a.touchInit())}};Object(_.a)(i)},touchDataRight:function(){var t=this,e=this.touch.page,a=this.touch.page_size,i={url:"/api/api_backend.php?r=template/req-ans-trigger-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?t.touch.total=parseInt(e.info.total):t.touch.total=0,t.touch.DataRight=e.info.info}};Object(_.a)(i)},handleSizeChangeTouch:function(t){this.touch.page_size=t,this.touchDataRight()},handleCurrentChangeTouch:function(t){this.touch.page=t,this.touchDataRight()},touchEdit:function(t,e){this.touch.EditTouch=!0,this.touchEditData=e},touchEditSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/req-ans-trigger-edit",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:this.touchEditData.id,is_interrupt:this.touchEditData.is_interrupt,condition:this.touchEditData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouch=!1,t.touchDataRight()):t.touch.EditTouch=!0}};Object(_.a)(e)},touchEdl:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/req-ans-trigger-delete",data:{template_id:a.template_id,req_id:a.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.touchInit())}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},contextNext:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-next-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.nextData=e.info}};Object(_.a)(e)},contextTouch:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-common-type-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.touchData=e.info,t.context.touchData.unshift({condition:"自定义触发词",name:"0"})}};Object(_.a)(e)},changeTouchInput:function(t){this.context.custom="0"==t},contextSave:function(){var t=this,e=this.contextData;e.template_id=this.template_id,e.req_id=this.req_id;var a={url:"/api/api_backend.php?r=template/content-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode&&(t.contextInit(),t.contextTouch(),t.contextData.content_type=".content",t.contextData.is_interrupt="1",t.contextData.nextId="",t.contextData.condition="0",t.contextData.newCondition="",t.context.custom=!0)}};Object(_.a)(a)},contextInit:function(){var t=this,e=this.context.page,a=this.context.page_size,i={url:"/api/api_backend.php?r=template/content-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?(t.context.Data=e.info.info,t.context.total=parseInt(e.info.total)):(t.context.Data=[],t.context.total=0)}};Object(_.a)(i)},handleCurrentChangeContext:function(t){this.context.page=t,this.contextInit(this.contextData.req_id)},editContext:function(t,e){var a=this;this.context.EditContext=!0;var i={url:"/api/api_backend.php?r=template/content-info",data:{template_id:this.template_id,req_id:this.req_id,content_id:e.id},success:function(t){a.editContextData=t.info}};Object(_.a)(i)},editContextSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-edit",data:{template_id:this.template_id,req_id:this.req_id,content_id:this.editContextData.id,content_type:this.editContextData.type,nextId:this.editContextData.answer,is_interrupt:this.editContextData.is_interrupt,newCondition:this.editContextData.newCondition,condition:this.editContextData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.context.EditContext=!1,t.contextInit(t.contextData.req_id)):t.context.EditContext=!0}};Object(_.a)(e)},delContext:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/content-delete",data:{template_id:a.template_id,id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&a.contextInit()}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"CallCount"},[a("div",{staticStyle:{float:"left"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{float:"left","margin-left":"10px"},attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.init.keywords,callback:function(e){t.$set(t.init,"keywords",e)},expression:"init.keywords"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("div",{staticClass:"AIadd",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"success"},on:{click:t.addMessage}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加基本信息")])],1),t._v(" "),a("div",{staticClass:"TableList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.init.InitData,border:"",height:t.init.total>=2?600:300}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"自定义话术"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("名称:"+t._s(e.row.show_name))]),t._v(" "),a("p",[t._v("内容:"+t._s(e.row.answer))]),t._v(" "),a("p",[t._v("触发词:"+t._s(e.row.condition))]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:1==e.row.is_interrupt,expression:"scope.row.is_interrupt == 1"}]},[t._v("类型: "),a("span",{staticStyle:{color:"#0099FF"}},[t._v(t._s(e.row.type))]),t._v(" "),a("span",{staticStyle:{color:"#FF6600"}},[t._v("可以打断")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.row.is_interrupt,expression:"scope.row.is_interrupt == 0"}]},[t._v("类型: "),a("span",{staticStyle:{color:"#0099FF"}},[t._v(" "+t._s(e.row.type))]),t._v(" "),a("span",{staticStyle:{color:"#FF6600"}},[t._v("不可以打断")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"record",label:"录音状况"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.record,function(i,s){return e.row.record.length>0?a("el-button",{key:s,attrs:{type:"primary",plain:""},on:{click:function(e){t.listen(i)}}},[t._v("试听")]):0==e.row.record.length?a("el-button",{attrs:{type:"danger",plain:""}},[t._v("等待录音")]):t._e()})}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editInit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.delInit(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("audio",{staticStyle:{width:"100%"},attrs:{src:t.init.textAudio,id:"audioPlay",autoplay:""}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[15,20,25,30],"page-size":t.init.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.init.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial padding"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"基本信息",visible:t.baseMessage.Add},on:{"update:visible":function(e){t.$set(t.baseMessage,"Add",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.baseMessageData}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageData.show_name,callback:function(e){t.$set(t.baseMessageData,"show_name",e)},expression:"baseMessageData.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.is_interrupt,callback:function(e){t.$set(t.baseMessageData,"is_interrupt",e)},expression:"baseMessageData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageData.type,callback:function(e){t.$set(t.baseMessageData,"type",e)},expression:"baseMessageData.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageData.type,expression:"baseMessageData.type=='1'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.name,callback:function(e){t.$set(t.baseMessageData,"name",e)},expression:"baseMessageData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.nextname,callback:function(e){t.$set(t.baseMessageData,"nextname",e)},expression:"baseMessageData.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.wait_time,callback:function(e){t.$set(t.baseMessageData,"wait_time",e)},expression:"baseMessageData.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.max_repeat,callback:function(e){t.$set(t.baseMessageData,"max_repeat",e)},expression:"baseMessageData.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageData.record,callback:function(e){t.$set(t.baseMessageData,"record",e)},expression:"baseMessageData.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"-100"!=t.baseMessageData.record,expression:"baseMessageData.record != '-100'"}]},[a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageData.record},model:{value:t.baseMessageData.answer,callback:function(e){t.$set(t.baseMessageData,"answer",e)},expression:"baseMessageData.answer"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"-100"==t.baseMessageData.record,expression:"baseMessageData.record == '-100'"}],attrs:{label:"组合方式:"}},[a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5},model:{value:t.baseMessageData.compose_record,callback:function(e){t.$set(t.baseMessageData,"compose_record",e)},expression:"baseMessageData.compose_record"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.AddMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Add=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain tag-dial1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.baseMessage.Edit},on:{"update:visible":function(e){t.$set(t.baseMessage,"Edit",e)}}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageDataEdit.show_name,callback:function(e){t.$set(t.baseMessageDataEdit,"show_name",e)},expression:"baseMessageDataEdit.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.is_interrupt,callback:function(e){t.$set(t.baseMessageDataEdit,"is_interrupt",e)},expression:"baseMessageDataEdit.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"3"!=t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type != '3'"}],attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageDataEdit.type,callback:function(e){t.$set(t.baseMessageDataEdit,"type",e)},expression:"baseMessageDataEdit.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageDataEdit.type||"3"==t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type=='1' || baseMessageDataEdit.type=='3'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.name,callback:function(e){t.$set(t.baseMessageDataEdit,"name",e)},expression:"baseMessageDataEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.nextname,callback:function(e){t.$set(t.baseMessageDataEdit,"nextname",e)},expression:"baseMessageDataEdit.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.wait_time,callback:function(e){t.$set(t.baseMessageDataEdit,"wait_time",e)},expression:"baseMessageDataEdit.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.max_repeat,callback:function(e){t.$set(t.baseMessageDataEdit,"max_repeat",e)},expression:"baseMessageDataEdit.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageDataEdit.record,callback:function(e){t.$set(t.baseMessageDataEdit,"record",e)},expression:"baseMessageDataEdit.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",[""!=t.baseMessageDataEdit.answer?a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.answer,callback:function(e){t.$set(t.baseMessageDataEdit,"answer",e)},expression:"baseMessageDataEdit.answer"}}):a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.record_description,callback:function(e){t.$set(t.baseMessageDataEdit,"record_description",e)},expression:"baseMessageDataEdit.record_description"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"-100"==t.baseMessageDataEdit.record,expression:"baseMessageDataEdit.record == '-100'"}],attrs:{label:"组合方式:"}},[a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5},model:{value:t.baseMessageDataEdit.compose_record,callback:function(e){t.$set(t.baseMessageDataEdit,"compose_record",e)},expression:"baseMessageDataEdit.compose_record"}})],1)],1),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Edit=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"触发词",name:"second"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.touch.keyword,callback:function(e){t.$set(t.touch,"keyword",e)},expression:"touch.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.touchSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticStyle:{width:"170px",float:"left"}},[a("el-table",{ref:"multipleTable",staticStyle:{},attrs:{data:t.touch.Data,border:"",height:t.touch.Data.length>=1?300:"100"},on:{"row-dblclick":t.dblclickTouchEdit}},[a("el-table-column",{attrs:{prop:"type",label:"通用关键词"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000",cursor:"pointer"}},[t._v(t._s(e.row.show))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF",cursor:"pointer"}},[t._v(t._s(e.row.show))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.touchLeftPlus(e.$index,e.row)}}},[t._v("+")])]}}])})],1),t._v(" "),a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.touchAdd}},[t._v("添加关键词")])],1),t._v(" "),a("div",{staticStyle:{width:"1260px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.touch.DataRight,border:"",height:t.touch.total>0?300:"200"}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"left",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"来源"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000"}},[t._v(t._s(e.row.name))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"关键词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.row.is_interrupt,expression:"scope.row.is_interrupt == 0"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.is_interrupt,expression:"scope.row.is_interrupt == 1"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdl(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.touch.total>0,expression:"touch.total>0"}],staticClass:"pagination",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[15,20,25,30],"page-size":t.touch.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.touch.total},on:{"size-change":t.handleSizeChangeTouch,"current-change":t.handleCurrentChangeTouch}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.touch.touchShow=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"语境设置",name:"third"}},[a("div",{staticStyle:{width:"230px",float:"left"}},[a("el-form",{staticStyle:{width:"300px",float:"left"},attrs:{"label-width":"10px"}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.content_type,callback:function(e){t.$set(t.contextData,"content_type",e)},expression:"contextData.content_type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.contextData.nextId,callback:function(e){t.$set(t.contextData,"nextId",e)},expression:"contextData.nextId"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(e,i){return a("el-option",{key:i,attrs:{label:e.answer,value:e.id}},[t._v(t._s(e.show))])})],2)],1),t._v(" "),a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:".jump"!=t.contextData.content_type,expression:"contextData.content_type!='.jump'"}],attrs:{placeholder:"请选择触发词(可输入)"},on:{change:t.changeTouchInput},model:{value:t.contextData.condition,callback:function(e){t.$set(t.contextData,"condition",e)},expression:"contextData.condition"}},t._l(t.context.touchData,function(t,e){return a("el-option",{key:e,attrs:{label:t.condition,value:t.name}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.context.custom&&".jump"!=t.contextData.content_type,expression:"context.custom&&contextData.content_type!='.jump'"}]},[a("el-input",{staticStyle:{width:"217px"},model:{value:t.contextData.newCondition,callback:function(e){t.$set(t.contextData,"newCondition",e)},expression:"contextData.newCondition"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.is_interrupt,callback:function(e){t.$set(t.contextData,"is_interrupt",e)},expression:"contextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.contextSave}},[t._v("保存")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{width:"1200px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.context.Data,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nextName",label:"下个话术"}}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"触发词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"0"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '0'"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '1'"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"wait_time",label:"等待时长(秒)",disabled:""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editContext(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.delContext(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.context.total>0,expression:"context.total>0"}],staticClass:"pagination",staticStyle:{padding:"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-size":t.context.page_size,layout:"total,  prev, pager, next, jumper",total:t.context.total},on:{"current-change":t.handleCurrentChangeContext}})],1)])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加关键词",visible:t.touch.AddTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"AddTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.touchAddData}},[a("el-form-item",{attrs:{label:"关键词标签:"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.touchAddData.name,callback:function(e){t.$set(t.touchAddData,"name",e)},expression:"touchAddData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",placeholder:"请输入关键词(多个关键词可用逗号隔开)"},model:{value:t.touchAddData.condition,callback:function(e){t.$set(t.touchAddData,"condition",e)},expression:"touchAddData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchAddData.is_interrupt,callback:function(e){t.$set(t.touchAddData,"is_interrupt",e)},expression:"touchAddData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchAddSave}},[t._v("添加")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.AddTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouchLeft,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouchLeft",e)}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.name,callback:function(e){t.$set(t.touchEditDataLeft,"name",e)},expression:"touchEditDataLeft.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.condition,callback:function(e){t.$set(t.touchEditDataLeft,"condition",e)},expression:"touchEditDataLeft.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSaveLeft}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouchLeft=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditData.condition,callback:function(e){t.$set(t.touchEditData,"condition",e)},expression:"touchEditData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchEditData.is_interrupt,callback:function(e){t.$set(t.touchEditData,"is_interrupt",e)},expression:"touchEditData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{attrs:{title:"编辑",visible:t.context.EditContext},on:{"update:visible":function(e){t.$set(t.context,"EditContext",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"触发类型:"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.editContextData.type,callback:function(e){t.$set(t.editContextData,"type",e)},expression:"editContextData.type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"下个话术:"}},[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.editContextData.answer,callback:function(e){t.$set(t.editContextData,"answer",e)},expression:"editContextData.answer"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(t,e){return a("el-option",{key:e,attrs:{label:t.show_name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"打断话术:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editContextData.is_interrupt,callback:function(e){t.$set(t.editContextData,"is_interrupt",e)},expression:"editContextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字设置:"}},[a("el-input",{attrs:{type:"textarea",disabled:0==t.editContextData.isEdit},model:{value:t.editContextData.condition,callback:function(e){t.$set(t.editContextData,"condition",e)},expression:"editContextData.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editContextSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.context.EditContext=!1}}},[t._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};var yt=i("VU/8")(bt,gt,!1,function(t){i("oovn")},null,null).exports,xt={data:function(){return{currentPage:1,value:"",total:0,templateList:[],tableData:[],form:{page:1,page_size:10,template_id:"",keywords:""},addForm:{},Knowledge:{NodeAdd:!1,width:"width: 478px;",widths:"width: 300px;",InputWidth:"width:624px;"},addNode:{list:[]},loading:!0,ButtonList:[],audioData:[],showButton:""}},activated:function(){this.templateListData()},methods:{index:function(t){return(this.form.page-1)*this.form.page_size+t+1},templateListData:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-record-noanswer/template-name",success:function(e){e.info.length>0&&(t.templateList=e.info,t.form.template_id=e.info[0].id,t.init(0))}};Object(_.a)(e)},init:function(t){var e=this,a=this.form;0==t?(a.page=this.form.page,a.page_size=this.form.page_size):1==t&&(a.page=1,a.page_size=10);var i={url:"/api/api_backend.php?r=asrcall-record-noanswer/no-answer-list",data:a,success:function(t){e.loading=!1,e.tableData=t.info.info,e.total=parseInt(t.info.total)}};Object(_.a)(i)},handlePageChange:function(t){this.form.page=t,this.init(0)},handleSizeChange:function(t){this.form.page_size=t,this.init(0)},addNodeInit:function(t,e){var a=this;this.Knowledge.NodeAdd=!0,this.addForm.name=e.msg,this.addForm.condition=e.msg,this.addForm.noAnsId=e.id;var i={url:"/api/api_backend.php?r=asrcall-record-noanswer/answer-sound",data:{id:e.id},success:function(t){a.addNode.list=t.info}};Object(_.a)(i)},addNodeSave:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-record-noanswer/add-node",data:this.addForm,success:function(e){t.$alert(e.message),1==e.statusCode?(t.Knowledge.NodeAdd=!1,t.addForm.name="",t.addForm.condition="",t.addForm.noAnsId="",t.addForm.nextname="",t.addForm.answerid="",t.init(0)):t.Knowledge.NodeAdd=!0}};Object(_.a)(e)}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"seachForm"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"方案名称:"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.form.template_id,callback:function(e){t.$set(t.form,"template_id",e)},expression:"form.template_id"}},t._l(t.templateList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词："}},[a("el-input",{model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.init(1)}}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"TableList TextLeft"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"序号",width:"50",index:t.index,type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"asr_number",label:"语音识别线路",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"caller_num",label:"客户电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"msg",label:"问题内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"记录时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],attrs:{type:"danger"},on:{click:function(a){t.addNodeInit(e.$index,e.row)}}},[t._v("添加节点")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.row.type,expression:"scope.row.type == 0"}],staticStyle:{"margin-left":"0"},attrs:{type:"primary"},on:{click:function(a){t.addNodeInit(e.$index,e.row)}}},[t._v("添加节点")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.form.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handlePageChange}})],1)])]),t._v(" "),a("div",{staticClass:"dial-header  tag-node-add",staticStyle:{"max-width":"680px"}},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"节点添加",visible:t.Knowledge.NodeAdd},on:{"update:visible":function(e){t.$set(t.Knowledge,"NodeAdd",e)}}},[a("el-form",{attrs:{model:t.addForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"属性/关键词："}},[a("el-input",{style:t.Knowledge.width,model:{value:t.addForm.condition,callback:function(e){t.$set(t.addForm,"condition",e)},expression:"addForm.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标签："}},[a("el-input",{style:t.Knowledge.width,model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应答语音："}},[a("el-select",{style:t.Knowledge.width,attrs:{placeholder:"请选择应答语音"},model:{value:t.addForm.answerid,callback:function(e){t.$set(t.addForm,"answerid",e)},expression:"addForm.answerid"}},t._l(t.addNode.list,function(e,i){return a("el-option",{key:i,staticStyle:{width:"500px"},attrs:{value:e.id,label:e.spath}},[t._v(" "+t._s(e.spath)+" "+t._s(e.word)+" ")])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点："}},[a("el-select",{style:t.Knowledge.width,model:{value:t.addForm.nextname,callback:function(e){t.$set(t.addForm,"nextname",e)},expression:"addForm.nextname"}},[a("el-option",{attrs:{label:"转人工",value:"#####"}}),t._v(" "),a("el-option",{attrs:{label:"无操作",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"挂机",value:"#"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addNodeSave}},[t._v("立即添加")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Knowledge.NodeAdd=!1}}},[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var kt=i("VU/8")(xt,wt,!1,function(t){i("0rNA")},"data-v-7c8daa98",null).exports,Ct={data:function(){return{sound_id:"",soundList:[],asr_number:"",page:1,page_size:10,total:0,currentPage:1,infos:[],value:"",name:"",Data:[],options:[],audio:"",updata:{id:"",sound_file:""},DescribeText:"",rerecord:{asr_number:"",word:"",index:"",fileList:[]},files:{sound_id:"",word:"",sound_file:""},zip:{sound_id:"",zip_file:""},Voice:{tabs:"first",width:"width: 478px;",UploadFile:!1,UploadZip:!1,Retake:!1,upLoad:!1,Describe:!1,desc:"",text:"",id:"",index:""},form:{},path:"",data:{},fileList:[],fileListZip:[],index:"0",soundName:""}},activated:function(){this.getId(),this.init(),this.initList()},methods:{initList:function(){var t=this,e={url:"/api/api_backend.php?r=sound/sound-list-all",success:function(e){t.soundList=e.info}};Object(_.a)(e)},index1:function(t){return(this.page-1)*this.page_size+t+1},getId:function(){this.sound_id=this.$route.params&&this.$route.params.id,this.asr_number=this.$route.params&&this.$route.params.id},init:function(){var t=this,e={url:"/api/api_backend.php?r=sound/word-to-sound-list",data:{page:this.page,page_size:this.page_size,sound_id:this.sound_id},success:function(e){t.infos=e.info,t.total=parseInt(e.total_count)}};Object(_.a)(e)},rerecordData:function(t){this.rerecord.asr_number=t},changeAsr:function(t){this.asr_number=t,this.init()},play:function(t,e){this.audio=e.sound_dir,document.getElementById("audioPlay").paused?document.getElementById("audioPlay").play():document.getElementById("audioPlay").pause()},handleClick:function(t,e){this.index=t.index,1==this.index&&(this.soundName="")},handleSizeChange:function(t){this.page_size=t,this.init()},handleCurrentChange:function(t){this.page=t,this.init()},handleDelete:function(t,e){var a=this;this.$confirm("您确定要删除此项记录吗？","提示信息",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=sound/word-to-sound-del",data:{id:e.id},success:function(t){a.$alert(t.message),a.init()}};Object(_.a)(t)}).catch(function(){a.$message({type:"info",message:"取消删除"})})},editUpdate:function(t,e){this.rerecord.index=t,this.updata.id=e.id,this.Voice.Retake=!0,this.Voice.text=e.word},onSubmit:function(){var t=this,e={url:"/api/api_backend.php?r=sound/word-to-sound-desc-update",data:{id:this.updata.id,word:this.rerecord.word},success:function(e){t.$alert(e.message),1==e.statusCode?(t.Voice.Retake=!1,t.init(),t.rerecord.word=""):t.Voice.Retake=!0}};Object(_.a)(e)},upLoad:function(t,e){this.rerecord.fileList=[],this.rerecord.index=t,this.updata.id=e.id,this.Voice.upLoad=!0},beforeUpload:function(t){this.updata.sound_file=t},success:function(t,e,a){this.$alert(t.message),1==t.statusCode?(this.Voice.upLoad=!1,this.init()):this.Voice.upLoad=!0},handleExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},sure:function(){this.$refs.uploadss.submit()},soundAdd:function(){this.Voice.UploadFile=!0,this.files.sound_id="",this.files.word="",this.files.sound_file="",this.fileList=[]},addFile:function(){this.$refs.upload.submit()},beforeUploadFile:function(t){this.files.sound_file=t,this.files.sound_id=this.asr_number},successFile:function(t,e,a){this.$alert(t.message),1==t.statusCode?(this.Voice.UploadFile=!1,this.init()):this.Voice.UploadFile=!0},handleExceedFile:function(t,e){this.$message.warning("当前限制选择 1 个文件")},beforeRemoveFile:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},zipAdd:function(){this.Voice.UploadZip=!0,this.zip.sound_id="",this.fileListZip=[]},addZip:function(){this.$refs.uploads.submit()},beforeUploadZip:function(t){this.zip.zip_file=t,this.zip.sound_id=this.asr_number},successZip:function(t,e,a){this.$alert(t.message),0==t.statusCode?(this.fileListZip=[],this.Voice.UploadZip=!0):this.Voice.UploadZip=!1},handleExceedZip:function(t,e){this.$message.warning("当前限制选择 1 个文件")},beforeRemoveZip:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},onSubmitVoice:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-add",data:{name:this.soundName},success:function(e){t.$alert(e.message),1==e.statusCode&&(t.init(),t.initList(),t.soundName="")}};Object(_.a)(e)}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp",staticStyle:{background:"#fff"}},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"Voice"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.Voice.tabs,callback:function(e){t.$set(t.Voice,"tabs",e)},expression:"Voice.tabs"}},[a("el-tab-pane",{attrs:{label:"语音管理",name:"first"}},[a("div",{staticClass:"VoiceTop"},[a("ul",[a("li",{staticStyle:{float:"left","margin-right":"20px"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"语音库："}},[a("el-select",{attrs:{placeholder:"请选择语音库"},on:{change:t.changeAsr},model:{value:t.asr_number,callback:function(e){t.asr_number=e},expression:"asr_number"}},t._l(t.soundList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),a("li"),a("li",[a("el-button",{attrs:{type:"primary"},on:{click:t.soundAdd}},[t._v("语音文件添加")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.zipAdd}},[t._v("语音包添加")])],1)])]),t._v(" "),a("div",{staticClass:"TableList TextLeft"},[a("audio",{staticStyle:{width:"100%"},attrs:{src:t.audio,controls:"controls",id:"audioPlay",hidden:"",autoplay:""}}),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.infos,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.index1,width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"word",label:"语言描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"spath",label:"语音文件"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:""},on:{click:function(a){t.play(e.$index,e.row)}}},[t._v("试听")]),t._v(" "),0==e.row.status?a("el-button",{attrs:{type:"success",plain:"",disabled:""},on:{click:function(a){t.editUpdate(e.$index,e.row)}}},[t._v("重录中")]):a("el-button",{attrs:{type:"success",plain:""},on:{click:function(a){t.editUpdate(e.$index,e.row)}}},[t._v("修改描述")]),t._v(" "),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(a){t.upLoad(e.$index,e.row)}}},[t._v("语音替换")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),a("el-tab-pane",{attrs:{label:"新建语音库",name:"second"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"语音库名称:"}},[a("el-input",{model:{value:t.soundName,callback:function(e){t.soundName=e},expression:"soundName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitVoice}},[t._v("保存")])],1)],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"语音文件上传",visible:t.Voice.UploadFile},on:{"update:visible":function(e){t.$set(t.Voice,"UploadFile",e)}}},[a("el-form",{attrs:{model:t.files,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择语音库："}},[a("el-select",{attrs:{placeholder:"请选择语音库"},model:{value:t.asr_number,callback:function(e){t.asr_number=e},expression:"asr_number"}},t._l(t.soundList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"文字说明："}},[a("el-input",{style:t.Voice.width,model:{value:t.files.word,callback:function(e){t.$set(t.files,"word",e)},expression:"files.word"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择语音文件："}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/api/api_backend.php?r=sound/word-to-sound-add","before-remove":t.beforeRemoveFile,"on-success":t.successFile,"before-upload":t.beforeUploadFile,multiple:"",limit:1,"auto-upload":!1,"on-exceed":t.handleExceed,data:t.files,"file-list":t.fileList}},[a("el-button",{attrs:{type:"primary",plain:""}},[a("i",{staticClass:"fa fa-upload",staticStyle:{width:"40px"}},[t._v("选择")])]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("文件必选")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addFile}},[t._v("添加")]),t._v(" "),a("el-button",{on:{click:function(e){t.Voice.UploadFile=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"语音包上传",visible:t.Voice.UploadZip},on:{"update:visible":function(e){t.$set(t.Voice,"UploadZip",e)}}},[a("el-form",{attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择语音库："}},[a("el-select",{attrs:{placeholder:"请选择语音库"},model:{value:t.asr_number,callback:function(e){t.asr_number=e},expression:"asr_number"}},t._l(t.soundList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"选择语音包："}},[a("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{action:"/api/api_backend.php?r=sound/sound-file-package-upload","before-remove":t.beforeRemoveZip,"on-success":t.successZip,"before-upload":t.beforeUploadZip,multiple:"",limit:1,"auto-upload":!1,"on-exceed":t.handleExceed,data:t.zip,"file-list":t.fileListZip}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"}},[a("i",{staticClass:"fa fa-upload",staticStyle:{width:"40px"}},[t._v("选择")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addZip}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.Voice.UploadZip=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"修改描述",visible:t.Voice.Retake},on:{"update:visible":function(e){t.$set(t.Voice,"Retake",e)}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"原来文本："}},[a("div",{staticClass:"ConentText"},[t._v(t._s(t.Voice.text))])]),t._v(" "),a("el-form-item",{attrs:{label:"修改文本："}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.rerecord.word,callback:function(e){t.$set(t.rerecord,"word",e)},expression:"rerecord.word"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.Voice.Retake=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header upload"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"上传重录语音:",visible:t.Voice.upLoad},on:{"update:visible":function(e){t.$set(t.Voice,"upLoad",e)}}},[a("el-form",[a("el-form-item",{attrs:{label:"选择上传语音："}},[a("el-upload",{ref:"uploadss",staticClass:"upload-demo",attrs:{action:"/api/api_backend.php?r=sound/word-to-sound-instead","before-remove":t.beforeRemove,"on-success":t.success,"before-upload":t.beforeUpload,multiple:"",limit:1,"auto-upload":!1,"on-exceed":t.handleExceed,data:t.updata,"file-list":t.rerecord.fileList}},[a("el-button",{staticStyle:{width:"70px"},attrs:{type:"primary",plain:""}},[a("i",{staticClass:"fa fa-upload",attrs:{styte:"width:40px"}},[t._v("选择")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确定")])],1)],1)],1)])},staticRenderFns:[]},Et=i("VU/8")(Ct,Dt,!1,null,null,null).exports,St=i("per8"),Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"CallCount"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"},{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.show,expression:"show",modifiers:{fullscreen:!0,lock:!0}}]}),t._v(" "),a("div",{staticClass:"orgWrap",staticStyle:{"margin-left":"0px"}})])])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial padding"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"基本信息",visible:t.baseMessage.Add},on:{"update:visible":function(e){t.$set(t.baseMessage,"Add",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.baseMessageData}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageData.show_name,callback:function(e){t.$set(t.baseMessageData,"show_name",e)},expression:"baseMessageData.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.is_interrupt,callback:function(e){t.$set(t.baseMessageData,"is_interrupt",e)},expression:"baseMessageData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageData.type,callback:function(e){t.$set(t.baseMessageData,"type",e)},expression:"baseMessageData.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageData.type,expression:"baseMessageData.type=='1'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.name,callback:function(e){t.$set(t.baseMessageData,"name",e)},expression:"baseMessageData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.nextname,callback:function(e){t.$set(t.baseMessageData,"nextname",e)},expression:"baseMessageData.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.wait_time,callback:function(e){t.$set(t.baseMessageData,"wait_time",e)},expression:"baseMessageData.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.max_repeat,callback:function(e){t.$set(t.baseMessageData,"max_repeat",e)},expression:"baseMessageData.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageData.record,callback:function(e){t.$set(t.baseMessageData,"record",e)},expression:"baseMessageData.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageData.record},model:{value:t.baseMessageData.answer,callback:function(e){t.$set(t.baseMessageData,"answer",e)},expression:"baseMessageData.answer"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.AddMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Add=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain tag-dial1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.baseMessage.Edit},on:{"update:visible":function(e){t.$set(t.baseMessage,"Edit",e)}}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageDataEdit.show_name,callback:function(e){t.$set(t.baseMessageDataEdit,"show_name",e)},expression:"baseMessageDataEdit.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.is_interrupt,callback:function(e){t.$set(t.baseMessageDataEdit,"is_interrupt",e)},expression:"baseMessageDataEdit.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"3"!=t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type != '3'"}],attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageDataEdit.type,callback:function(e){t.$set(t.baseMessageDataEdit,"type",e)},expression:"baseMessageDataEdit.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageDataEdit.type||"3"==t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type=='1' || baseMessageDataEdit.type=='3'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.name,callback:function(e){t.$set(t.baseMessageDataEdit,"name",e)},expression:"baseMessageDataEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.nextname,callback:function(e){t.$set(t.baseMessageDataEdit,"nextname",e)},expression:"baseMessageDataEdit.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.wait_time,callback:function(e){t.$set(t.baseMessageDataEdit,"wait_time",e)},expression:"baseMessageDataEdit.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.max_repeat,callback:function(e){t.$set(t.baseMessageDataEdit,"max_repeat",e)},expression:"baseMessageDataEdit.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageDataEdit.record,callback:function(e){t.$set(t.baseMessageDataEdit,"record",e)},expression:"baseMessageDataEdit.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",[""!=t.baseMessageDataEdit.answer?a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.answer,callback:function(e){t.$set(t.baseMessageDataEdit,"answer",e)},expression:"baseMessageDataEdit.answer"}}):a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.record_description,callback:function(e){t.$set(t.baseMessageDataEdit,"record_description",e)},expression:"baseMessageDataEdit.record_description"}})],1)],1),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Edit=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"触发词",name:"second"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.touch.keyword,callback:function(e){t.$set(t.touch,"keyword",e)},expression:"touch.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.touchSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticStyle:{width:"170px",float:"left"}},[a("el-table",{ref:"multipleTable",staticStyle:{},attrs:{data:t.touch.Data,border:"",height:t.touch.Data.length>=1?300:"100"},on:{"row-dblclick":t.dblclickTouchEdit}},[a("el-table-column",{attrs:{prop:"type",label:"通用关键词"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000",cursor:"pointer"}},[t._v(t._s(e.row.show))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF",cursor:"pointer"}},[t._v(t._s(e.row.show))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.touchLeftPlus(e.$index,e.row)}}},[t._v("+")])]}}])})],1),t._v(" "),a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.touchAdd}},[t._v("添加关键词")])],1),t._v(" "),a("div",{staticStyle:{width:"1260px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.touch.DataRight,border:"",height:t.touch.total>0?300:"200"}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"left",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"来源"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000"}},[t._v(t._s(e.row.name))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"关键词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.row.is_interrupt,expression:"scope.row.is_interrupt == 0"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.is_interrupt,expression:"scope.row.is_interrupt == 1"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdl(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.touch.total>0,expression:"touch.total>0"}],staticClass:"pagination",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[15,20,25,30],"page-size":t.touch.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.touch.total},on:{"size-change":t.handleSizeChangeTouch,"current-change":t.handleCurrentChangeTouch}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.touch.touchShow=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"语境设置",name:"third"}},[a("div",{staticStyle:{width:"230px",float:"left"}},[a("el-form",{staticStyle:{width:"300px",float:"left"},attrs:{"label-width":"10px"}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.content_type,callback:function(e){t.$set(t.contextData,"content_type",e)},expression:"contextData.content_type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.contextData.nextId,callback:function(e){t.$set(t.contextData,"nextId",e)},expression:"contextData.nextId"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(e,i){return a("el-option",{key:i,attrs:{label:e.answer,value:e.id}},[t._v(t._s(e.show))])})],2)],1),t._v(" "),a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:".jump"!=t.contextData.content_type,expression:"contextData.content_type!='.jump'"}],attrs:{placeholder:"请选择触发词(可输入)"},on:{change:t.changeTouchInput},model:{value:t.contextData.condition,callback:function(e){t.$set(t.contextData,"condition",e)},expression:"contextData.condition"}},t._l(t.context.touchData,function(t,e){return a("el-option",{key:e,attrs:{label:t.condition,value:t.name}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.context.custom&&".jump"!=t.contextData.content_type,expression:"context.custom&&contextData.content_type!='.jump'"}]},[a("el-input",{staticStyle:{width:"217px"},model:{value:t.contextData.newCondition,callback:function(e){t.$set(t.contextData,"newCondition",e)},expression:"contextData.newCondition"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.is_interrupt,callback:function(e){t.$set(t.contextData,"is_interrupt",e)},expression:"contextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.contextSave}},[t._v("保存")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{width:"1200px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.context.Data,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nextName",label:"下个话术"}}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"触发词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"0"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '0'"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '1'"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"wait_time",label:"等待时长(秒)",disabled:""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editContext(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.delContext(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.context.total>0,expression:"context.total>0"}],staticClass:"pagination",staticStyle:{padding:"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-size":t.context.page_size,layout:"total,  prev, pager, next, jumper",total:t.context.total},on:{"current-change":t.handleCurrentChangeContext}})],1)])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加关键词",visible:t.touch.AddTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"AddTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.touchAddData}},[a("el-form-item",{attrs:{label:"关键词标签:"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.touchAddData.name,callback:function(e){t.$set(t.touchAddData,"name",e)},expression:"touchAddData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",placeholder:"请输入关键词(多个关键词可用逗号隔开)"},model:{value:t.touchAddData.condition,callback:function(e){t.$set(t.touchAddData,"condition",e)},expression:"touchAddData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchAddData.is_interrupt,callback:function(e){t.$set(t.touchAddData,"is_interrupt",e)},expression:"touchAddData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchAddSave}},[t._v("添加")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.AddTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouchLeft,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouchLeft",e)}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.name,callback:function(e){t.$set(t.touchEditDataLeft,"name",e)},expression:"touchEditDataLeft.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.condition,callback:function(e){t.$set(t.touchEditDataLeft,"condition",e)},expression:"touchEditDataLeft.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSaveLeft}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouchLeft=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditData.condition,callback:function(e){t.$set(t.touchEditData,"condition",e)},expression:"touchEditData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchEditData.is_interrupt,callback:function(e){t.$set(t.touchEditData,"is_interrupt",e)},expression:"touchEditData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{attrs:{title:"编辑",visible:t.context.EditContext},on:{"update:visible":function(e){t.$set(t.context,"EditContext",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"触发类型:"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.editContextData.type,callback:function(e){t.$set(t.editContextData,"type",e)},expression:"editContextData.type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"下个话术:"}},[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.editContextData.answer,callback:function(e){t.$set(t.editContextData,"answer",e)},expression:"editContextData.answer"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(t,e){return a("el-option",{key:e,attrs:{label:t.show_name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"打断话术:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editContextData.is_interrupt,callback:function(e){t.$set(t.editContextData,"is_interrupt",e)},expression:"editContextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字设置:"}},[a("el-input",{attrs:{type:"textarea",disabled:0==t.editContextData.isEdit},model:{value:t.editContextData.condition,callback:function(e){t.$set(t.editContextData,"condition",e)},expression:"editContextData.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editContextSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.context.EditContext=!1}}},[t._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};var It=function(t){i("y8Dh")},Mt=i("VU/8")(St.a,Tt,!1,It,null,null).exports,Ft={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var At=i("VU/8")({data:function(){return{}},methods:{}},Ft,!1,function(t){i("oZ0Y")},"data-v-e60f65b6",null).exports,Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData},on:{"row-dblclick":t.doubleClickFn}},[a("el-table-column",{attrs:{label:"姓名",prop:"case_name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_money",label:"委案金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_currency",label:"币种"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_paid",label:"已还款"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_exceed_limit",label:"逾期账龄"}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_call",label:"上次通话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"call_times",label:"通话次数"}})],1)},staticRenderFns:[]},$t=i("VU/8")({name:"tableCaseDetail",props:["tableData"],methods:{doubleClickFn:function(t){this.$emit("doubleClickFn",t.id)}}},Lt,!1,null,null,null).exports,Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableSecond}},[a("el-table-column",{attrs:{label:"姓名",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"关系",prop:"relation"}}),t._v(" "),a("el-table-column",{attrs:{label:"电话",prop:"phone"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建者",prop:"creater"}}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"create_time"}}),t._v(" "),a("el-table-column",{attrs:{label:"催收类型",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type==1"}]},[t._v("呼叫 ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type==2"}]},[t._v("信函 ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.row.type,expression:"scope.row.type==3"}]},[t._v("外访 ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4==e.row.type,expression:"scope.row.type==4"}]},[t._v("录入 ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:6==e.row.type,expression:"scope.row.type==6"}]},[t._v("机器人呼叫 ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"通话记录",prop:"type"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:6!=e.row.type&&1!=e.row.type,type:"primary",size:"mini"},on:{click:function(a){t.checkFn(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"通话时长"}}),t._v(" "),a("el-table-column",{attrs:{label:"通话备注",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"case_id_num"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){t.addRemarkFn(e.row)}}},[t._v("修改备注")])]}}])})],1)},staticRenderFns:[]},jt=i("VU/8")({name:"tableCaseSecond",props:["tableSecond"],methods:{checkFn:function(t){this.$emit("checkFn",t)},addRemarkFn:function(t){this.$emit("addRemarkFn",t)}}},Ot,!1,null,null,null).exports,Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{inline:!0,model:t.formTitle,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"电话号码"}},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:t.formTitle.phone,callback:function(e){t.$set(t.formTitle,"phone",e)},expression:"formTitle.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关系"}},[a("el-select",{attrs:{placeholder:"请选择关系"},model:{value:t.formTitle.relation,callback:function(e){t.$set(t.formTitle,"relation",e)},expression:"formTitle.relation"}},t._l(t.relationList,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"催收结果"}},[a("el-select",{attrs:{placeholder:"请选择结果"},model:{value:t.formTitle.record_status,callback:function(e){t.$set(t.formTitle,"record_status",e)},expression:"formTitle.record_status"}},t._l(t.endList,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"通话备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入通话备注"},model:{value:t.formTitle.remark,callback:function(e){t.$set(t.formTitle,"remark",e)},expression:"formTitle.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下次跟进"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:t.formTitle.next_time,callback:function(e){t.$set(t.formTitle,"next_time",e)},expression:"formTitle.next_time"}})],1)],1)},staticRenderFns:[]},zt=i("VU/8")({name:"formCaseDetail",props:["formTitle","relationList","endList"]},Nt,!1,null,null,null).exports,Rt=(i("V37U"),{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"dial-header  speci DialogueMain2"},[a("div",{staticClass:"info_title"},[t._v("被叫号码:"+t._s(t.detail.dst))]),t._v(" "),a("div",{staticClass:"info_details"},[a("div",{staticClass:"infoCover"},[a("span",{staticClass:"info_span"},[t._v("姓名:")]),t._v(t._s(t.detail.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"infoCover"},[a("span",{staticClass:"info_span"},[t._v("通话时长:")]),t._v(" "+t._s(t.detail.billsec)+"\n            ")]),t._v(" "),a("div",{staticClass:"infoCover"},[a("span",{staticClass:"info_span"},[t._v("使用话术:")]),t._v(" "+t._s(t.detail.template_name)+"\n            ")]),t._v(" "),a("div",{staticClass:"infoCover"},[a("span",{staticClass:"info_span"},[t._v(" 所属批次: ")]),t._v("  "+t._s(t.detail.batch_name)+"\n            ")])]),t._v(" "),a("div",{staticClass:"dialogue call_details"},[a("div",{staticClass:"totalRe"},[a("span",[t._v(" 完整录音 ")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!t.detail.path},on:{click:t.download}},[t._v("下载录音")])],1),t._v(" "),a("audio",{ref:"audio",staticStyle:{width:"100%"},attrs:{controls:"controls"},on:{click:function(e){t.playOne(t.detail.path)}}}),t._v(" "),a("div",{staticClass:"dialogueList"},[a("ul",{attrs:{id:"messageBox"}},[t._l(t.audioData,function(e,s){return a("li",{key:s,class:[{"layim-chat-mine":1==e.user},{"layim-chat-mine1":0==e.user}],staticStyle:{"font-size":"14px"}},[a("div",{staticClass:"layim-chat-user"},[1==e.user?a("img",{attrs:{src:i("lDQh")}}):t._e(),t._v(" "),0==e.user?a("img",{attrs:{src:i("AGL3")}}):t._e()]),t._v(" "),0==e.user?a("div",{staticClass:"everyone floatL"},[a("p",{staticStyle:{margin:"0"}},[t._v("言小通 "),a("i",[t._v(t._s(e.create_time))])]),t._v(" "),a("div",{staticClass:"layim-chat-text",staticStyle:{"margin-top":"0px"}},[t._v(t._s(e.msg))])]):t._e(),t._v(" "),1==e.user?a("div",{staticClass:"everyone floatR"},[a("p",{staticStyle:{margin:"0"}},[a("i",[t._v(t._s(e.create_time)+" ")]),t._v("用户")]),t._v(" "),a("div",{staticClass:"layim-chat-text",staticStyle:{"margin-top":"0px"}},[t._v(t._s(e.msg))])]):t._e(),t._v(" "),0==e.user?a("div",{directives:[{name:"show",rawName:"v-show",value:e.path,expression:"item.path"}],staticClass:"floatL marginT"},[a("img",{staticStyle:{width:"23px"},attrs:{src:i("avKH")},on:{click:function(a){t.textListen(e.path)}}})]):t._e(),t._v(" "),1==e.user?a("div",{directives:[{name:"show",rawName:"v-show",value:e.path,expression:"item.path"}],staticClass:"floatR marginT"},[a("img",{staticStyle:{width:"23px"},attrs:{src:i("avKH")},on:{click:function(a){t.textListen(e.path)}}})]):t._e()])}),t._v(" "),a("li",[a("audio",{ref:"audioPlay",staticStyle:{width:"100%"},attrs:{autoplay:""}})])],2)])])])])},staticRenderFns:[]});var qt=i("VU/8")({name:"addCheckDialog",props:["audioData","detail"],data:function(){return{spath:""}},methods:{download:function(){this.$emit("download")},playOne:function(t){this.$refs.audio.src=t},textListen:function(t){this.$refs.audioPlay.src=t,this.$refs.audioPlay.paused?(this.$refs.audioPlay.src=t,this.$refs.audioPlay.play()):this.$refs.audioPlay.pause(),this.$refs.audio.paused||this.$refs.audio.pause()}}},Rt,!1,function(t){i("5dj+")},null,null).exports,Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formRemark}},[a("el-form-item",{attrs:{label:t.remarkLabel,"label-width":"100px"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off",placeholder:"请输入备注"},model:{value:t.formRemark.remark,callback:function(e){t.$set(t.formRemark,"remark",e)},expression:"formRemark.remark"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},Ut=i("VU/8")({name:"addRemark",props:["formRemark","remarkLabel"],methods:{protectFn:function(){this.$emit("protectFn")},cancelFn:function(){this.$emit("cancelFn")}}},Qt,!1,null,null,null).exports,Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formLevel}},[a("el-form-item",{attrs:{label:"等级","label-width":"60px"}},[a("el-select",{attrs:{placeholder:"请选择等级"},model:{value:t.formLevel.case_level,callback:function(e){t.$set(t.formLevel,"case_level",e)},expression:"formLevel.case_level"}},t._l(t.levelList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},Pt=i("VU/8")({name:"addChangeLevel",props:["levelList","formLevel"],methods:{protectFn:function(){this.$emit("protectFn")},cancelFn:function(){this.$emit("cancelFn")}}},Bt,!1,null,null,null).exports,Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("span",[t._v("性别(0:未知 1:男 2:女):"+t._s(t.selfInfo.case_gender))]),a("span",[t._v("家庭号码:"+t._s(t.selfInfo.case_home_phone))]),a("span",[t._v("案人职位："+t._s(t.selfInfo.case_position))]),a("span",[t._v("案人部门:"+t._s(t.selfInfo.case_department))])]),t._v(" "),a("div",[a("span",[t._v("单位邮编:"+t._s(t.selfInfo.case_work_postcode)+"  ")]),a("span",[t._v("家庭地址:"+t._s(t.selfInfo.case_home_address))]),a("span",[t._v("家庭邮编:"+t._s(t.selfInfo.case_home_postcode))])]),t._v(" "),a("div",[a("span",[t._v("对账单地址:"+t._s(t.selfInfo.case_mail_address)+"  ")]),a("span",[t._v("对账单邮编:"+t._s(t.selfInfo.case_mail_postcode))]),a("span",[t._v("户籍地址:"+t._s(t.selfInfo.case_register_address))]),a("span",[t._v("户籍地邮编:"+t._s(t.selfInfo.case_register_postcode))])]),t._v(" "),a("div",[a("span",[t._v("qq:"+t._s(t.selfInfo.case_qq)+"  ")]),a("span",[t._v("电子邮箱:"+t._s(t.selfInfo.case_email))]),a("span",[t._v("生日:"+t._s(t.selfInfo.case_birthday))]),a("span",[t._v("年龄:"+t._s(t.selfInfo.case_age))]),a("span",[t._v("省份:"+t._s(t.selfInfo.case_province))]),a("span",[t._v("城市:"+t._s(t.selfInfo.case_city))]),a("span",[t._v("区县:"+t._s(t.selfInfo.case_district))])]),t._v(" "),a("div",[a("span",[t._v("备注1:"+t._s(t.selfInfo.case_remark1)+"  ")]),a("span",[t._v("社保电脑号:"+t._s(t.selfInfo.case_social_number))]),a("span",[t._v("社保卡号:"+t._s(t.selfInfo.case_social_card))]),a("span",[t._v("开户行:"+t._s(t.selfInfo.case_card_bank))])]),t._v(" "),a("div",[a("span",[t._v("联系人1姓名:"+t._s(t.selfInfo.case_name1)+"  ")]),a("span",[t._v("联系人1证件号:"+t._s(t.selfInfo.case_card1))]),a("span",[t._v("联系人1关系:"+t._s(t.selfInfo.case_relation1))]),a("span",[t._v("联系人1家庭电话:"+t._s(t.selfInfo.case_home_phone1))])]),t._v(" "),a("div",[a("span",[t._v("联系人1单位电话:"+t._s(t.selfInfo.case_work_phone1)+"  ")]),a("span",[t._v("联系人1手机号:"+t._s(t.selfInfo.case_mobile1))]),a("span",[t._v("联系人1地址:"+t._s(t.selfInfo.case_address1))]),a("span",[t._v("联系人1单位地址:"+t._s(t.selfInfo.case_work_address1))])]),t._v(" "),a("div",[a("span",[t._v("联系人2姓名:"+t._s(t.selfInfo.case_name2)+"  ")]),a("span",[t._v("联系人2证件号:"+t._s(t.selfInfo.case_card2))]),a("span",[t._v("联系人2关系:"+t._s(t.selfInfo.case_relation2))]),a("span",[t._v("联系人2家庭电话:"+t._s(t.selfInfo.case_home_phone2))])]),t._v(" "),a("div",[a("span",[t._v("联系人2单位电话:"+t._s(t.selfInfo.case_work_phone2)+"  ")]),a("span",[t._v("联系人2手机号:"+t._s(t.selfInfo.case_mobile2))]),a("span",[t._v("联系人2地址:"+t._s(t.selfInfo.case_address2))]),a("span",[t._v("联系人2单位地址:"+t._s(t.selfInfo.case_work_address2))])]),t._v(" "),a("div",[a("span",[t._v("分配给坐席的工号 (0:未分配):"+t._s(t.selfInfo.staff_id)+"  ")]),a("span",[t._v("案件标记 (0:未做标记，正常状态 1:暂停 2:关闭 3:退案):"+t._s(t.selfInfo.case_status))])]),t._v(" "),a("div",[a("span",[t._v(" 坐席名称:"+t._s(t.selfInfo.staff_name)+"  ")]),a("span",[t._v("案件分配时间:"+t._s(t.selfInfo.allocate_time))])]),t._v(" "),a("div",[a("span",[t._v(" 上次通话时间:"+t._s(t.selfInfo.last_call)+"  ")]),a("span",[t._v("呼叫次数:"+t._s(t.selfInfo.call_times))])]),t._v(" "),a("div",[a("span",[t._v(" 更新时间:"+t._s(t.selfInfo.update_time)+"  ")]),a("span",[t._v("创建时间:"+t._s(t.selfInfo.create_time))]),a("span",[t._v("共案记录数:"+t._s(t.selfInfo.case_total))])]),t._v(" "),a("div",[a("span",[t._v("最后跟进日期："+t._s(t.selfInfo.case_last_collection_date)+"  ")]),a("span",[t._v("机器人呼叫次数："+t._s(t.selfInfo.case_called_times))]),a("span",[t._v("案件标色(0:没有颜色 1-6:其他颜色)："+t._s(t.selfInfo.case_color))])]),t._v(" "),a("div",[a("span",[t._v("委案日期："+t._s(t.selfInfo.case_organization_name)+"  ")]),a("span",[t._v("委案期限："+t._s(t.selfInfo.case_called_times))]),a("span",[t._v("委托方档案号："+t._s(t.selfInfo.case_client_num))]),a("span",[t._v("委托方单号:"+t._s(t.selfInfo.case_client_code))])]),t._v(" "),a("div",[a("span",[t._v("M值系数："+t._s(t.selfInfo.case_m)+"  ")]),a("span",[t._v("公司佣金比率："+t._s(t.selfInfo.case_commission_rate))]),a("span",[t._v("公司佣金金额："+t._s(t.selfInfo.case_commission))])]),t._v(" "),a("div",[a("span",[t._v("委案金额："+t._s(t.selfInfo.case_money)+"  ")]),a("span",[t._v("币种："+t._s(t.selfInfo.case_currency))])]),t._v(" "),a("div",[a("span",[t._v("证件类型："+t._s(t.selfInfo.case_num_type)+"  ")]),a("span",[t._v("卡号:"+t._s(t.selfInfo.case_card_num))])]),t._v(" "),a("div",[a("span",[t._v("账号："+t._s(t.selfInfo.case_account)+"  ")]),a("span",[t._v("账号名称:"+t._s(t.selfInfo.case_account_name))])]),t._v(" "),a("div",[a("span",[t._v("委托方卡类："+t._s(t.selfInfo.case_client_card_type)+"  ")])]),t._v(" "),a("div",[a("span",[t._v("本金："+t._s(t.selfInfo.case_principal)+"  ")]),a("span",[t._v("剩余本金:"+t._s(t.selfInfo.case_left_principal))]),a("span",[t._v("每月还款额："+t._s(t.selfInfo.case_month_paid)+"  ")]),a("span",[t._v("最低还款额:"+t._s(t.selfInfo.case_minimum_paid))])]),t._v(" "),a("div",[a("span",[t._v("账单日:"+t._s(t.selfInfo.case_bill_date))]),a("span",[t._v("账单周期："+t._s(t.selfInfo.case_bill_cycle)+"天  ")]),a("span",[t._v("未出账金额:"+t._s(t.selfInfo.case_no_out))]),a("span",[t._v("贷款利率:"+t._s(t.selfInfo.case_loan_rate))]),a("span",[t._v("信用额度:"+t._s(t.selfInfo.case_credit_limit))])]),t._v(" "),a("div",[a("span",[t._v("固定额度："+t._s(t.selfInfo.case_mobile1)+"  ")]),a("span",[t._v("拖欠级别:"+t._s(t.selfInfo.case_delay_level))]),a("span",[t._v("最后还款金额:"+t._s(t.selfInfo.case_last_paid))]),a("span",[t._v("最后还款日期:"+t._s(t.selfInfo.case_paid_date))]),a("span",[t._v("最后消费日期:"+t._s(t.selfInfo.case_consumption_date))])]),t._v(" "),a("div",[a("span",[t._v("最后提现日："+t._s(t.selfInfo.case_raise_date)+"  ")]),a("span",[t._v("停卡日:"+t._s(t.selfInfo.case_stop_date))]),a("span",[t._v("开卡日:"+t._s(t.selfInfo.case_create_date))]),a("span",[t._v("是否主副卡(0:主卡 1:副卡):"+t._s(t.selfInfo.case_main_card))]),a("span",[t._v("副卡卡人:"+t._s(t.selfInfo.case_secondary_holder))])]),t._v(" "),a("div",[a("span",[t._v("贷款日期："+t._s(t.selfInfo.case_loan_date)+"  ")]),a("span",[t._v("贷款截止日:"+t._s(t.selfInfo.case_loan_end_date))]),a("span",[t._v("逾期日期:"+t._s(t.selfInfo.case_overdue_date))]),a("span",[t._v("逾期期数:"+t._s(t.selfInfo.case_overdue_num))]),a("span",[t._v("逾期天数:"+t._s(t.selfInfo.case_overdue_days))])]),t._v(" "),a("div",[a("span",[t._v("曾逾期次数："+t._s(t.selfInfo.case_overdue_times)+"  ")]),a("span",[t._v("委案期数:"+t._s(t.selfInfo.case_count))]),a("span",[t._v("还款期限:"+t._s(t.selfInfo.case_paid_limit))]),a("span",[t._v("已还期数:"+t._s(t.selfInfo.case_paid_count))])]),t._v(" "),a("div",[a("span",[t._v("信贷分类："+t._s(t.selfInfo.case_loan_type)+"  ")]),a("span",[t._v("催收分类:"+t._s(t.selfInfo.case_coll_type))]),a("span",[t._v("逾期金额:"+t._s(t.selfInfo.case_overdue_money))]),a("span",[t._v("逾期本金:"+t._s(t.selfInfo.case_overdued_principal))])]),t._v(" "),a("div",[a("span",[t._v("逾期利息："+t._s(t.selfInfo.case_interest)+"  ")]),a("span",[t._v("逾期管理费:"+t._s(t.selfInfo.case_manage_cost))]),a("span",[t._v("逾期罚息:"+t._s(t.selfInfo.case_fine_interest))]),a("span",[t._v("违约金:"+t._s(t.selfInfo.case_overdued_penalty))]),a("span",[t._v("滞纳金:"+t._s(t.selfInfo.case_late_fee))])]),t._v(" "),a("div",[a("span",[t._v("超限费："+t._s(t.selfInfo.case_over_limit)+"  ")]),a("span",[t._v("保证金:"+t._s(t.selfInfo.case_deposit))]),a("span",[t._v("原催收记录:"+t._s(t.selfInfo.case_previous_record))])])])},staticRenderFns:[]},Wt={name:"caseDetails",components:{"div-table":$t,"div-form":zt,"check-dialog":qt,"div-other":i("VU/8")({name:"divOther",props:["selfInfo"]},Vt,!1,null,null,null).exports,"change-dialog":Pt,"remark-dialog":Ut,"second-table":jt},data:function(){return{middleRef:{audioPlay:"",audio:""},whichOne:"",remarkTitle:"",changeLevel:!1,levelList:[],formLevel:{case_level:""},remarkShow:!1,formRemark:{remark:""},audioData:[{msg:"喂，您好！（两秒空音）",record:"/home/robot_sound_ai23/root23199_lisuijiahui/A1.wav",user:"0",uniqueid:"6_7600109_331a9fc78f474ac9e9254567295bffb8",create_time:"2018-09-11 01:21:19",path:""},{msg:"状态（两秒空音）",record:"/home/robot_sound_ai23/root23199_lisuijiahui/A1.wav",user:"1",uniqueid:"6_7600109_331a9fc78f474ac9e9254567295bff98",create_time:"2018-09-9 01:21:19",path:""}],detail:{},otherInfo:!1,selfInfo:{},id:"",checkNow:!1,middleCaseRecord:[],caseRecord:[],tableSecond:[],formTitle:{},relationList:[{name:"父亲",value:"1"},{name:"母亲",value:"2"},{name:"家人",value:"3"},{name:"配偶",value:"4"},{name:"朋友",value:"5"},{name:"亲戚",value:"6"},{name:"上司或老板",value:"7"},{name:"同事",value:"8"},{name:"同学",value:"9"}],endList:[{name:"查询还款",value:"1"},{name:"电话拒接",value:"2"},{name:"电话易主",value:"3"},{name:"空号",value:"4"},{name:"停机",value:"5"},{name:"网络查找",value:"6"},{name:"无法接通",value:"7"},{name:"无力偿还",value:"8"},{name:"无效电话",value:"9"},{name:"已还款",value:"10"},{name:"语音信箱",value:"11"}],remarkLabel:""}},activated:function(){this.id=this.$route.query.id,this.init(),this.getTableSecond()},methods:{beforeCloseFn:function(t){this.$refs.middleRef.$refs.audioPlay.paused||this.$refs.middleRef.$refs.audioPlay.pause(),this.$refs.middleRef.$refs.audio.paused||this.$refs.middleRef.$refs.audio.pause(),console.log("guanbiqian"),t()},init:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch-data/case-info",data:{id:this.id},success:function(e){1==e.statusCode&&(t.selfInfo=e.info.selfInfo,t.middleCaseRecord=e.info.caseRecord,t.caseRecord=[{id:e.info.selfInfo.id,case_name:e.info.selfInfo.case_name,case_money:e.info.selfInfo.case_money,case_currency:e.info.selfInfo.case_currency,case_paid:e.info.selfInfo.case_paid,case_exceed_limit:e.info.selfInfo.case_exceed_limit,last_call:e.info.selfInfo.last_call,call_times:e.info.selfInfo.call_times}])}};Object(_.a)(e)},getTableSecond:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch-data/collection-record-list",data:{case_id:this.id},success:function(e){1==e.statusCode&&(t.tableSecond=e.info)}};Object(_.a)(e)},callFn:function(t,e){var a=this,i={url:"/api/api_backend.php?r=asrcall-case-batch-data/call-out",data:{phone:t,case_id:this.id,relation:e},success:function(t){1==t.statusCode?(a.getTableSecond(),Object(f.Message)({message:t.message,type:"success",duration:2e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"error",duration:3e3})}};Object(_.a)(i)},sendLetter:function(t,e,a){this.remarkTitle="新增记录",this.remarkShow=!0,this.remarkLabel="备注",this.formRemark={type:t,phone:e,remark:"",relation:a}},saveFn:function(){var t=this;this.formTitle.case_id=this.id;var e={url:"/api/api_backend.php?r=asrcall-case-batch-data/add-collection-record",data:this.formTitle,success:function(e){1==e.statusCode?(t.formTitle={},t.getTableSecond(),Object(f.Message)({message:e.message,type:"success",duration:2e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"error",duration:2e3})}};Object(_.a)(e)},clearFn:function(){this.formTitle={}},checkFn:function(t){var e=this;this.checkNow=!0,this.whichOne=t.id;var a={url:"/api/api_backend.php?r=asrcall-case-batch-data/look-over",data:{id:t.id},success:function(t){1==t.statusCode&&(e.audioData=t.info.info,e.detail=t.info.call_record)}};Object(_.a)(a)},totalCaseFn:function(){this.caseRecord=this.caseRecord.concat(this.middleCaseRecord)},doubleClickFn:function(t){this.id=t,this.init(),this.getTableSecond()},callOtherInfo:function(t){this.otherInfo=t},changeLevelFn:function(){var t=this;this.changeLevel=!0;var e={url:"/api/api_backend.php?r=asrcall-case-batch-data/level-list",data:{id:this.id},success:function(e){1==e.statusCode&&(t.levelList=e.info,e.info.forEach(function(e){1==e.is_selected&&(t.formLevel.case_level=e.id)}))}};Object(_.a)(e)},saveLevelFn:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch-data/edit-level",data:{case_level:this.formLevel.case_level,id:this.id},success:function(e){1==e.statusCode?(t.changeLevel=!1,t.formLevel={case_level:""},t.init(),Object(f.Message)({message:e.message,type:"success",duration:2e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"error",duration:2e3})}};Object(_.a)(e)},sendInfoSave:function(){var t=this;if("新增记录"==this.remarkTitle){this.formRemark.case_id=this.id;var e={url:"/api/api_backend.php?r=asrcall-case-batch-data/letter-and-outbound",data:this.formRemark,success:function(e){1==e.statusCode?(t.remarkShow=!1,t.formRemark={remark:""},t.getTableSecond(),Object(f.Message)({message:e.message,type:"success",duration:2e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"error",duration:3e3})}};Object(_.a)(e)}else if("修改备注"==this.remarkTitle){var a={url:"/api/api_backend.php?r=asrcall-case-batch-data/edit-remark",data:this.formRemark,success:function(e){1==e.statusCode?(t.formRemark={},t.remarkTitle="",t.remarkLabel="",t.remarkShow=!1,t.getTableSecond(),Object(f.Message)({message:e.message,type:"success",duration:2e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"error",duration:3e3})}};Object(_.a)(a)}},cancelInfoSave:function(){this.remarkShow=!1},cancelChangeLevel:function(){this.changeLevel=!1},addRemarkFn:function(t){this.remarkTitle="修改备注",this.remarkShow=!0,this.remarkLabel="修改备注",this.formRemark={remark:t.remark,id:t.id}},downloadFn:function(){window.open("/api/api_backend.php?r=asrcall-case-batch-data/look-over&action=download&id="+this.whichOne)}}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"info"},[a("h3",[t._v("个人信息")]),t._v(" "),a("div",{staticClass:"redS"},[a("span",[t._v("案件序列号："+t._s(t.selfInfo.case_code))]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.totalCaseFn}},[t._v("（有"+t._s(t.selfInfo.case_total)+"条共案）")])],1),a("span",[t._v("案件等级："+t._s(t.selfInfo.case_level))]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.changeLevelFn}},[t._v("修改等级")])],1)]),t._v(" "),a("div",[a("span",[t._v("证件号码："+t._s(t.selfInfo.case_id_num)+"  ")]),a("span",[t._v("联系方式："+t._s(t.selfInfo.case_mobile))]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callFn(t.selfInfo.case_mobile,"本人")}}},[t._v("呼叫")])],1),a("span",[t._v("家庭住址："+t._s(t.selfInfo.case_home_address)+"  ")]),a("span",[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.sendLetter(2,t.selfInfo.case_mobile,"本人")}}},[t._v("信函")])],1),a("span",[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.sendLetter(3,t.selfInfo.case_mobile,"本人")}}},[t._v("外访")])],1)]),t._v(" "),a("div",[a("span",[t._v("工作单位："+t._s(t.selfInfo.case_organization_name)+"  ")]),a("span",[t._v("公司电话："+t._s(t.selfInfo.case_work_phone))]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callFn(t.selfInfo.case_work_phone,"公司")}}},[t._v("呼叫")])],1),a("span",[t._v("公司地址："+t._s(t.selfInfo.case_work_address)+"  ")]),a("span",[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.sendLetter(2,t.selfInfo.case_work_phone,"公司")}}},[t._v("信函")])],1),a("span",[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.sendLetter(3,t.selfInfo.case_work_phone,"公司")}}},[t._v("外访")])],1)]),t._v(" "),a("div",[a("span",[t._v("第一联系人："+t._s(t.selfInfo.case_mobile1)+"  ")]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callFn(t.selfInfo.case_mobile1,"第一联系人")}}},[t._v("呼叫")])],1),a("span",[t._v("第二联系人："+t._s(t.selfInfo.case_mobile2)+"  ")]),a("span",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callFn(t.selfInfo.case_mobile2,"第二联系人")}}},[t._v("呼叫")])],1)])]),t._v(" "),a("div",{staticClass:"info"},[a("h3",[t._v("案件信息")]),t._v(" "),a("div",[a("span",[t._v("委案金额："+t._s(t.selfInfo.case_money)+"  ")]),a("span",[t._v("还款金额："+t._s(t.selfInfo.case_paid)+"  ")]),a("span",[t._v("委托方："+t._s(t.selfInfo.client)+"  ")]),a("span",[t._v("逾期账龄："+t._s(t.selfInfo.case_exceed_limit)+"  ")]),a("span",[t._v("利息："+t._s(t.selfInfo.case_interest)+"  ")]),a("span",[t._v("退案日期："+t._s(t.selfInfo.case_back_date)+"  ")])])]),t._v(" "),a("div",{staticClass:"tableCover"},[a("div-table",{attrs:{tableData:t.caseRecord},on:{doubleClickFn:function(e){t.doubleClickFn(e)}}})],1),t._v(" "),a("div",{staticClass:"info otherI"},[a("h3",[t._v("其他信息"),a("span",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.otherInfo,expression:"!otherInfo"}],attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callOtherInfo(!0)}}},[t._v("展开")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.otherInfo,expression:"otherInfo"}],attrs:{type:"primary",size:"mini"},on:{click:function(e){t.callOtherInfo(!1)}}},[t._v("关闭")])],1)]),t._v(" "),a("div-other",{directives:[{name:"show",rawName:"v-show",value:t.otherInfo,expression:"otherInfo"}],attrs:{selfInfo:t.selfInfo}})],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"coverMiddle"},[a("div",{staticClass:"middle"},[a("div-form",{attrs:{formTitle:t.formTitle,relationList:t.relationList,endList:t.endList}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.saveFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.clearFn}},[t._v("清空")])],1)],1),t._v(" "),a("div",{staticClass:"middle"},[a("second-table",{attrs:{tableSecond:t.tableSecond},on:{checkFn:function(e){t.checkFn(e)},addRemarkFn:function(e){t.addRemarkFn(e)}}})],1)])]),t._v(" "),a("div",{staticClass:"coverDialog"},[a("el-dialog",{attrs:{title:"通话详情",visible:t.checkNow,"before-close":t.beforeCloseFn},on:{"update:visible":function(e){t.checkNow=e}}},[a("check-dialog",{ref:"middleRef",attrs:{audioData:t.audioData,detail:t.detail},on:{download:function(e){t.downloadFn(e)}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改等级",visible:t.changeLevel},on:{"update:visible":function(e){t.changeLevel=e}}},[a("change-dialog",{attrs:{levelList:t.levelList,formLevel:t.formLevel},on:{protectFn:function(e){t.saveLevelFn(e)},cancelFn:function(e){t.cancelChangeLevel(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.remarkTitle,visible:t.remarkShow},on:{"update:visible":function(e){t.remarkShow=e}}},[a("remark-dialog",{attrs:{formRemark:t.formRemark,remarkLabel:t.remarkLabel},on:{protectFn:function(e){t.sendInfoSave(e)},cancelFn:function(e){t.cancelInfoSave(e)}}})],1)],1)},staticRenderFns:[]},Zt=i("VU/8")(Wt,Yt,!1,null,null,null).exports,Gt={components:{"page-change":x,"div-form":k,"second-form":D,"div-table":T,"edit-dialog":M,"second-dialog":L},data:function(){return{ableNum:0,distributeNow:!1,bannerTitle:"修改区域",addChangeAreaNow:!1,case_num:"",case_all_money:"",formDistribute:{depart:"",staff:""},formKey:{key:""},form:{name:"",region:""},levelList:[],batchList:[],departmentList:[],clientList:[],staffList:[],conditions:{case_name:"",case_mobile:"",case_id_num:"",case_status:"",talk_recode:"",case_level:"",batch_id:"",depart_id:"",staff_id:"",case_color:"",id:"",case_client:"",talk_time1:"",talk_time2:"",case_money1:"",case_money2:"",case_money:["",""],case_date:["",""],case_back_date:["",""],case_last_collection_date:["",""],talk_time:["",""]},formInline:{user:"",region:""},id:"",page:1,page_size:10,total:0,addNow:!1,tableData:[],formTitle:{id:""},caseStatusList:[{value:"0",label:"正常状态"},{value:"1",label:"暂停"},{value:"2",label:"关闭"},{value:"3",label:"退案"}],multipList:[],areaList:[],filterList:[],case_id:null}},activated:function(){this.conditions.staff_id=this.$route.query.staff_id,this.conditions.depart_id=this.$route.query.depart_id,this.conditions.batch_id=this.$route.query.batch_id,this.init(),this.getBatchList(),this.getDepartmentList(1),this.filterFn("")},methods:{changeCaseClient:function(e){t=e},handleSelectionChange:function(t){this.multipList=t},getBatchList:function(){var t=this,e={url:"/api/api_backend.php?r=collection/init-search",success:function(e){1==e.statusCode&&(t.levelList=e.info.case_level,t.batchList=e.info.batch_id)}};Object(_.a)(e)},changeFn:function(t){this.id=t},getDepartmentList:function(t){var e=this,a={url:"/api/api_backend.php?r=collection/depart-search",data:{id:this.id},success:function(a){1==a.statusCode&&(1==t?e.departmentList=a.info.depart:2==t&&(e.staffList=a.info.staff),e.id="")}};Object(_.a)(a)},filterFn:function(t){var e=this,a={url:"/api/api_backend.php?r=collection/client-search",data:{case_client:t},success:function(t){1==t.statusCode?(e.filterList=t.info.client,e.conditions.case_client=t.info.client_batch_id):0==t.statusCode&&(e.filterList=[])}};Object(_.a)(a)},init:function(){var t=this,e={case_name:this.conditions.case_name,case_mobile:this.conditions.case_mobile,case_id_num:this.conditions.case_id_num,case_status:this.conditions.case_status,talk_recode:this.conditions.talk_recode,case_level:this.conditions.case_level,batch_id:this.conditions.batch_id,depart_id:this.conditions.depart_id,staff_id:this.conditions.staff_id,case_color:this.conditions.case_color,id:this.conditions.id,case_client:this.conditions.case_client,case_money:[this.conditions.case_money1,this.conditions.case_money2],case_date:this.conditions.case_date,case_back_date:this.conditions.case_back_date,case_last_collection_date:this.conditions.case_last_collection_date,talk_time:[this.conditions.talk_time1,this.conditions.talk_time2]},a={url:"/api/api_backend.php?r=collection/search",data:{data:u()(e),page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info.info.map(function(e){return t.caseStatusList.forEach(function(t){t.value==e.case_status&&(e.case_status=t.label)}),e}),t.total=Number(e.info.total),t.case_all_money=e.info.case_all_money,t.case_num=e.info.case_num,t.case_id=e.info.case_id)}};Object(_.a)(a)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},clearFn:function(){this.conditions={case_name:"",case_mobile:"",case_id_num:"",case_status:"",talk_recode:"",case_level:"",batch_id:"",depart_id:"",staff_id:"",case_color:"",id:"",case_client:"",talk_time1:"",talk_time2:"",case_money1:"",case_money2:"",case_money:["",""],case_date:["",""],case_back_date:["",""],case_last_collection_date:["",""],talk_time:["",""]}},changeArea:function(){var t=this;if(this.multipList.length){this.addChangeAreaNow=!0,this.formTitle={id:""};var e={url:"/api/api_backend.php?r=collection/area-query",success:function(e){1==e.statusCode&&(t.areaList=e.info)}};Object(_.a)(e)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},protectFn:function(){var t=this,e={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:"",case_color:"",collection_area:this.formTitle.id})},success:function(e){1==e.statusCode?(t.formTitle={id:""},t.addChangeAreaNow=!1,t.init(),t.multipList=[],Object(f.Message)({message:e.message,type:"success",duration:3e3})):Object(f.Message)({message:e.message,type:"info",duration:3e3})}};Object(_.a)(e)},cancelFn:function(){this.addChangeAreaNow=!1},pauseFn:function(t){var e=this;if(this.multipList.length){var a={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:t,case_color:"",collection_area:""})},success:function(t){1==t.statusCode?(e.init(),e.multipList=[],Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},colorChange:function(t){var e=this;if(this.multipList.length){var a={url:"/api/api_backend.php?r=collection/update",data:{id:this.multipList.map(function(t){return t.id}),data:u()({case_status:"",case_color:t,collection_area:""})},success:function(t){1==t.statusCode?(e.init(),e.multipList=[],Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}else Object(f.Message)({message:"请先选择要修改的数据",type:"info",duration:3e3})},distributeFn:function(t){var e=this;1==t&&(this.distributeNow=!0);var a=this.formDistribute;a.split_status=t,a.case_id=this.case_id;var i={url:"/api/api_backend.php?r=collection/case-split",data:{data:u()(a)},success:function(t){1==t.statusCode?(e.ableNum=t.info.case_all_num,Object(f.Message)({message:t.message,type:"success",duration:3e3})):Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(i)},cancelDistribute:function(){this.distributeNow=!1},sureToDistribute:function(t){var e=this.formDistribute;e.split_status=t,e.case_id=this.case_id;var a={url:"/api/api_backend.php?r=collection/case-split",data:{data:u()(e)},success:function(t){1==t.statusCode||Object(f.Message)({message:t.message,type:"info",duration:3e3})}};Object(_.a)(a)}}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cover"},[a("div-form",{attrs:{conditions:t.conditions,levelList:t.levelList,filterList:t.filterList,batchList:t.batchList,departmentList:t.departmentList,staffList:t.staffList,clientList:t.clientList,caseStatusList:t.caseStatusList},on:{changeFn:function(e){t.changeFn(e)},getDepartmentList:function(e){t.getDepartmentList(e)},filterFn:function(e){t.filterFn(e)}}}),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.init}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.clearFn}},[t._v("清空")])],1),t._v(" "),a("div",[a("div",{staticClass:"blueB"},[a("second-form",{attrs:{form:t.form},on:{changeArea:function(e){t.changeArea(e)},pauseFn:function(e){t.pauseFn(e)},colorChange:function(e){t.colorChange(e)},distributeFn:function(e){t.distributeFn(e)}}})],1)]),t._v(" "),a("div",{staticClass:"tableCover"},[a("div",{staticClass:"totalT"},[t._v("\r\n\t\t\t查询统计：\t案件总数："+t._s(t.case_num)+"件，总金额：￥"+t._s(t.case_all_money)+"\r\n\t\t")]),t._v(" "),a("div-table",{attrs:{tableData:t.tableData},on:{handleSelectionChange:function(e){t.handleSelectionChange(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addChangeAreaNow},on:{"update:visible":function(e){t.addChangeAreaNow=e}}},[a("edit-dialog",{attrs:{areaList:t.areaList,formTitle:t.formTitle},on:{protectFn:function(e){t.protectFn(e)},cancelFn:function(e){t.cancelFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"手动分配",visible:t.distributeNow},on:{"update:visible":function(e){t.distributeNow=e}}},[a("second-dialog",{attrs:{formDistribute:t.formDistribute,departmentList:t.departmentList,ableNum:t.ableNum,staffList:t.staffList},on:{cancelDistribute:function(e){t.cancelDistribute(e)},sureToDistribute:function(e){t.sureToDistribute(e)},changeFn:function(e){t.changeFn(e)},getDepartmentList:function(e){t.getDepartmentList(e)}}})],1)],1)])},staticRenderFns:[]};var Ht=i("VU/8")(Gt,Jt,!1,function(t){i("rcJa")},null,null).exports,Kt={name:"addArea",props:["id","title","formTitle"],methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"区域添加"==this.title?a="/api/api_backend.php?r=system-setting/area-add":"区域编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/area-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(i)}}},Xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"区域名称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},te={components:{"edit-dialog":i("VU/8")(Kt,Xt,!1,null,null,null).exports,"page-change":x},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"区域添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""}}},activated:function(){this.init()},methods:{methodIndex:function(t){return U(t,this.page,this.page_size)},init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/area-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.formTitle,t.total=Number(e.total))}};Object(_.a)(e)},addFn:function(t){this.bannerTitle="区域添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},editFn:function(t){this.bannerTitle="区域编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/area-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加区域")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"区域名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var ae=i("VU/8")(te,ee,!1,function(t){i("0Y0Z")},null,null).exports,ie={name:"addClient",props:["id","title","formTitle"],methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"委托方添加"==this.title?a="/api/api_backend.php?r=system-setting/commissioning-party-add":"委托方编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/commissioning-party-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(i)}}},se={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"委托方名称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编号前缀","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.prefix,callback:function(e){t.$set(t.formTitle,"prefix",e)},expression:"formTitle.prefix"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},ne={name:"tableClientCon",props:["tableData","page","page_size"],methods:{editFn:function(t){this.$emit("editFn",t)},deleteFn:function(t){this.$emit("deleteFn",t)},methodIndex:function(t){return U(t,this.page,this.page_size)}}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"委托方名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"prefix",label:"前缀"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]},le={components:{"edit-dialog":i("VU/8")(ie,se,!1,null,null,null).exports,"page-change":x,"div-table":i("VU/8")(ne,oe,!1,null,null,null).exports},data:function(){return{id:"",page:1,total:0,page_size:10,bannerTitle:"委托方添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:"",prefix:""}}},activated:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/commissioning-party-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(_.a)(e)},addFn:function(t){this.bannerTitle="委托方添加",this.addNow=t,this.id=""},pageSizeChangeFn:function(t){this.pageSize=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:"",prefix:""}},editFn:function(t){this.bannerTitle="委托方编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name,prefix:t.prefix}},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/commissioning-party-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},re={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加委托方")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("div-table",{attrs:{tableData:t.tableData,page:t.page,page_size:t.page_size},on:{editFn:function(e){t.editFn(e)},deleteFn:function(e){t.deleteFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},clearId:function(e){t.changeId(e)},saveFn:function(e){t.init(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var ce=i("VU/8")(le,re,!1,function(t){i("GvQb")},null,null).exports,de={name:"addArea",props:["id","title","formTitle"],methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"案件类型添加"==this.title?a="/api/api_backend.php?r=system-setting/case-type-add":"案件类型编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/case-type-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(i)}}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"案件类型","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},pe={name:"tableCaseCon",props:["tableData","page","page_size"],methods:{editFn:function(t){this.$emit("editFn",t)},deleteFn:function(t){this.$emit("deleteFn",t)},methodIndex:function(t){return U(t,this.page,this.page_size)}}},me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"区域名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]},_e={components:{"edit-dialog":i("VU/8")(de,ue,!1,null,null,null).exports,"page-change":x,"div-table":i("VU/8")(pe,me,!1,null,null,null).exports},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"案件类型添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""}}},activated:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/case-type-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(_.a)(e)},addFn:function(t){this.bannerTitle="案件类型添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},editFn:function(t){this.bannerTitle="案件类型编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/case-type-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加案件类型")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("div-table",{attrs:{tableData:t.tableData,page:t.page,page_size:t.page_size},on:{editFn:function(e){t.editFn(e)},deleteFn:function(e){t.deleteFn(e)},downloadFn:function(e){t.downloadFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var he=i("VU/8")(_e,fe,!1,function(t){i("wh+y")},null,null).exports,ve=i("VU/8")(null,null,!1,null,null,null).exports,be={name:"addArea",props:["id","title","formTitle","fieldsList"],methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this;this.formTitle.fields=this.fieldsList.map(function(t){if(1==t.choose)return t.id}).join(",");var e=this.formTitle,a=void 0;"模板添加"==this.title?a="/api/api_backend.php?r=system-setting/template-add":"模板编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/template-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(i)}}},ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"模板名称","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择字段","label-width":"80px"}},t._l(this.fieldsList,function(e){return a("el-checkbox",{key:e.id,class:"1"==e.is_required?"red":"",model:{value:e.choose,callback:function(a){t.$set(e,"choose",a)},expression:"item.choose"}},[t._v("\n                    "+t._s(e.field_name)+"\n                ")])}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]};var ye={components:{"edit-dialog":i("VU/8")(be,ge,!1,function(t){i("Mhg1")},null,null).exports,"page-change":x,"div-table":V},data:function(){return{id:"",templateUse:!0,page:1,page_size:10,total:0,bannerTitle:"模板添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""},fieldsList:[]}},activated:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(_.a)(e)},askFields:function(t,e){var a=this,i={url:"/api/api_backend.php?r=system-setting/template-all-fields-list",success:function(i){1==i.statusCode&&(1==t?a.fieldsList=i.info:2==t&&(a.fieldsList=i.info.map(function(t){return-1!=(","+e+",").indexOf(","+t.id+",")&&(t.choose=!0),t})))}};Object(_.a)(i)},addFn:function(t){this.bannerTitle="模板添加",this.addNow=t,this.id="",this.formTitle={name:""},this.askFields(1)},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""},this.fieldsList=[]},editFn:function(t){this.bannerTitle="模板编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name},this.askFields(2,t.fields)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/template-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})},downloadFn:function(t){window.open("/api/api_backend.php?r=system-setting/template-download&id="+t.id)}}},xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加模板")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("div-table",{attrs:{templateUse:t.templateUse,tableData:t.tableData,page:t.page,page_size:t.page_size},on:{editFn:function(e){t.editFn(e)},deleteFn:function(e){t.deleteFn(e)},downloadFn:function(e){t.downloadFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle,fieldsList:t.fieldsList},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var we=i("VU/8")(ye,xe,!1,function(t){i("Mu93")},null,null).exports,ke={name:"addArea",props:["id","title","formTitle"],data:function(){return{formLabelWidth:"100px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"等级添加"==this.title?a="/api/api_backend.php?r=system-setting/case-level-add":"等级编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/case-level-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(f.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(f.Message)({message:e.message,type:"erro",duration:3e3})}};Object(_.a)(i)}}},Ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"等级名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"方案设置","label-width":t.formLabelWidth}}),t._v(" "),a("el-form-item",{attrs:{label:"本人电话","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.self_phone_status,callback:function(e){t.$set(t.formTitle,"self_phone_status",e)},expression:"formTitle.self_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.self_phone_status,callback:function(e){t.$set(t.formTitle,"self_phone_status",e)},expression:"formTitle.self_phone_status"}},[t._v("未接通")])],1),t._v(" "),a("el-form-item",{attrs:{label:"第一联系人","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.first_contact_phone_status,callback:function(e){t.$set(t.formTitle,"first_contact_phone_status",e)},expression:"formTitle.first_contact_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.first_contact_phone_status,callback:function(e){t.$set(t.formTitle,"first_contact_phone_status",e)},expression:"formTitle.first_contact_phone_status"}},[t._v("未接通")])],1),t._v(" "),a("el-form-item",{attrs:{label:"第二联系人","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.second_contact_phone_status,callback:function(e){t.$set(t.formTitle,"second_contact_phone_status",e)},expression:"formTitle.second_contact_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.second_contact_phone_status,callback:function(e){t.$set(t.formTitle,"second_contact_phone_status",e)},expression:"formTitle.second_contact_phone_status"}},[t._v("未接通")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},De={components:{"edit-dialog":i("VU/8")(ke,Ce,!1,null,null,null).exports,"page-change":x},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"等级添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:"",self_phone_status:"",first_contact_phone_status:"",second_contact_phone_status:""}}},activated:function(){this.init()},methods:{methodIndex:function(t){return U(t,this.page,this.page_size)},init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/case-level-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(_.a)(e)},addFn:function(t){this.bannerTitle="等级添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:"",self_phone_status:"",first_contact_phone_status:"",second_contact_phone_status:""}},editFn:function(t){this.bannerTitle="等级编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name,self_phone_status:t.self_phone_status,first_contact_phone_status:t.first_contact_phone_status,second_contact_phone_status:t.second_contact_phone_status}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/case-level-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(f.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(f.Message)({message:t.message,type:"erro",duration:3e3})}};Object(_.a)(a)}).catch(function(){Object(f.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加等级")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",index:t.methodIndex,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"等级名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"方案"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var Se=i("VU/8")(De,Ee,!1,function(t){i("yZU0")},null,null).exports,Te={data:function(){return{currentPage:1,page:1,page_size:10,total:0,tableData:[],changePassword:!1,editPassword:{exten:"",password:""}}},activated:function(){this.init()},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},init:function(){var t=this,e={url:"/api/api_backend.php?r=seat-manage/seat-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode?(t.tableData=e.info.info,t.total=parseInt(e.info.total)):(t.tableData=[],t.total=0)}};Object(_.a)(e)},handleSizeChange:function(t){this.page_size=t,this.init()},handleCurrentChange:function(t){this.page=t,this.init()},changePass:function(t,e){this.editPassword.exten=e.exten,this.editPassword.password="",this.changePassword=!0},changePassSure:function(){var t=this,e=this.editPassword.password.trim(),a={url:"/api/api_backend.php?r=seat-manage/change-pwd",data:{exten:this.editPassword.exten,password:e},success:function(e){t.$alert(e.message),1==e.statusCode?t.changePassword=!1:t.changePassword=!0}};Object(_.a)(a)}}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"TopForm"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:"",stripe:"",height:t.total>0?500:100}},[a("el-table-column",{attrs:{type:"index",index:t.index,label:"序号",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"exten",label:"分机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"分机状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1==e.row.status?a("span",{staticStyle:{color:"#e38028"}},[t._v("分机找不到")]):0==e.row.status?a("span",{staticStyle:{color:"#60b549"}},[t._v("空闲")]):2==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("分机忙")]):4==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("不可用")]):8==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("振铃")]):9==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("振铃")]):16==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("正等待")]):1==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("通话中")]):18==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("小休")]):19==e.row.status?a("span",{staticStyle:{color:"#0093fa"}},[t._v("正忙")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"IP地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"port",label:"端口号"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",plain:""},on:{click:function(a){t.changePass(e.$index,e.row)}}},[t._v("修改密码")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!t.total,expression:"!!total"}],staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain1"},[a("el-dialog",{attrs:{title:"修改密码",visible:t.changePassword,"close-on-click-modal":!1},on:{"update:visible":function(e){t.changePassword=e}}},[a("el-form",{attrs:{"label-width":"100px"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"输入新密码："}},[a("el-input",{attrs:{type:"password"},model:{value:t.editPassword.password,callback:function(e){t.$set(t.editPassword,"password",e)},expression:"editPassword.password"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.changePassSure}},[t._v("确认")])],1)],1)],1)])},staticRenderFns:[]},Me=i("VU/8")(Te,Ie,!1,null,null,null).exports,Fe={data:function(){var t=this;return{width:"width:80px",pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(e){if(""!=t.form.alloc_time_start){var a=t.form.alloc_time_start;return e.getTime()<a||e.getTime()>Date.now()}return e.getTime()>Date.now()}},form:{page:1,page_size:10,depart_id:"",name:"",case_paid_start:"",case_paid_end:"",case_paid:"",case_money_start:"",case_money_end:"",case_money:"",alloc_time_start:"",alloc_time_end:"",alloc_time:""},departList:[],infos:[],tip:{total_task_count:"",total_case_count:"",task_case_count_percent:"",total_case_paid:"",total_case_money:"",paid_money_percent:""},rest_num:"",curr:1,total:0,multipleSelection:[],staff_id_arr:[]}},activated:function(){this.initList(),this.init(0)},methods:{index:function(t){return(this.form.page-1)*this.form.page_size+t+1},initList:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/sort-list",success:function(e){t.departList=e.info}};Object(_.a)(e)},init:function(t){var e=this,a=this.form;0==t?(a.page=this.form.page,a.page_size=this.form.page_size):1==t&&(a.page=1,a.page_size=10),""!=this.form.case_paid_start&&""!=this.form.case_paid_end?a.case_paid=this.form.case_paid_start+","+this.form.case_paid_end:a.case_paid="",""!=this.form.case_money_start&&""!=this.form.case_money_end?a.case_money=this.form.case_money_start+","+this.form.case_money_end:a.case_money="",""!=this.form.alloc_time_start&&""!=this.form.alloc_time_end?a.alloc_time=Object(_.c)(this.form.alloc_time_start,"yyyy-MM-dd hh:mm:ss")+","+Object(_.c)(this.form.alloc_time_end,"yyyy-MM-dd hh:mm:ss"):a.alloc_time="";var i={url:"/api/api_backend.php?r=collect-depart/manage-list",data:a,success:function(t){e.infos=t.info.info,e.tip.total_task_count=t.info.total_task_count,e.tip.total_case_count=t.info.total_case_count,e.tip.task_case_count_percent=t.info.task_case_count_percent,e.tip.total_case_paid=t.info.total_case_paid,e.tip.total_case_money=t.info.total_case_money,e.tip.paid_money_percent=t.info.paid_money_percent,e.total=parseInt(t.info.total)}};Object(_.a)(i)},handleSelectionChange:function(t){this.multipleSelection=t,this.staff_id_arr=this.multipleSelection.map(function(t){return t.staff_id})},handleSizeChange:function(t){this.form.page_size=t,this.init()},handleCurrentChange:function(t){this.page=t,this.init()},recall:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/batch-cancel",data:{staff_id:this.staff_id_arr.join(",")},success:function(e){t.$alert(e.message),t.init()}};Object(_.a)(e)},exportDate:function(){window.open("/api/api_backend.php?r=collect-depart/manage-export&depart_id="+this.form.depart_id+"&name="+this.form.name+"&case_paid="+this.form.case_paid+"&case_money="+this.form.case_money+"&alloc_time="+this.form.alloc_time)},check:function(t,e){this.$router.push({path:"/caseManagement/",query:{staff_id:e.staff_id,depart_id:e.depart_id}})}}},Ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-form",{attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"所属部门:"}},[a("el-select",{attrs:{placeholder:"案件状态"},model:{value:t.form.depart_id,callback:function(e){t.$set(t.form,"depart_id",e)},expression:"form.depart_id"}},t._l(t.departList,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.depart_name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"已还款额："}},[a("el-input",{style:t.width,model:{value:t.form.case_paid_start,callback:function(e){t.$set(t.form,"case_paid_start",e)},expression:"form.case_paid_start"}}),t._v("~\n        "),a("el-input",{style:t.width,model:{value:t.form.case_paid_end,callback:function(e){t.$set(t.form,"case_paid_end",e)},expression:"form.case_paid_end"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"委托金额:"}},[a("el-input",{style:t.width,model:{value:t.form.case_money_start,callback:function(e){t.$set(t.form,"case_money_start",e)},expression:"form.case_money_start"}}),t._v("~\n        "),a("el-input",{style:t.width,model:{value:t.form.case_money_end,callback:function(e){t.$set(t.form,"case_money_end",e)},expression:"form.case_money_end"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最后分配时间:"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始时间","default-time":"00:00:00","picker-options":t.pickerOptions0,clearable:!1},model:{value:t.form.alloc_time_start,callback:function(e){t.$set(t.form,"alloc_time_start",e)},expression:"form.alloc_time_start"}}),t._v("~\n        "),a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间","default-time":"23:59:59","picker-options":t.pickerOptions1,clearable:!1},model:{value:t.form.alloc_time_end,callback:function(e){t.$set(t.form,"alloc_time_end",e)},expression:"form.alloc_time_end"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(e){t.init(1)}}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.recall}},[t._v("批量撤回")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.exportDate}},[t._v("导出报表")])],1)],1),t._v(" "),a("p",{staticStyle:{height:"30px",background:"rgba(255, 153, 51, 1)","line-height":"30px",color:"#fff"}},[t._v("任务数量:"+t._s(t.tip.total_task_count)+",跟进数:"+t._s(t.tip.total_case_count)+",跟进率:"+t._s(t.tip.task_case_count_percent)+",委案金额:"+t._s(t.tip.total_case_money)+",已还款额:"+t._s(t.tip.total_case_paid)+",还款率:"+t._s(t.tip.paid_money_percent))]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:"",height:t.total>0?500:100},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.index}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"depart_name",label:"所在部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"allocate_time",label:"最后分配时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"task_count",label:"任务数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_count",label:"跟进数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_money",label:"委案金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_paid",label:"已还款额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"allocate_time",label:"最后分配时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.check(e.$index,e.row)}}},[t._v("查看任务")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[10,20,25,30],"page-size":t.form.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var Le=i("VU/8")(Fe,Ae,!1,function(t){i("W/oW")},null,null).exports,$e={data:function(){return{fileList:[],node_operate:!1,showInput:!1,showId:"",showName:"",defaultProps2:{children:"child",value:"parent_id",label:"depart_name"},form:{parent_id:"0",depart_name:"",parent_str:""},Dates:[],addMemberDio:!1,formMember:{depart_id:"",true_name:"",password:"",phone:"",depart_str:""},infos:[],rest_num:"",curr:1,total:0,page:1,page_size:10,addMemberDioEdit:!1,DatesEdit:[],formMemberEdit:{depart_id:"",login_name:"",true_name:"",password:"",phone:"",depart_str:""},editPasswordDio:!1,editPasswordForm:{password:"",id:""}}},activated:function(){this.initTree(),this.init()},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},initTree:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/sort-list",success:function(e){t.Dates=e.info}};Object(_.a)(e)},addBranch:function(){this.node_operate=!0},addBranchSave:function(){var t=this,e=this.form;0==this.form.parent_id?e.parent_str="0":e.parent_str="0,"+this.form.parent_id;var a={url:"/api/api_backend.php?r=collect-depart/depart-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.node_operate=!1,t.initTree(),t.form.parent_id="0",t.form.depart_name="",t.form.parent_str=""):t.node_operate=!0,Object(_.e)(e)}};Object(_.a)(a)},edit:function(t,e){var a=this,i={url:"/api/api_backend.php?r=collect-depart/depart-show",data:{id:e.id},success:function(t){a.showId=t.info.id,a.showName=t.info.depart_name}};Object(_.a)(i)},editSave:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/depart-edit",data:{id:this.showId,depart_name:this.showName},success:function(e){t.$alert(e.message),t.showId="",t.showName="",t.initTree()}};Object(_.a)(e)},addMember:function(){this.addMemberDio=!0},addMemberSave:function(){var t=this,e=this.formMember;e.depart_str="0,"+e.depart_id;var a={url:"/api/api_backend.php?r=collect-depart/staff-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.formMember.depart_id="",t.formMember.true_name="",t.formMember.password="",t.formMember.phone="",t.formMember.depart_str="",t.addMemberDio=!1,t.init()):t.addMemberDio=!0}};Object(_.a)(a)},beforeUploadFile:function(t){this.file=t.name},successFile:function(t,e,a){this.fileList=[],1==t.statusCode?alert(t.message):(this.$alert(t.message),this.fileList=[])},handleExceedFile:function(t,e){this.$message.warning("当前限制选择 1 个文件")},remove:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=collect-depart/depart-del",data:{id:t},success:function(t){e.$alert(t.message),e.initTree()}};Object(_.a)(a)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},init:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/staff-list",data:{page:this.page,page_size:this.page_size},success:function(e){t.infos=e.info.info,t.total=parseInt(e.info.total),t.rest_num=e.info.rest_num}};Object(_.a)(e)},addMemberEdit:function(t,e){var a=this;this.addMemberDioEdit=!0;var i={url:"/api/api_backend.php?r=collect-depart/staff-show",data:{id:e.id},success:function(t){a.formMemberEdit=t.info.info,a.DatesEdit=t.info.tree}};Object(_.a)(i)},addMemberSaveEdit:function(){var t=this,e=this.formMemberEdit;e.depart_str="0,"+e.depart_id;var a={url:"/api/api_backend.php?r=collect-depart/staff-edit",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.addMemberDioEdit=!1,t.init()):t.addMemberDioEdit=!0}};Object(_.a)(a)},editPassword:function(t,e){this.editPasswordDio=!0,this.editPasswordForm.id=e.id},editPasswordSave:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/staff-change-pwd",data:this.editPasswordForm,success:function(e){t.$alert(e.message),1==e.statusCode?(t.editPasswordDio=!1,t.editPasswordForm.id="",t.editPasswordForm.password="",t.init()):t.editPasswordDio=!0}};Object(_.a)(e)},exportMember:function(){window.open("/api/api_backend.php?r=collect-depart/staff-export")},copyName:function(t,e){this.Copy(e.login_name)},Copy:function(t){var e=function(e){e.clipboardData.setData("text/plain",t),e.preventDefault()};document.addEventListener("copy",e),document.execCommand("copy"),document.removeEventListener("copy",e),this.$message({message:"复制成功",type:"success"})},del:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=collect-depart/staff-del",data:{id:t},success:function(t){e.$alert(t.message),e.init()}};Object(_.a)(a)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},downloadWord:function(){window.open("/upload/staffTemplate.xlsx")},handleCurrentChange:function(t){this.page=t,this.init()},handleSizeChange:function(t){this.page_size=t,this.init()}}},Oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{staticStyle:{diaplay:"inline-block",float:"left"},attrs:{type:"success"},on:{click:t.addBranch}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加部门")]),t._v(" "),a("el-button",{staticStyle:{diaplay:"inline-block",float:"left"},attrs:{type:"success"},on:{click:t.addMember}},[t._v("添加成员")]),t._v(" "),a("el-button",{staticStyle:{diaplay:"inline-block",float:"left"},attrs:{type:"success"},on:{click:t.exportMember}},[t._v("导出成员")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",staticStyle:{diaplay:"inline-block",float:"left"},attrs:{action:"/api/api_backend.php?r=collect-depart/staff-batch-add","on-success":t.successFile,"before-upload":t.beforeUploadFile,multiple:"",limit:1,"file-list":t.fileList}},[a("el-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"success"}},[t._v("批量添加")])],1),t._v(" "),a("a",{staticStyle:{display:"inline-block",color:"rgb(64, 158, 255)","margin-left":"18px",width:"100px","line-height":"40px",height:"40px",border:"1px solid","border-radius":"5px","text-align":"center"},attrs:{href:"/upload/staffTemplate.xlsx",download:"模板.xlsx"}},[t._v("\n        下载模板\n      ")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"60px"}},[a("div",{staticStyle:{width:"30%",float:"left"}},[a("el-tree",{attrs:{data:t.Dates,"node-key":"id",accordion:"","expand-on-click-node":!1,props:t.defaultProps2},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,s=e.data;return a("span",{staticClass:"custom-tree-node"},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:s.id==t.showId,expression:"data.id == showId"}],staticStyle:{width:"80%",height:"20px"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.editSave(e):null}},model:{value:t.showName,callback:function(e){t.showName=e},expression:"showName"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.id!=t.showId,expression:"data.id != showId"}]},[t._v(t._s(i.label))]),t._v(" "),a("span",[a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(e){t.edit(i,s)}}},[a("i",{staticClass:"fa fa-pencil"}),t._v("编辑\n                    ")]),t._v(" "),a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(e){t.remove(s.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除\n                    ")])],1)],1)}}])})],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"70%"}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("剩余可添加催收员人数 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.rest_num))]),t._v("人")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:"",height:t.total>0?500:100}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",fixed:"left",index:t.index}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"depart_name",label:"所在部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"login_name",label:"账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",plain:""},on:{click:function(a){t.addMemberEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",plain:""},on:{click:function(a){t.editPassword(e.$index,e.row)}}},[t._v("修改密码")]),t._v(" "),a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",plain:""},on:{click:function(a){t.copyName(e.$index,e.row)}}},[t._v("复制账号")]),t._v(" "),a("el-button",{staticStyle:{padding:"10px"},attrs:{type:"primary",plain:""},on:{click:function(a){t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[10,20,25,30],"page-size":t.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加部门",visible:t.node_operate},on:{"update:visible":function(e){t.node_operate=e}}},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},[a("el-option",{attrs:{label:"一级目录",value:"0"}}),t._v(" "),t._l(t.Dates,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})})],2)],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"部门名称:"}},[a("el-input",{model:{value:t.form.depart_name,callback:function(e){t.$set(t.form,"depart_name",e)},expression:"form.depart_name"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addBranchSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.node_operate=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加成员",visible:t.addMemberDio},on:{"update:visible":function(e){t.addMemberDio=e}}},[a("el-form",{ref:"formMember",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.formMember.depart_id,callback:function(e){t.$set(t.formMember,"depart_id",e)},expression:"formMember.depart_id"}},[t._l(t.Dates,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})}),t._v(" "),t._l(t.Dates,function(e,i){return e.child.length>0?a("el-option",{key:e.id,attrs:{label:e.child[0].depart_name,value:e.child[0].id}}):t._e()})],2)],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"真实姓名:"}},[a("el-input",{model:{value:t.formMember.true_name,callback:function(e){t.$set(t.formMember,"true_name",e)},expression:"formMember.true_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{model:{value:t.formMember.phone,callback:function(e){t.$set(t.formMember,"phone",e)},expression:"formMember.phone"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录密码:"}},[a("el-input",{model:{value:t.formMember.password,callback:function(e){t.$set(t.formMember,"password",e)},expression:"formMember.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMemberSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addMemberDio=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.addMemberDioEdit},on:{"update:visible":function(e){t.addMemberDioEdit=e}}},[a("el-form",{ref:"formMemberEdit",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.formMemberEdit.depart_id,callback:function(e){t.$set(t.formMemberEdit,"depart_id",e)},expression:"formMemberEdit.depart_id"}},[t._l(t.DatesEdit,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})}),t._v(" "),t._l(t.Dates,function(e,i){return e.child.length>0?a("el-option",{key:e.id,attrs:{label:e.child[0].depart_name,value:e.child[0].id}}):t._e()})],2)],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"真实姓名:"}},[a("el-input",{model:{value:t.formMemberEdit.true_name,callback:function(e){t.$set(t.formMemberEdit,"true_name",e)},expression:"formMemberEdit.true_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{model:{value:t.formMemberEdit.phone,callback:function(e){t.$set(t.formMemberEdit,"phone",e)},expression:"formMemberEdit.phone"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录账号:"}},[a("el-input",{attrs:{disabled:""},model:{value:t.formMemberEdit.login_name,callback:function(e){t.$set(t.formMemberEdit,"login_name",e)},expression:"formMemberEdit.login_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录密码:"}},[a("el-input",{model:{value:t.formMemberEdit.password,callback:function(e){t.$set(t.formMemberEdit,"password",e)},expression:"formMemberEdit.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMemberSaveEdit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addMemberDioEdit=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"修改密码",visible:t.editPasswordDio},on:{"update:visible":function(e){t.editPasswordDio=e}}},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"新密码:"}},[a("el-input",{model:{value:t.editPasswordForm.password,callback:function(e){t.$set(t.editPasswordForm,"password",e)},expression:"editPasswordForm.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editPasswordSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editPasswordDio=!1}}},[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var je=i("VU/8")($e,Oe,!1,function(t){i("xYRi")},null,null).exports,Ne=(i("mtWM"),{data:function(){return{note:{width:"100%",height:"100%",backgroundImage:"url("+i("Skak")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",overflow:"hidden"},activeName:"first",logining:!1,ruleForm2:{username:"",password:""},checked:!0,dialogVisible:!0}},methods:{handleReset2:function(){var t=this;this.logining=!0;var e={url:"/api/api_backend.php?r=login/login ",data:{username:this.ruleForm2.username,password:this.ruleForm2.password},success:function(e){1==e.statusCode?(Object(_.f)("user",2),t.$router.push({path:"/charts"}),t.loading=!1):(t.$alert(e.message),t.logining=!1),Object(_.e)(e)}};Object(_.a)(e)},handleClick:function(){}}}),ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticStyle:{overflow:"hidden",zoom:"1",width:"100%",height:"100%"}},[a("div",{staticClass:"note",style:t.note},[a("div",{staticClass:"loginForm"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"管理员登录",name:"first"}},[a("el-form",{attrs:{model:t.ruleForm2,"label-width":"0px"}},[a("p",{staticClass:"title"},[a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:"static/image/login_top.png"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("言小信管理员")])]),t._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("div",{staticClass:"input",staticStyle:{display:"flex",border:"1px solid #409EFF","border-radius":"20px","margin-bottom":"20px"}},[a("img",{staticStyle:{width:"20px",height:"20px","margin-left":"25px","margin-top":"10px"},attrs:{src:"static/image/login_user.png"}}),t._v(" "),a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号",autofocus:"true"},model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",e)},expression:"ruleForm2.username"}})],1)]),t._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("div",{staticClass:"input",staticStyle:{display:"flex",border:"1px solid #409EFF","border-radius":"20px","margin-bottom":"20px"}},[a("img",{staticStyle:{width:"20px",height:"20px","margin-left":"25px","margin-top":"10px"},attrs:{src:"static/image/login_pass.png"}}),t._v(" "),a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleReset2(e):null}},model:{value:t.ruleForm2.password,callback:function(e){t.$set(t.ruleForm2,"password",e)},expression:"ruleForm2.password"}})],1)]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.handleReset2}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],staticClass:"el-icon-loading"}),t._v(" 立即登录")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"催收员登录",name:"second"}},[a("el-form",{attrs:{model:t.ruleForm2,"label-width":"0px"}},[a("p",{staticClass:"title"},[a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:"static/image/login_top.png"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("言小信催收员")])]),t._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("div",{staticClass:"input",staticStyle:{display:"flex",border:"1px solid #409EFF","border-radius":"20px","margin-bottom":"20px"}},[a("img",{staticStyle:{width:"20px",height:"20px","margin-left":"25px","margin-top":"10px"},attrs:{src:"static/image/login_user.png"}}),t._v(" "),a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"}})],1)]),t._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("div",{staticClass:"input",staticStyle:{display:"flex",border:"1px solid #409EFF","border-radius":"20px","margin-bottom":"20px"}},[a("img",{staticStyle:{width:"20px",height:"20px","margin-left":"25px","margin-top":"10px"},attrs:{src:"static/image/login_pass.png"}}),t._v(" "),a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleReset2(e):null}}})],1)]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],staticClass:"el-icon-loading"}),t._v(" 立即登录")])],1)],1)],1)],1)],1)])])},staticRenderFns:[]};var Re=i("VU/8")(Ne,ze,!1,function(t){i("Jvpv")},"data-v-6f054cb5",null).exports,qe={render:function(){var t=this.$createElement;return(this._self._c||t)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]};i("VU/8")(null,qe,!1,function(t){i("VkcE")},"data-v-4c48d771",null).exports;var Qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-breadcrumb",{staticStyle:{height:"30px","font-size":"14px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("首页")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("客户数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("客户总量:")]),t._v(" "),a("span",[t._v("3000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("成交客户:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("呼叫中心:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("网络电话:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("智能语音:")]),t._v(" "),a("span",[t._v("1000")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("业务员数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("上海:")]),t._v(" "),a("span",[t._v("20")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("合肥:")]),t._v(" "),a("span",[t._v("20")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("北京:")]),t._v(" "),a("span",[t._v("10")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("广州:")]),t._v(" "),a("span",[t._v("10")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("设备数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("智能语音平台:")]),t._v(" "),a("span",[t._v("40")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("呼叫中心:")]),t._v(" "),a("span",[t._v("200")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("语音识别平台:")]),t._v(" "),a("span",[t._v("60")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("金融催收:")]),t._v(" "),a("span",[t._v("100")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("本周新增客户\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("成交:")]),t._v(" "),a("span",[t._v("0")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("意向:")]),t._v(" "),a("span",[t._v("0")])])])])])],1),t._v(" "),a("el-row",{staticClass:"row-two"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("a",{attrs:{href:"/#/information"}},[a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("客户录入")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("客户签约")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-rmb icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("我的收款")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("查看收支账单")])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("我的客户")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("浏览客户")])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("账号开通")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("提交账号开通申请")])])])])],1),t._v(" "),a("el-row",{staticClass:"row-three"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("审核统计\n      ")]),t._v(" "),a("div",{staticClass:"content"},[t._v("\n\t\t\t\t\t111\n\t\t\t")])])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("p",{staticClass:"title"},[t._v("消息中心")]),t._v(" "),a("div",{staticClass:"content"},[t._v("\n\t\t\t\t\t222\n\t\t\t")])])])],1)],1)},staticRenderFns:[]};i("VU/8")({data:function(){return{}},methods:{},mounted:function(){}},Qe,!1,function(t){i("EI7o")},"data-v-76a95f22",null).exports;var Ue=i("7+uW"),Be=i("/ocq");Ue.default.use(Be.a);var Pe=[{path:"/login",name:"login",component:Re,meta:{keep:!0,keepAlive:!1}},{path:"/charts",name:"首页",component:c,meta:{keepAlive:!0}},{path:"/taskManagement",name:"任务管理",component:g,meta:{keepAlive:!0}},{path:"/caseManagement",name:"案件管理",component:j,meta:{keepAlive:!0}},{path:"/caseDetails",name:"案件详情",component:Zt,meta:{keepAlive:!0}},{path:"/dataStatistics",name:"数据统计",component:nt,meta:{keepAlive:!0}},{path:"/dataManagement",name:"资料管理",component:tt,meta:{keepAlive:!0}},{path:"/smsManagement",name:"短信方案",component:rt,meta:{keepAlive:!0}},{path:"/smsRecord",name:"发送记录",component:ut,meta:{keepAlive:!0}},{path:"/smsSend",name:"发送短信",component:_t,meta:{keepAlive:!0}},{path:"/speechScheme",name:"话术管理",component:vt,meta:{keepAlive:!0}},{path:"/Learning",component:kt,name:"自主学习",meta:{keepAlive:!0}},{path:"/asrSoundScheme/:id",component:yt,name:"",meta:{keepAlive:!0}},{path:"/templateTree/:id",component:Mt,name:"",meta:{keepAlive:!0}},{path:"/sound/:id",component:Et,name:"",meta:{keepAlive:!0}},{path:"/departmentManagement",name:"部门管理",component:je,meta:{keepAlive:!0}},{path:"/collectorManagement",name:"催收员管理",component:Le,meta:{keepAlive:!0}},{path:"/privilegeManagement",name:"权限管理",component:At,meta:{keepAlive:!0}},{path:"/regionalConfiguration",name:"催收区域配置",component:ae,meta:{keepAlive:!0}},{path:"/clientConfiguration",name:"委托方配置",component:ce,meta:{keepAlive:!0}},{path:"/caseConfiguration",name:"案件类型配置",component:he,meta:{keepAlive:!0}},{path:"/accountManagement",name:"账号管理",component:ve,meta:{keepAlive:!0}},{path:"/templateManagement",name:"模板管理",component:we,meta:{keepAlive:!0}},{path:"/levelSetting",name:"案件等级设置",component:Se,meta:{keepAlive:!0}},{path:"/extensionState",name:"分机状态",component:Me,meta:{keepAlive:!0}},{path:"/otherCaseManagement",name:"另外的案件管理",component:Ht,meta:{keepAlive:!0}}],Ve=new Be.a({routes:Pe});Ve.beforeEach(function(t,e,a){var i=Object(_.d)("user");i&&"/login"==t.path?a({path:"/charts"}):a(),i||a({path:"/login"}),i||"/login"==t.path?a():a({path:"/login"})});var We=a.a=Ve},e0XP:function(t,e){},eT0X:function(t,e){},egCM:function(t,e,a){(function(t){!function(t,e,a){var i;function s(){var a=t(".level2s").children(".level2"),s=(parseInt(a.width()),a.height(),0);a.each(function(){t(this).find("li.level3").length||t(this).addClass("noneChild");t(this).height();s+=t(this).outerWidth(!0);for(var i=0;i<t(this).index();i++){var n=parseInt(e.getComputedStyle(a[i]).width),o=parseInt(e.getComputedStyle(a[i]).paddingLeft),l=parseInt(e.getComputedStyle(a[i]).paddingRight);width=n+o+l,width}});var n=t(".level2:last-child"),o=parseInt(n.css("width"));t(".divider").css("width",s-o),t(".divider").css("left",parseInt(a.find(".content").css("width"))/2),t(".level2s").css("width",s+200),i.css("width",s+200)}t.fn.lenChart=function(e){var n=t.extend({},{},e),o=n.data;if(i=this,o&&Object.keys(o).length>0){var l=t('<div class="level1s"><div class="level1"><div class="content"></div></div></div>'),r=t('<div class="divider"></div>'),c=t('<ul class="level2s"></ul>');this.attr("id",""),o.data&&n.renderdata&&n.renderdata(o,l.find(".content")),o.children&&o.children.length&&(1==n.depth?(this.attr("id","noneLevel2"),u(l,!0,1)):u(l,!1,1)),this.append(l),this.append(r);var d=0;function u(e,a,n){var o;o=a?'<i class="plusMinus glyphicon glyphicon-plus-sign"></i>':'<i class="plusMinus glyphicon glyphicon-minus-sign"></i>',$icon=t(o),e.find(".content").append($icon),n&&1==n?$icon.on("click",function(e){i.find(".level2s").is(":visible")?(i.attr("id","noneLevel2"),t(this).attr("title","Expand this branch").addClass("glyphicon-plus-sign").removeClass("glyphicon-minus-sign")):(i.attr("id",""),s(),t(this).attr("title","Collapse this branch").addClass("glyphicon-minus-sign").removeClass("glyphicon-plus-sign"))}):$icon.on("click",function(e){var a=t(this).closest("li.parent_li").find(" > ul > li");a.is(":visible")?(a.hide("fast",function(){s()}),t(this).attr("title","Expand this branch").addClass("glyphicon-plus-sign").removeClass("glyphicon-minus-sign")):(a.show("fast",function(){s()}),a.css({overflow:"visible"}),t(this).attr("title","Collapse this branch").addClass("glyphicon-minus-sign").removeClass("glyphicon-plus-sign")),e.stopPropagation()})}o.children&&(t.each(o.children,function(e,a){d++;var i=t('<li class="level2"><div class="content"></div></li>');a.data&&n.renderdata&&n.renderdata(a,i.find(".content")),a.children&&a.children.length&&(2==n.depth?u(i,!0):u(i,!1)),a.children&&function e(a,i,s,o){var l='<ul class="level'+o+'s"></ul>';var r='<li class="level'+o+'"  data-level=""><div class="content"></div></li>';var c=t(l);var d=t(r);d.attr("data-level",o);3==o&&c.addClass("tree");a.children.length&&t.each(a.children,function(a,i){var s=t(r);i.data&&n.renderdata&&n.renderdata(i,s.find(".content")),i.children&&i.children.length&&(n.depth&&o==n.depth?u(s,!0):u(s,!1)),n.depth&&o==parseInt(n.depth)+1&&s.hide(),c.append(s),e(i,s,c,o+1)});i.append(c);s.append(i)}(a,i,c,3)}),1==d&&this.attr("id","oneChild"),0==d&&this.attr("id","noneLevel2")),this.append(c),t(".orgWrap li:has(ul>li)").addClass("parent_li").find(" > span").attr("title","Collapse this branch"),s(),n.drag&&function(e){var i,s,n=e,o=!1;n.click(function(){}).mousedown(function(t){o=!0,i=t.pageX-parseInt(n.css("left")),s=t.pageY-parseInt(n.css("top"))}),t(a).mousemove(function(t){if(o){var e=t.pageX-i,a=t.pageY-s;n.css({top:a,left:e})}}).mouseup(function(){o=!1,n.fadeTo("fast",1)})}(this),n.callback&&n.callback()}}}(t,window,document)}).call(e,a("7t+N"))},erWL:function(t,e){},gCBO:function(t,e){},"iry/":function(t,e){},lDQh:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg5MTUxQzE5ODY3ODExRTg4MDBEQTdCMTE4RDQ2MkM5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg5MTUxQzFBODY3ODExRTg4MDBEQTdCMTE4RDQ2MkM5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODkxNTFDMTc4Njc4MTFFODgwMERBN0IxMThENDYyQzkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODkxNTFDMTg4Njc4MTFFODgwMERBN0IxMThENDYyQzkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7PmHpOAAAMnklEQVR42qxYeXCU5Rn/fft9e2/2yB65NgckQEACSLg8UIHWo8qhQi2WKQxKkaIydfyjtdYZRWttndHRQrWjduxYQRAVIwiMoqAGJIcBQg4Ckntz7Gazm93NHt/u1+d9IQxiSAD7zvxmd79j39/3HL/neT5BURRcxVIRZhLmEWYQxhNyCMZz58OEDsJJQiXhC0IFIXWlGwlXSNBNWE/4NSH3whOnI8BXrXF8cyaIk11hhGIyRAgocRnw5AInxljENrrsv4RNhPb/N0E74RnCgwTNhSdeqIli04EOtHmCMKpTyLNIGGsVkW0zIEl/faw1hOpOGa8sy8f62exvECe8QXiK4Bt1Z0ZwFPyS0KtctD5pkxXjXxsVPH5Iuf/NY8reI81KyNdHZ5IXXZlSdtd0KtjwnbKlxnfhCfaf9422/0gnJcI/lWHWxsqwgvUVyvLNFYq/y6tcztp0qFfBU6eVUPziB+B7SFdK0EAoG26jv9dEFKyrUP69t+78sWQqpQyEw4o/GKDPkBKKRJR4PP4jSxY9V658QNYcZpWd2/NHXIaLQYmwg7Do4hNH/MDsZ4/i7Tt1+M38CUgk4ujs6gKRoXSggBYEDoV+JOQUFFlGdmYmLFYrv7/hWDVESwbG5ecMF20fE+4lyKMlyWuEtcP9Q/bmZkyWQtj328noD/jh9fZBEkVoNGpotTro9XrEY3F68iT8AwMYpO96SURGRiaMRlKgaDelmIFEKu1SKfE64aGLrXXhuu9S5JJyAisNp7Dm9ln8d5/fD6PBgLS0NO6KaDSKpqYm6HQ6WCwWZLsyIGq1CDOikQgRNGBLPWAzK7i98JI5y/Y+QNgynAWZBjQQHMPe2k8yliSFsBeio7MD+/buQ2lpKcaPH8/dGgwGUVtbC5VKhQgRmjx5MnJz3UgmU2TVKFlXwJyPkshNl7D9Zh3b+lIk+wjFhN6hijC0nr0kOVpv18VRG0vn3+tO1IE9V3Z2NmKxGMLhMGw2G+bMmYPCwkJMmTIFLrJgMqVw4r7eHuJjgFqlYLZLGIkcW2yTjReWLLbyCA9c6o5ELInHKiU0yWeDvWBMARYvWoTUOQIixSEjqiWXut1uTpzFISPS4fHwGN365ptoaqxEXUiLho7waPK8+hyn8wTXEdSXurqTZC/TZkKGEMaAvwtppjSoaVOWxZIkcRcz1zLwQkwWpXymuIwgi7JYq5Hwwksvw2aUsCciYNZrJ1DdPGIRUZ/jxAkyrBjpasksQqQYfOKBpaivq0MmbcqSIScnB+np6ectuOXdd7Fz506YTCZoyJpJOQk7nT9ZX4dwJAadPQd2G9XMeSZYU8HRrMg4qYa6EvdIV/pI2FrKd8Em+zB9zs2UrSexatUqrFu3DjJpHZOQioojeHrjRmzYsAE1NTXcqnLirKT1+XyI0lfBSJYPKbi70IyxmfrLaUxmMoLzR7vyP0eBYE8f5kyZxHXv8OHDaG1tRVlZGbZu3TokCFiwYD4X7V27d/EjMQqBQZKfMFlXL8bQ3ehD04kYtu7+DJ5O7+U0KfMYwdLRrurqp5Q1uhChzRLktuLiiZg9ezYlSQo+39lYmj59OjIocydNmoS5N86l5BngDvJ2dcCpF2HVJpBoq0MokMIfDoloDOkuh+AMRnDCaFddb6FmT5WJmo4+tDTVoWBsASeyfv16rFy5kos0E+c1a9aQ9XZj+rXTMNjTApdWQXPfII5LE2Cevwq9O5/HuPqt+MvKW3HjtKLLIThBqPENeqem6+wjXTUYS2Day/U4+eSv8NCyQjy+8SWuc6yK9PT0wE9VJSMjA1aquWUffYAY5Z1ryk3oDsbQH4og4O3CnDwreo4exO133ApDZuHl9qs+oWSHN1Z9t00jCaoRrwySrL334VfwHNuDXyxcgpRyVgOHJIZZ8cUXX8SB/fux9veP4/playAHfSg2JVDsdsKSP/FqRou4gI1nYt+uzdbMcmqu6M7jx4+jvb2dC7PNauP1uOyTMggqEXOvm414sBffNTThhpt/juLx43CVKy4hEhso75LtV0qwpKQEdrudk2SZK1LXsnjxYqoaGqrJJxCl6nPbHQvpAXLxE9aARGrqqehM2FFy5XezksYqSUNjAyfq6fTg1KlTXLjvveeen0qOLY8EUW6s6hycLCtpGC0Oh1sul4ujsqqSxyHrbnLJ7Vk52RgIDcCgN3DCV7kaJYNKrmr0RO6t7pUxyzWym0OhEHchA2upAoEAd293TzdamlvgsDswaeIkXllYD9jR0QG1pOahYD3XVV/hqpS0SvKLSCCGck9iRIJ9fX34dO8eOO1OzJhRSt20l5MUKYNlEu+8/HxeZdgx9iBnm9wkYvEYOql/ZOLudDqvlOAXEjn1CFJye6Un7sZU4/ASQ3LCYos1ARarGc3NzTBQN83EmRGtb6gnV+pRPKEY48aN47LD3MpcHgwEYXfa0dvbixPUNBQWjoVaVHOyo7ieDfcVKkVF07akvFPVMQg5mfxxq0/HGAnmymuKJ8HpcJ5vUtk55sYBImEymniHo1areV/IyiCDLd2GASp73357hD8QWyklhb7AwGhvQt5hF6hYXhgFeVNj12C8tj/Fb0peQPT7M2f471g0hlOnm1BeXo4zdCyRSHCSjLjD4YDZbOYZzcgzFw8ODpIFY2yuxbZt26jSuHDt1GnIzclFdlY2EiTiz39Qhe0HT5x72fBD/Tv3iuTs0KRVEu3hkPzGgZbI76ZpQ2hsC5Jr+lFZWQWzJQ1jqY2vrK6gTaNoJ4uxDbIpS5kLWaljlmGkGFlmQR6b5D4mPcyKzO0lNKPwRKMhqvbECZROdKMtrscTf6vFHz0hPL2kBGqtYYjgW0Pvb1RsZFJUfHx6am+D3yeHB2HUa/He9u3YseN99JJ7+3x+3HnnXZQcMzHvlnmYe9Nc0BzOCTJL1tYeRxfNx0NWlZMJ+Pp86KcanaDvS5cuRW5eHiVLJz6jUmigLFdb0mEFJdOYHOzzG5GkwWqo/hKePN8sKzR1URmAThJ8XzV5H/7Y1LFl4bwbsGLFChTkF0BUS1gwfz6XjqLCIh5nQ1nd29NL2VlMRAd58+CjY1qtBv39/bzlLyLLtba18paMSU1t9SEoiSSmTMjC/vIGvFHeBa0jB/OKKH715yeORy98qSTq5z7IXglATMkYEM21xZrurCnW5AxFZ6VM1XPRZRnIOhaWeXQp31xPWczI2ikJGDk2tJupu2HSwsBcz8aBgvwxFKPUS5KFtu76HC5dClWtEaz+0IOEpEdOlh3L3YMoySWdFHX/Ik7P/2DcUFQsMcjRpFeQ7BDySh+t+HpbVpeQvujuJYsRIpe1tLSQVaI8Lh1OFzzdPRQbMmKRALzkfovNQZmpIhkyor6+nieKniqIhyY6Nr+IooBdByrwzN4eTBqbge5EM2QyQKY7A6VOATfYKCklE3v18ciP5iFF0FD4EUmBZW4SBzrF+HUW1/IVdy17/+tDh+9optZ+NTWlld9VY/OmV6gyxmAyGOFwj0VDay+EVBR5uVkwk0ZaLVZ4ujzcpSxWe6jCsPFgwfXTcLCqHgiE0BbJgVYnocCVhgGtEYWiD/ljCndBEJcPl86SFOmDojOTDYkgpX64W0HBda5Id3P94i2vv/Tq53v3rC17ezOCKTWahRx835uCnaqC2NCLngD9n3kcliYCWJLdjHqPlmev1WqhmaWFN7RxmkuO1p3El5VEkKRHl4rBoDFBtLngQBg/y1G9DlMms1xi2IkyMuCHJkDDdcZYmBNhqA++hce+9KI7KiRCastD3VPv//KjsPAqtEYH7NSmz76RXOhFwUANrnHLMDliWDjVjXxrHhxxhccmq9UswzVqDZE0oYeUoCjDhEBCB18kCjNNdEFovfP13kdvmThmy4ivgG3rtsEfJvKGLALpkNwDREkek1EYrSY4Iu1IVwIOp1bZWGDTri5yOzW5JhUyrAYqYQ5kppsgq/WIy1TeVAIXdQZmyaFhnr1ZsJp09KnCJ980xh8pa31Lceb9+U8TAt41C2nqFc2Xnsn3rMrD930JnOwO43RIRr9iRVqkB3l6GXlmPz15JtzZU7xWm20dZepzgkr1cCwlrIjG5RwmzAGSKSEpg5ckShQm1Cyj2SjAR8+4jDSDlhoJoWPQ738nHI39I2WwtGepY5jsJMkS00Z+iR4LB6BhNVshK8ajkOMJSDoaqnVpSNCGwXCUV5AUEUmmkvSZZCVNpdWqZ1KVmJ9MyqWSII4nvXSTeJtYBhNCNNC30+fJNL26ateByv1bP62u6EjqUiFLHqyT52BmWgCv3uaEs3DkTvl/AgwAFbb8A2VbU+8AAAAASUVORK5CYII="},oZ0Y:function(t,e){},oovn:function(t,e){},pZTK:function(t,e){},per8:function(t,e,a){"use strict";(function(t){var i=a("fZjL"),s=a.n(i),n=a("bOdI"),o=a.n(n),l=a("7CpY"),r=a("zL8q"),c=(a.n(r),a("/5nn"));a.n(c);e.a={data:function(){var t;return t={template_id:"",req_id:"",curr:1,loading:!1,init:{page:1,page_size:15,total:0,keywords:"",InitData:[],textAudio:""},baseMessage:{Add:!1,Sound:[],Edit:!1}},o()(t,"baseMessage",{Add:!1,Sound:[],Edit:!1}),o()(t,"baseMessageData",{show_name:"",is_interrupt:"1",type:"0",name:"",nextname:".null",max_repeat:"3",wait_time:"3",record:"",answer:""}),o()(t,"baseMessageDataEdit",{show_name:"",is_interrupt:"",type:"",name:"",nextname:"",wait_time:"",max_repeat:"",record:"",answer:"",record_description:""}),o()(t,"activeName2","first"),o()(t,"touchAddData",{condition:"",name:"",is_interrupt:"1"}),o()(t,"touch",{touchShow:!1,EditTouch:!1,EditTouchLeft:!1,AddTouch:!1,Data:[],keyword:"",DataRight:[],total:0,page:1,page_size:10,req_id:"",levalData:[]}),o()(t,"touchEditDataLeft",{condition:"",name:""}),o()(t,"touchEditData",{condition:"",is_interrupt:""}),o()(t,"context",{EditContext:!1,custom:!0,ShowContext:!1,nextData:[],touchData:[],Data:[],req_id:"",page:1,page_size:10,total:0}),o()(t,"contextData",{content_type:".content",is_interrupt:"1",nextId:"",condition:"0",newCondition:""}),o()(t,"editContextData",{}),o()(t,"audioList",[]),o()(t,"add",{show:!1,audio:""}),o()(t,"edit",{show:!1,addNext:!1,title:!1,audioList:[],audio:"",nextList:[],addNextList:[]}),o()(t,"obj",[]),o()(t,"target",""),o()(t,"ops",""),o()(t,"show",!1),t},activated:function(){this.getId(),this.node()},methods:{index:function(t){return(this.init.page-1)*this.init.page_size+t+1},getId:function(){this.template_id=this.$route.params&&this.$route.params.id},search:function(){this.loading=!0,this.init.page="1",this.init.page_size="15",this.curr="1",this.initData()},handleSizeChange:function(t){this.init.page_size=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},handleCurrentChange:function(t){this.init.page=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},listen:function(t){this.init.textAudio=t,document.getElementById("audioPlay").paused?document.getElementById("audioPlay").play():document.getElementById("audioPlay").pause()},EditMessageSave:function(){var e=this;if(this.baseMessageDataEdit.max_repeat&&this.baseMessageDataEdit.wait_time){var a={};"0"==this.baseMessageDataEdit.record?a.answer=this.baseMessageDataEdit.record_description:a.answer=this.baseMessageDataEdit.answer,a.template_id=this.template_id,a.req_id=this.baseMessageDataEdit.id,a.show_name=this.baseMessageDataEdit.show_name,a.is_interrupt=this.baseMessageDataEdit.is_interrupt,a.type=this.baseMessageDataEdit.type,0==this.baseMessageDataEdit.type?a.name=".question":a.name=this.baseMessageDataEdit.name,a.nextname=this.baseMessageDataEdit.nextname,a.max_repeat=this.baseMessageDataEdit.max_repeat,a.wait_time=this.baseMessageDataEdit.wait_time,a.record=this.baseMessageDataEdit.record;var i={url:"/api/api_backend.php?r=template/template-base-info-edit",data:a,success:function(a){e.$alert(a.message),1==a.statusCode?(e.baseMessage.Edit=!1,t(".orgWrap").empty(),e.node()):e.baseMessage.Edit=!0}};Object(l.a)(i)}else this.$alert("等待时长和可重复次数为必填")},delInit:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/template-base-info-delete",data:{template_id:a.template_id,req_id:e.id},success:function(t){a.$alert(t.message),a.initData()}};Object(l.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getSoundContent:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-content",data:{template_id:this.template_id},success:function(e){1==e.statusCode?t.baseMessage.Sound=e.info:t.baseMessage.Sound=[],t.baseMessage.Sound.push({id:"0",spath:"无录音,填写描述"})}};Object(l.a)(e)},getMainLine:function(){var t=this,e={url:"/api/api_backend.php?r=template/max-main-line",data:{template_id:this.template_id},success:function(e){t.baseMessageData.name=e.info,t.baseMessageDataEdit.name=e.info,t.baseMessageData.show_name.trim()||(t.baseMessageData.show_name="主线"+e.info)}};Object(l.a)(e)},changeType:function(t){1==t&&this.getMainLine()},changeSoundWord:function(t){var e=this.baseMessage.Sound.filter(function(e){if(e.id==t)return e});this.baseMessageData.answer=e.map(function(t){return t.word}),this.baseMessageDataEdit.answer=e.map(function(t){return t.word})},addMessage:function(){this.baseMessage.Add=!0,this.baseMessageData.show_name="",this.baseMessageData.is_interrupt="1",this.baseMessageData.type="0",this.baseMessageData.name="",this.baseMessageData.nextname=".null",this.baseMessageData.max_repeat="3",this.baseMessageData.wait_time="3",this.baseMessageData.record="",this.baseMessageData.answer="",this.getSoundContent()},AddMessageSave:function(){var e=this;if(this.baseMessageData.max_repeat&&this.baseMessageData.wait_time){var a=this.baseMessageData;0==this.baseMessageData.type&&(a.name=".question"),a.template_id=this.template_id;var i={url:"/api/api_backend.php?r=template/template-base-info-add",data:a,success:function(a){e.$alert(a.message),1==a.statusCode?(e.baseMessage.Add=!1,t(".orgWrap").empty(),e.node()):e.baseMessage.Add=!0}};Object(l.a)(i)}else this.$alert("等待时长和可重复次数为必填")},handleClick:function(t,e){1==t.index?(this.touch.req_id=this.req_id,this.touch.keyword="",this.touchInit(),this.touchDataRight()):2==t.index&&(this.contextData.req_id=this.req_id,this.contextTouch(),this.contextNext(),this.contextInit())},touchInit:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-usable-list",data:{template_id:this.template_id},success:function(e){t.touch.Data=e.info}};Object(l.a)(e)},dblclickTouchEdit:function(t,e){var a=this;this.touch.EditTouchLeft=!0;var i={url:"/api/api_backend.php?r=template/trigger-info",data:{template_id:this.template_id,trigger_id:t.id},success:function(t){a.touchEditDataLeft=t.info}};Object(l.a)(i)},touchEditSaveLeft:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-edit",data:{template_id:this.template_id,name:this.touchEditDataLeft.name,condition:this.touchEditDataLeft.condition,trigger_id:this.touchEditDataLeft.id},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouchLeft=!1,t.touchInit()):t.touch.EditTouchLeft=!0}};Object(l.a)(e)},touchSearch:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-search",data:{template_id:this.template_id,keywords:this.touch.keyword},success:function(e){1==e.statusCode?t.touch.Data=e.info:t.$alert(e.message)}};Object(l.a)(e)},touchAdd:function(){this.touch.AddTouch=!0,this.touchAddData.condition="",this.touchAddData.name="",this.touchAddData.is_interrupt="1"},touchAddSave:function(){var t=this,e=this.touchAddData;e.template_id=this.template_id;var a={url:"/api/api_backend.php?r=template/trigger-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.touchInit(),t.touch.AddTouch=!1):t.touch.AddTouch=!0}};Object(l.a)(a)},touchLeftPlus:function(t,e){var a=this,i={url:"/api/api_backend.php?r=template/req-ans-trigger-add",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.initData(),a.touchInit())}};Object(l.a)(i)},touchDataRight:function(){var t=this,e=this.touch.page,a=this.touch.page_size,i={url:"/api/api_backend.php?r=template/req-ans-trigger-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?t.touch.total=parseInt(e.info.total):t.touch.total=0,t.touch.DataRight=e.info.info}};Object(l.a)(i)},handleSizeChangeTouch:function(t){this.touch.page_size=t,this.touchDataRight()},handleCurrentChangeTouch:function(t){this.touch.page=t,this.touchDataRight()},touchEdit:function(t,e){this.touch.EditTouch=!0,this.touchEditData=e},touchEditSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/req-ans-trigger-edit",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:this.touchEditData.id,is_interrupt:this.touchEditData.is_interrupt,condition:this.touchEditData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouch=!1,t.touchDataRight()):t.touch.EditTouch=!0}};Object(l.a)(e)},touchEdl:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/req-ans-trigger-delete",data:{template_id:a.template_id,req_id:a.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.touchInit())}};Object(l.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},contextNext:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-next-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.nextData=e.info}};Object(l.a)(e)},contextTouch:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-common-type-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.touchData=e.info,t.context.touchData.unshift({condition:"自定义触发词",name:"0"})}};Object(l.a)(e)},changeTouchInput:function(t){this.context.custom="0"==t},contextSave:function(){var t=this,e=this.contextData;e.template_id=this.template_id,e.req_id=this.req_id;var a={url:"/api/api_backend.php?r=template/content-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode&&(t.contextInit(),t.contextTouch(),t.contextData.content_type=".content",t.contextData.is_interrupt="1",t.contextData.nextId="",t.contextData.condition="0",t.contextData.newCondition="",t.context.custom=!0)}};Object(l.a)(a)},contextInit:function(){var t=this,e=this.context.page,a=this.context.page_size,i={url:"/api/api_backend.php?r=template/content-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?(t.context.Data=e.info.info,t.context.total=parseInt(e.info.total)):(t.context.Data=[],t.context.total=0)}};Object(l.a)(i)},handleCurrentChangeContext:function(t){this.context.page=t,this.contextInit(this.contextData.req_id)},editContext:function(t,e){var a=this;this.context.EditContext=!0;var i={url:"/api/api_backend.php?r=template/content-info",data:{template_id:this.template_id,req_id:this.req_id,content_id:e.id},success:function(t){a.editContextData=t.info}};Object(l.a)(i)},editContextSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-edit",data:{template_id:this.template_id,req_id:this.req_id,content_id:this.editContextData.id,content_type:this.editContextData.type,nextId:this.editContextData.answer,is_interrupt:this.editContextData.is_interrupt,newCondition:this.editContextData.newCondition,condition:this.editContextData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.context.EditContext=!1,t.contextInit(t.contextData.req_id)):t.context.EditContext=!0}};Object(l.a)(e)},delContext:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/content-delete",data:{template_id:a.template_id,id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&a.contextInit()}};Object(l.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},node:function(){var e=this,a=this;this.show=!0,this.obj=[];var i={url:"/api/api_backend.php?r=template-tree/tree-list",data:{template_id:this.template_id},success:function(i){t(".orgWrap").empty(),e.show=!1,e.obj.push(i.info),t(".orgWrap").lenChart({data:e.obj[0],drag:!0,depth:3,renderdata:function(e,i){var n=e.data;if(this.ops=i,n&&s()(n).length){i.dblclick(function(t){a.baseMessageDataEdit={},a.activeName2="first",a.req_id=e.id,a.baseMessage.Edit=!0,a.target=t.target,a.getSoundContent();var i={url:"/api/api_backend.php?r=template/template-base-info",data:{template_id:a.template_id,req_id:e.id},success:function(t){a.baseMessageDataEdit=t.info,"0"==t.info.type?a.baseMessageDataEdit.type="0":"1"==t.info.type&&(a.baseMessageDataEdit.type="1")}};Object(l.a)(i)});var o=t('<div class="name" ></div>');if(n.condition&&o.append(n.condition),i.append(o),i.css("background-color",n.color),n.type&&"organization"===n.type){var r='<div class="text" > \n                                        <p class="text_content"> '+n.answer+"</p></div>\n                                    ";i.addClass("organization"),i.append(r)}else{var c=t('<div class="person"></div>');n.person&&c.text(n.person),i.addClass("position"),i.append(c)}var d=t('<i class="icon plusMinus icon-minus-sign"></i>'),u=t('<i class="plusMinus glyphicon glyphicon-plus-sign"></i>');e.children&&e.children.length&&(i.append(u),i.append(d))}},callback:function(){}})}};Object(l.a)(i)}}}}).call(e,a("7t+N"))},q7ro:function(t,e){},rRrP:function(t,e){},rcJa:function(t,e){},tbrN:function(t,e){},tvR6:function(t,e){},"wh+y":function(t,e){},xYRi:function(t,e){},y8Dh:function(t,e){},yS2L:function(t,e){},yZU0:function(t,e){},ypTe:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6fbda6a2e6ab55e71497.js.map