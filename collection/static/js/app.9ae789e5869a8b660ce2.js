webpackJsonp([1],{"5Sas":function(t,e){},"5qmq":function(t,e){},"7CpY":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getCookie}),__webpack_require__.d(__webpack_exports__,"d",function(){return setCookie}),__webpack_require__.d(__webpack_exports__,"a",function(){return axiosRequest}),__webpack_require__.d(__webpack_exports__,"c",function(){return message});var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("7+uW"),__WEBPACK_IMPORTED_MODULE_2_axios__=__webpack_require__("mtWM"),__WEBPACK_IMPORTED_MODULE_2_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);function formatDate(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("("+i+")").test(e)){var n=a[i]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?n:("00"+n).substr(n.length))}return e}function getCookie(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}function setCookie(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+e+";expires="+i}function axiosParams(t){var e=new URLSearchParams;if(t)for(var a in t)e.append(a,t[a]);return e}function axiosRequest(conf){if(void 0==conf.url||!conf.url)throw new Error("说好的url参数尼");void 0==conf.data&&(conf.data="");var param=axiosParams(conf.data);__WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(conf.url,param).then(function(response){if(1==parseInt(response.data.statusCode))void 0!=conf.success&&""!=conf.success&&("function"==typeof conf.success?conf.success(response.data):eval(conf.success+"=response.data.info"));else if(response.data.message)conf.success(response.data);else{var info="";_.forEach(response.data.info,function(t){info+=t})}}).catch(function(t){console.log(t),t.response&&t&&200!=t.response.status&&__WEBPACK_IMPORTED_MODULE_1_vue__.default.prototype.$message.error("出现异常错误,请联系供应商")})}function message(t){0==t.statusCode&&"请先登录"==t.message&&__WEBPACK_IMPORTED_MODULE_1_vue__.default.prototype.$alert(t.message,"提示",{confirmButtonText:"确定",callback:function(t){goHome()}})}function goHome(){__WEBPACK_IMPORTED_MODULE_1_vue__.default.prototype.$router.push({path:"/login"})}function clone(t){if(null==t||"object"!=(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(t)))return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array|t instanceof Object){var e=t instanceof Array?[]:{};for(var a in t)t.hasOwnProperty(a)&&(e[a]=clone(t[a]));return e}throw new Error("Unable to clone obj! Its type isn't supported.")}__WEBPACK_IMPORTED_MODULE_1_vue__.default.directive("move",{bind:function(t,e,a,i){var n=t.querySelector(".el-dialog__header"),s=t.querySelector(".el-dialog");n.style.cursor="move";var o=s.currentStyle||window.getComputedStyle(s,null);n.onmousedown=function(t){var e=t.clientX-n.offsetLeft,a=t.clientY-n.offsetTop,i=void 0,l=void 0;o.left.includes("%")?(i=+document.body.clientWidth*(+o.left.replace(/\%/g,"")/100),l=+document.body.clientHeight*(+o.top.replace(/\%/g,"")/100)):(i=+o.left.replace(/\px/g,""),l=+o.top.replace(/\px/g,"")),document.onmousemove=function(t){var n=t.clientX-e,o=t.clientY-a;s.style.left=n+i+"px",s.style.top=o+l+"px"},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}})},"7G2I":function(t,e){},"7y0E":function(t,e){},ATlc:function(t,e){},"DVO/":function(t,e){},DeCE:function(t,e){},EI7o:function(t,e){},"G+Ly":function(t,e){},HXDO:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),n=a("BO1k"),s=a.n(n),o=a("NYxO");i.default.use(o.a);var l=new o.a.Store({modules:{},state:{options:[],activeIndex:"/taskManagement",userInfo:{},menuIndex:"0"},mutations:{add_tabs:function(t,e){""!=e.name&&t.options.push(e)},save_index:function(t,e){t.menuIndex=e||"0"},del_tabs:function(t,e){var a=0,i=!0,n=!1,o=void 0;try{for(var l,r=s()(t.options);!(i=(l=r.next()).done);i=!0){if(l.value.route===e)break;a++}}catch(t){n=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw o}}this.state.options.splice(a,1)},set_active_index:function(t,e){t.activeIndex=e},save_detail_info:function(t,e){t.userInfo=e}}}),r={data:function(){return{open:!0,data:[{id:"1",name:"任务管理",path:"/taskManagement",icon:"fa fa-tasks",child:[]},{id:"2",name:"案件管理",path:"/caseManagement",icon:"fa fa-address-card-o",child:[]},{id:"3",name:"数据统计",path:"/dataStatistics",icon:"fa fa-bar-chart-o ",child:[]},{id:"4",name:"资料管理",path:"/dataManagement",icon:"fa fa-file-text-o",child:[]},{id:"5",name:"短信管理",path:"",icon:"fa fa-envelope-o",child:[{name:"短信方案",path:"/smsManagement"},{name:"发送记录",path:"/smsRecord"}]},{id:"6",name:"话术方案",path:"",icon:"fa fa-file-sound-o",child:[{name:"话术管理",path:"/speechScheme"},{name:"自主学习",path:"/Learning"}]},{id:"7",name:"权限管理",path:"/privilegeManagement",icon:"fa fa-sitemap",child:[]},{id:"8",name:"催收部门",path:"",icon:"fa fa-users",child:[{name:"部门管理",path:"/departmentManagement"},{name:"催收员管理",path:"/collectorManagement"}]},{id:"9",name:"系统设置",path:"",icon:"fa fa-gear",child:[{name:"催收区域配置",path:"/regionalConfiguration"},{name:"委托方配置",path:"/clientConfiguration"},{name:"案件类型配置",path:"/caseConfiguration"},{name:"账号管理",path:"/accountManagement"},{name:"模板管理",path:"/templateManagement"},{name:"案件等级设置",path:"/levelSetting"}]}]}},mounted:function(){""!=this.$route.name&&("/taskManagement"!==this.$route.path&&-1===this.$route.path.indexOf("taskManagement")?(l.commit("add_tabs",{route:"/taskManagement",name:"任务管理"}),l.commit("add_tabs",{route:this.$route.path,name:this.$route.name}),l.commit("set_active_index",this.$route.path),l.commit("save_index",this.$route.query.num)):(l.commit("add_tabs",{route:"/taskManagement",name:"任务管理"}),l.commit("set_active_index","/taskManagement"),this.$router.push("/taskManagement")))},methods:{handleOpen:function(t,e){console.log(t),l.commit("save_index",t)},handleClose:function(t,e){console.log(t,e)},handleSelect:function(t,e){console.log(t,e),l.commit("save_index",e[1])},handleIconClick:function(t){console.log(t)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"100%"},attrs:{"default-active":"1","unique-opened":t.open,router:"","background-color":"#333744","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose,select:t.handleSelect}},[t._l(t.data,function(e,i){return 0==e.child.length?a("el-menu-item",{key:i,attrs:{index:e.path}},[a("i",{class:e.icon}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]):t._e()}),t._v(" "),t._l(t.data,function(e,i){return 0!=e.child.length?a("el-submenu",{key:i,attrs:{index:e.id}},[a("template",{slot:"title"},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-menu-item-group",t._l(e.child,function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.path}},[t._v(t._s(e.name))])}))],2):t._e()})],2)},staticRenderFns:[]},d=a("VU/8")(r,c,!1,null,null,null).exports,u={inject:["reload"],data:function(){return{collapsed:!1,sysUserName:"",sysUserAvatar:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(t,e){},shuxian:function(){this.reload()},logout:function(){this.$confirm("确认退出吗?","提示",{type:"warning"}).then(function(){}).catch(function(){})}},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"",this.sysUserAvatar=t.avatar||"")}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("\t言通催收系统")]),t._v(" "),a("div",{staticClass:"drop"},[a("span",{staticStyle:{"margin-right":"20px",cursor:"pointer"},on:{click:t.shuxian}},[t._v("刷新")]),t._v(" "),a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("img",{attrs:{src:this.sysUserAvatar}}),t._v("用户名")]),t._v(" "),a("el-dropdown-menu",{staticStyle:{cursor:"pointer"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("我的消息")]),t._v(" "),a("el-dropdown-item",[t._v("设置")]),t._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(t){a("DeCE")},"data-v-cb812ed6",null).exports,_={name:"NaveTab",data:function(){return{}},mounted:function(){},methods:{tabClick:function(t){var e=this.activeIndex;console.log(e),this.activeIndex,this.$router.push({path:e})},tabRemove:function(t){"/taskManagement"!=t&&(l.commit("del_tabs",t),this.activeIndex===t&&(l&&this.options.length>=1?(l.commit("set_active_index",this.options[this.options.length-1].route),this.$router.push({path:this.activeIndex})):this.$router.push({path:"/taskManagement"})))}},computed:{options:function(){return l.state.options},activeIndex:{get:function(){return l.state.activeIndex},set:function(t){l.commit("set_active_index",t)}}},watch:{$route:function(t){var e=!1,a=!0,i=!1,n=void 0;try{for(var o,r=s()(this.options);!(a=(o=r.next()).done);a=!0){if(o.value.name===t.name){e=!0,l.commit("set_active_index","/"+t.path.split("/")[1]);break}}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}e||(l.commit("add_tabs",{route:"/"+t.path.split("/")[1],name:t.name}),l.commit("set_active_index","/"+t.path.split("/")[1]))}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NaveTab"},[t.options.length?a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":t.tabClick,"tab-remove":t.tabRemove},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.options,function(t,e){return a("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.route}})})):t._e()],1)},staticRenderFns:[]};var h=a("VU/8")(_,f,!1,function(t){a("ATlc")},null,null).exports,v=a("7CpY"),b={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},components:{left:d,NaveTab:h,top:p},beforeMount:function(){this.upload()},methods:{upload:function(){JSON.parse(Object(v.b)("user"));"/"==this.$route.path?this.$router.push("/taskManagement"):"/login"==this.$route.path&&this.$router.push("/taskManagement")},reload:function(){console.log(this.$route.path),this.$router.push(this.$route.path),console.log("刷新"),this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.$route.meta.keepAlive?a("el-container",[a("el-header",[a("keep-alive",[a("top")],1),t._v(" "),a("NaveTab",{staticStyle:{"margin-left":"250px"}})],1),t._v(" "),t.$route.meta.keepAlive?a("el-container",[a("el-aside",{staticStyle:{"background-color":"#EBEBEB",width:"250px"}},[a("keep-alive",[a("left")],1)],1),t._v(" "),a("el-main",{staticStyle:{"min-height":"550px","max-height":"750px",overflow:"auto","margin-top":"60px"}},[a("keep-alive",[t.isRouterAlive?a("router-view"):t._e()],1)],1)],1):t._e()],1):t._e(),t._v(" "),t.$route.meta.keepAlive?t._e():a("router-view")],1)},staticRenderFns:[]};var x=a("VU/8")(b,g,!1,function(t){a("G+Ly")},null,null).exports,y=a("mtWM"),w=a.n(y),k=a("zL8q"),C=a.n(k),D=(a("tvR6"),a("erWL"),a("mvHQ")),E=a.n(D),T=a("bOdI"),S=a.n(T),$={data:function(){var t,e;return{images:{robotOff:"static/image/off.png",robotOn:"static/image/on.png"},AddData:{outLine:[],recognition_lies:[],call_result:[],templates:[],ext_list:[]},AddQueueData:{QueueShow:!1,Data:[],caller_id:"",strategy:"rrmemory",timeout:"30",maxlen:"10",staff_id_queue:"",multipleSelection:[],member:""},EditQueueData:{QueueShow:!1,Data:[],caller_id:"",strategy:"",timeout:"",maxlen:"",staff_id_queue:"",multipleSelection:[],member:""},Index:{addTask:!1,editTask:!1,width:"width:260px",width1:"width:120px"},form:(t={name:"",caller_id:"",asr_number:"",ai_count:1,call_duration:"45",start_time_am:"08:00",end_time_am:"12:00",start_time_pm:"11:00",end_time_pm:"21:00",agent_or_queue:"",exten_num:"",asrtomobile:"",asrqueue:""},S()(t,"exten_num",""),S()(t,"exten",""),S()(t,"strategy",""),S()(t,"timeout",""),S()(t,"maxlen",""),S()(t,"staff_id_queue",""),t),round_rule:[],not_connected_status1:[],not_connected_status2:[],form1:{round:"0",template_id:"",next_round:"1",call_times:"",not_connected_status:""},form2:{round:"1",template_id:"",next_round:"2",call_times:"",not_connected_status:""},form3:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},data1:(e={name:"",caller_id:"",asr_number:"",ai_count:1,call_duration:"45",start_time_am:"08:00",end_time_am:"12:00",start_time_pm:"11:00",end_time_pm:"21:00",agent_or_queue:"",exten_num:"",asrtomobile:"",asrqueue:""},S()(e,"exten_num",""),S()(e,"exten",""),S()(e,"strategy",""),S()(e,"timeout",""),S()(e,"maxlen",""),S()(e,"staff_id_queue",""),e),data2:{round:"0",template_id:"",next_round:"1",call_times:"",not_connected_status:""},data3:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},data4:{round:"2",template_id:"",call_times:"",next_round:"3",not_connected_status:""},Dates:[],editData:{outLine:[],recognition_lies:[],call_result:[],templates:[]},agent_or_queue:"",formEdit:{extNum:"",asrtomobile:""},start_time_am:"",end_time_am:"",start_time_pm:"",end_time_pm:"",round_rule_edit:[],not_connected_status1Edit:[],not_connected_status2Edit:[],form1Edit:{},form2Edit:{},form3Edit:{},closeData:{status:"",status1:"",status2:""}}},beforeMount:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/list",success:function(e){t.Dates=e.info}};Object(v.a)(e)},addInit:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/add-init",success:function(e){t.AddData.outLine=e.info.out_side_lines,t.AddData.recognition_lies=e.info.recognition_lies,t.AddData.call_result=e.info.call_result_status}};Object(v.a)(e)},AddInitSound:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list-all",success:function(e){t.AddData.templates=e.info,t.editData.templates=e.info}};Object(v.a)(e)},addExtension:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/turn-extension",success:function(e){t.AddData.ext_list=e.info}};Object(v.a)(e)},changeStatus1:function(){this.form1.not_connected_status=this.not_connected_status1.join()},changeStatus2:function(){this.form2.not_connected_status=this.not_connected_status2.join()},addTask:function(){this.Index.addTask=!0,this.addInit(),this.AddInitSound(),this.addExtension()},clone:function(t){return JSON.parse(E()(t))},handleSelectionChangeQueue:function(t){this.AddQueueData.multipleSelection=t},QueueSure:function(){if(0==this.AddQueueData.multipleSelection.length)this.$alert("选择接听坐席"),this.AddQueueData.QueueShow=!0;else{var t=this.AddQueueData.multipleSelection.map(function(t){return t.staff_id});this.AddQueueData.staff_id_queue=t.join(","),this.form.strategy=this.AddQueueData.strategy,this.form.timeout=this.AddQueueData.timeout,this.form.maxlen=this.AddQueueData.maxlen,this.form.staff_id_queue=this.AddQueueData.staff_id_queue,this.AddQueueData.member=parseInt(this.AddQueueData.multipleSelection.length),this.AddQueueData.QueueShow=!1}},agentorqueueChangeWord:function(){var t=this;if("queue"==this.form.agent_or_queue)if(""==this.form.caller_id)this.$alert("请选择外线号码"),this.form.agent_or_queue="";else{this.AddQueueData.QueueShow=!0;var e={url:"/api/api_backend.php?r=asroperate/turn-queue",data:{caller_id:this.form.caller_id},success:function(e){t.AddQueueData.Data=e.info}};Object(v.a)(e)}else this.$alert("未选择转队列")},agentorqueueChange:function(t){var e=this;if("queue"==t)if(""==this.form.caller_id)this.$alert("请选择外线号码"),this.form.agent_or_queue="";else{this.AddQueueData.QueueShow=!0;var a={url:"/api/api_backend.php?r=asroperate/turn-queue",data:{caller_id:this.form.caller_id},success:function(t){e.AddQueueData.Data=t.info}};Object(v.a)(a),this.AddQueueData.caller_id=this.form.caller_id,this.form.agent_or_queue=t}else this.AddQueueData.caller_id="",this.form.agent_or_queue=t},onSubmit:function(){var t=this;this.round_rule[0]=this.form1,this.round_rule[1]=this.form2,this.round_rule[2]=this.form3;var e=this.form;if("mobile"==this.form.agent_or_queue){var a=this.form.asrtomobile;e.exten_num=a?"mobile"+a:0}else if("ext"==this.form.agent_or_queue){var i=this.form.exten;e.exten_num=i?"ext"+i:0}else"queue"==this.form.agent_or_queue?(e.exten_num="queue",e.strategy=this.AddQueueData.strategy,e.timeout=this.AddQueueData.timeout,e.maxlen=this.AddQueueData.maxlen,e.staff_id_queue=this.AddQueueData.staff_id_queue):e.exten_num=0;e.start_time_am=this.form.start_time_am+":00",e.end_time_am=this.form.end_time_am+":00",e.start_time_pm=this.form.start_time_pm+":00",e.end_time_pm=this.form.end_time_pm+":00",e.round_rule=E()(this.round_rule);var n={url:"/api/api_backend.php?r=asroperate/add-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.Index.addTask=!1,t.form=t.clone(t.data1),t.form1=t.clone(t.data2),t.form2=t.clone(t.data3),t.form3=t.clone(t.data4),t.not_connected_status1=[],t.not_connected_status2=[],t.init()):t.Index.addTask=!0,Object(v.c)(e)}};Object(v.a)(n)},edit:function(t){var e=this;this.addExtension(),this.AddInitSound(),this.Index.editTask=!0;var a={url:"/api/api_backend.php?r=asroperate/info",data:{id:t},success:function(t){e.editData.outLine=t.info.out_side_lines,e.editData.recognition_lies=t.info.recognition_lies,e.editData.call_result=t.info.call_result_status.map(function(t){return t.id=""+t.id,t}),e.formEdit=t.info.info,e.formEdit.ai_count=parseInt(t.info.info.ai_count),e.start_time_am=t.info.info.call_time.am.s,e.end_time_am=t.info.info.call_time.am.e,e.start_time_pm=t.info.info.call_time.pm.e,e.end_time_pm=t.info.info.call_time.pm.e;var a=t.info.round_rule.filter(function(t){if(0==t.round)return t}),i=t.info.round_rule.filter(function(t){if(1==t.round)return t}),n=t.info.round_rule.filter(function(t){if(2==t.round)return t}),s=t.info.info.exten_num;0==s.indexOf("mobile")?(e.formEdit.agent_or_queue="mobile",e.agent_or_queue="mobile",e.formEdit.asrtomobile=s.substring(6)):0==s.indexOf("ext")?(e.formEdit.agent_or_queue="ext",e.agent_or_queue="ext",e.formEdit.extNum=s.substring(3)):0==s.indexOf("queue")?(e.formEdit.agent_or_queue="queue",e.agent_or_queue="queue",e.EditQueueData.caller_id=e.formEdit.caller_id):0==s&&(e.formEdit.agent_or_queue="",e.formEdit.exten_num="",e.formEdit.asrtomobile=""),e.EditQueueData.member=t.info.queue_count,e.form1Edit=a[0],e.form1Edit.template_id=parseInt(a[0].template_id),e.form2Edit=i[0],e.form2Edit.template_id=parseInt(i[0].template_id),e.form3Edit=n[0],e.form3Edit.template_id=parseInt(n[0].template_id),e.not_connected_status1Edit=a[0].not_connected_status.split(","),e.not_connected_status2Edit=i[0].not_connected_status.split(",")}};Object(v.a)(a)},agentorqueueChangeEdit:function(t){var e=this;if("queue"==t)if(""==this.formEdit.caller_id)this.$alert("请选择外线号码"),this.formEdit.agent_or_queue="";else{this.EditQueueData.QueueShow=!0;var a={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(t){e.EditQueueData.Data=t.info,e.EditQueueData.strategy=t.message.strategy,e.EditQueueData.timeout=t.message.timeout,e.EditQueueData.maxlen=t.message.maxlen,e.EditQueueData.Data.forEach(function(t,a){1==t.staff_id_selected&&setTimeout(function(){e.$refs.multipleTables1.toggleRowSelection(e.EditQueueData.Data[a])},1)})}};Object(v.a)(a),this.EditQueueData.caller_id=this.formEdit.caller_id,this.formEdit.agent_or_queue=t}else this.EditQueueData.caller_id="",this.formEdit.agent_or_queue=t,this.formEdit.strategy="",this.formEdit.timeout="",this.formEdit.maxlen="",this.formEdit.staff_id_queue=""},editQueue:function(){var t=this,e={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(e){t.EditQueueData.Data=e.info,t.EditQueueData.strategy=e.message.strategy,t.EditQueueData.timeout=e.message.timeout,t.EditQueueData.maxlen=e.message.maxlen;var a=t.EditQueueData.Data.filter(function(t,e){return 1==t.staff_id_selected}).map(function(t,e){return t.staff_id});t.EditQueueData.staff_id_queue=a.join(",")}};Object(v.a)(e)},handleSelectionChangeQueueEdit:function(t){this.EditQueueData.multipleSelection=t},EditQueueSure:function(){if(0==this.EditQueueData.multipleSelection.length)this.$alert("选择接听坐席"),this.EditQueueData.QueueShow=!0;else{var t=this.EditQueueData.multipleSelection.map(function(t){return t.staff_id});this.EditQueueData.staff_id_queue=t.join(","),this.formEdit.strategy=this.EditQueueData.strategy,this.formEdit.timeout=this.EditQueueData.timeout,this.formEdit.maxlen=this.EditQueueData.maxlen,this.formEdit.staff_id_queue=this.EditQueueData.staff_id_queue,this.EditQueueData.member=parseInt(this.EditQueueData.multipleSelection.length),this.EditQueueData.QueueShow=!1}},agentorqueueChangeWordEdit:function(){var t=this;if("queue"==this.formEdit.agent_or_queue)if(""==this.formEdit.caller_id)this.$alert("请选择外线号码"),this.formEdit.agent_or_queue="";else{this.EditQueueData.QueueShow=!0;var e={url:"/api/api_backend.php?r=asroperate/edit-turn-queue",data:{num:this.formEdit.caller_id},success:function(e){t.EditQueueData.Data=e.info,t.EditQueueData.strategy=e.message.strategy,t.EditQueueData.timeout=e.message.timeout,t.EditQueueData.maxlen=e.message.maxlen,t.EditQueueData.Data.forEach(function(e,a){1==e.staff_id_selected&&setTimeout(function(){t.$refs.multipleTables1.toggleRowSelection(t.EditQueueData.Data[a])},1)})}};Object(v.a)(e)}else this.$alert("未选择转队列")},changeStatus1Edit:function(){this.form1Edit.not_connected_status=this.not_connected_status1Edit.join()},changeStatus2Edit:function(){this.form2Edit.not_connected_status=this.not_connected_status2Edit.join()},onSubmitSave:function(){var t=this;this.round_rule_edit[0]=this.form1Edit,this.round_rule_edit[1]=this.form2Edit,this.round_rule_edit[2]=this.form3Edit;var e=this.formEdit;if(3==this.start_time_am.split(":").length?e.start_time_am=this.start_time_am:e.start_time_am=this.start_time_am+":00",3==this.end_time_am.split(":").length?e.end_time_am=this.end_time_am:e.end_time_am=this.end_time_am+":00",3==this.start_time_pm.split(":").length?e.start_time_pm=this.start_time_pm:e.start_time_pm=this.start_time_pm+":00",3==this.end_time_pm.split(":").length?e.end_time_pm=this.end_time_pm:e.end_time_pm=this.end_time_pm+":00","mobile"==this.agent_or_queue){var a=this.formEdit.asrtomobile;e.exten_num=a?"mobile"+a:0}else if("ext"==this.agent_or_queue){var i=this.formEdit.extNum;e.exten_num=i?"ext"+i:0}else"queue"==this.agent_or_queue?(this.formEdit.exten="queue",e.strategy=this.EditQueueData.strategy,e.timeout=this.EditQueueData.timeout,e.maxlen=this.EditQueueData.maxlen,e.staff_id_queue=this.EditQueueData.staff_id_queue):e.exten_num=0;e.staff_id_queue=this.formEdit.staff_id_queue,e.round_rule=E()(this.round_rule_edit);var n={url:"/api/api_backend.php?r=asroperate/edit-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.Index.editTask=!1,t.init()):t.Index.editTask=!0,Object(v.c)(e)}};Object(v.a)(n)},close:function(t,e){var a=this,i={url:"/api/api_backend.php?r=asroperate/start-and-close",data:{id:t,status:0==e?1:2},success:function(t){a.$alert(t.message),a.init()}};Object(v.a)(i)},del:function(t){var e=this;this.$confirm("您确定要删除吗？","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=asroperate/del",data:{id:t},success:function(t){e.$alert(t.message),1==t.statusCode&&e.init()}};Object(v.a)(a)})}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"AIadd"},[a("el-button",{attrs:{type:"success"},on:{click:t.addTask}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加任务")]),t._v(" "),a("el-button",{attrs:{type:"success"}},[t._v("队列功能")]),t._v(" "),a("el-button",{attrs:{type:"success"}},[t._v("队列列表")])],1),t._v(" "),a("div",{staticClass:"AIlist"},[a("ul",{staticClass:"el-row",staticStyle:{"padding-left":"0"}},t._l(t.Dates,function(e,i){return a("li",{key:i,staticClass:"el-col el-col-8",staticStyle:{"min-height":"300px","max-height":"350px","margin-bottom":"5px"}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"AiTop",staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"title",staticStyle:{width:"30%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},attrs:{title:e.name}},[t._v("任务名称："+t._s(e.name))]),t._v(" "),a("div",{staticClass:"title",staticStyle:{margin:"0 15px"}},[t._v("任务编码："+t._s(e.task_coding))]),t._v(" "),a("div",{staticClass:"title",staticStyle:{width:"30%"}},[a("el-button",{staticStyle:{padding:"5px 0"}},[t._v(" 机器人状态：")]),t._v(" "),a("span",[t._v("正常")])],1)]),t._v(" "),a("div",{staticClass:"ListMain"},[1==e.status?a("div",{staticClass:"pic"},[a("img",{staticClass:"animated pulse infinite",attrs:{src:t.images.robotOn}})]):a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.images.robotOff}})]),t._v(" "),a("div",{staticClass:"AiInfo"},[a("div",{staticClass:"Upton"},[a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("\t识别线路")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.asr_number))]),t._v(" "),a("div",{staticClass:"time"},[t._v(" ")])]),t._v(" "),a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("外呼时间")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.call_time.am.s)+"-"+t._s(e.call_time.am.e))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.call_time.pm.s)+"-"+t._s(e.call_time.pm.e))])]),t._v(" "),a("span",{staticClass:"div1"})]),t._v(" "),a("div",{staticClass:"Upton"},[a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("外线号码")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.caller_id))])]),t._v(" "),a("span",{staticClass:"div1"}),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("机器人数")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.ai_count))])]),t._v(" "),a("span",{staticClass:"div1"})]),t._v(" "),a("div",{staticClass:"Countp"},[a("div",{staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("人机交互："),a("span",{staticStyle:{color:"red"}},[t._v(t._s(e.exten_num))])])])]),t._v(" "),a("div",{staticClass:"Countp"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"form.status == 0"}],staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("剩余资料："),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(e.remain_count)+" 机器人未启动")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"form.status == 1"}],staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("剩余资料："),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(e.remain_count))])])])]),t._v(" "),a("div",{staticClass:"Countp"},[a("div",{staticClass:"According",staticStyle:{display:"block"}},[a("em",[t._v("当前状态:\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),-1==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("呼叫已完成\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):0==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("本人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):1==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一联系人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):2==e.calling_round?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二联系人\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),0==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第一次呼叫")]):1==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第二次呼叫")]):2==e.calling_times?a("span",{staticStyle:{color:"#8876f4"}},[t._v("第三次呼叫")]):t._e()]):t._e()])])]),t._v(" "),a("div",{staticClass:"AiButton"},[a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"danger"}},[a("i",{staticClass:"fa fa-headphones"}),t._v("测试")]),t._v(" "),0==parseInt(e.status)?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.close(e.id,e.status)}}},[a("i",{staticClass:"fa fa-power-off"}),t._v("启动")]):1==parseInt(e.status)?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.close(e.id,e.status)}}},[a("i",{staticClass:"fa fa-power-off"}),t._v("关闭")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(a){t.edit(e.id)}}},[a("i",{staticClass:"fa fa-pencil"}),t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.del(e.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除")])],1)])])])])}))]),t._v(" "),a("div",{staticClass:"dial-header addTask"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"任务添加",visible:t.Index.addTask},on:{"update:visible":function(e){t.$set(t.Index,"addTask",e)}}},[a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("基础配置")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"00:00",step:"00:30",end:"12:00"}},model:{value:t.form.start_time_am,callback:function(e){t.$set(t.form,"start_time_am",e)},expression:"form.start_time_am"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:30",end:"12:00",minTime:t.form.start_time_am}},model:{value:t.form.end_time_am,callback:function(e){t.$set(t.form,"end_time_am",e)},expression:"form.end_time_am"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"11:00",step:"00:30",end:"24:00"}},model:{value:t.form.start_time_pm,callback:function(e){t.$set(t.form,"start_time_pm",e)},expression:"form.start_time_pm"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"11:00",step:"00:30",end:"24:00",minTime:t.form.start_time_pm}},model:{value:t.form.end_time_pm,callback:function(e){t.$set(t.form,"end_time_pm",e)},expression:"form.end_time_pm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机器人数量:"}},[a("ul",[a("li",{staticClass:"Slider"},[a("el-slider",{attrs:{"show-stops":"",max:10,min:1},model:{value:t.form.ai_count,callback:function(e){t.$set(t.form,"ai_count",e)},expression:"form.ai_count"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:"外线号码:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form.caller_id,callback:function(e){t.$set(t.form,"caller_id",e)},expression:"form.caller_id"}},t._l(t.AddData.outLine,function(t,e){return a("el-option",{key:e,attrs:{value:t.out_number,label:t.out_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"语音识别线路:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择识别线路"},model:{value:t.form.asr_number,callback:function(e){t.$set(t.form,"asr_number",e)},expression:"form.asr_number"}},t._l(t.AddData.recognition_lies,function(t,e){return a("el-option",{key:e,attrs:{label:t.asr_number,value:t.asr_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"交互方式："}},[a("el-radio-group",{on:{change:t.agentorqueueChange},model:{value:t.form.agent_or_queue,callback:function(e){t.$set(t.form,"agent_or_queue",e)},expression:"form.agent_or_queue"}},[a("div",[a("el-radio",{attrs:{label:"mobile"}},[t._v("转手机")]),t._v(" "),a("el-input",{staticStyle:{width:"120px","margin-left":"10px"},model:{value:t.form.asrtomobile,callback:function(e){t.$set(t.form,"asrtomobile",e)},expression:"form.asrtomobile"}})],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"ext"}},[t._v("转分机")]),t._v(" "),a("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:t.form.exten,callback:function(e){t.$set(t.form,"exten",e)},expression:"form.exten"}},t._l(t.AddData.ext_list,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"queue"}},[t._v("转队列")]),t._v(" "),a("el-input",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{disabled:!0},model:{value:t.AddQueueData.caller_id,callback:function(e){t.$set(t.AddQueueData,"caller_id",e)},expression:"AddQueueData.caller_id"}})],1)]),t._v(" "),a("span",{staticStyle:{display:"inline-block","border-bottom":"1px solid #333","line-height":"10px",cursor:"pointer"},on:{click:t.agentorqueueChangeWord}},[a("span",{directives:[{name:"show",rawName:"v-show",value:""==t.AddQueueData.member,expression:"AddQueueData.member == ''"}]},[t._v("0")]),t._v(" "),a("span",[t._v(t._s(t.AddQueueData.member))]),t._v("成员(点击选择接听成员)\n\t\t\t\t\t\t\t\t\t")])],1),t._v(" "),a("el-form-item",{attrs:{label:"振铃时长:"}},[a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},model:{value:t.form.call_duration,callback:function(e){t.$set(t.form,"call_duration",e)},expression:"form.call_duration"}}),t._v("秒\n\t\t\t\t\t\t\t\t")],1),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("呼叫规则")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form1.call_times,callback:function(e){t.$set(t.form1,"call_times",e)},expression:"form1.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form1.template_id,callback:function(e){t.$set(t.form1,"template_id",e)},expression:"form1.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus1},model:{value:t.not_connected_status1,callback:function(e){t.not_connected_status1=e},expression:"not_connected_status1"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择联系人"},model:{value:t.form1.next_round,callback:function(e){t.$set(t.form1,"next_round",e)},expression:"form1.next_round"}},[a("el-option",{attrs:{label:"第一联系人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("el-form",{ref:"forms",attrs:{model:t.form2,"label-width":"145px"}},[a("el-form-item",{attrs:{label:"第一联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form2.call_times,callback:function(e){t.$set(t.form2,"call_times",e)},expression:"form2.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form2.template_id,callback:function(e){t.$set(t.form2,"template_id",e)},expression:"form2.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus2},model:{value:t.not_connected_status2,callback:function(e){t.not_connected_status2=e},expression:"not_connected_status2"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.next_round,callback:function(e){t.$set(t.form2,"next_round",e)},expression:"form2.next_round"}},[a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form3,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"第二联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form3.call_times,callback:function(e){t.$set(t.form3,"call_times",e)},expression:"form3.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form3.template_id,callback:function(e){t.$set(t.form3,"template_id",e)},expression:"form3.template_id"}},t._l(t.AddData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Index.addTask=!1}}},[t._v("取消")])],1)])],1),t._v(" "),a("div",{staticClass:"dial-header addTask"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"任务编辑",visible:t.Index.editTask},on:{"update:visible":function(e){t.$set(t.Index,"editTask",e)}}},[a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("基础配置")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.formEdit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.formEdit.name,callback:function(e){t.$set(t.formEdit,"name",e)},expression:"formEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"00:00",step:"00:30",end:"12:00"}},model:{value:t.start_time_am,callback:function(e){t.start_time_am=e},expression:"start_time_am"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"00:00",step:"00:30",end:"12:00",minTime:t.form.start_time_am}},model:{value:t.end_time_am,callback:function(e){t.end_time_am=e},expression:"end_time_am"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下午呼叫时间:"}},[a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"开始时间","picker-options":{start:"11:00",step:"00:30",end:"24:00"}},model:{value:t.start_time_pm,callback:function(e){t.start_time_pm=e},expression:"start_time_pm"}}),t._v(" "),a("span",[t._v("~")]),t._v(" "),a("el-time-select",{style:t.Index.width1,attrs:{placeholder:"结束时间","picker-options":{start:"11:00",step:"00:30",end:"24:00",minTime:t.form.start_time_pm}},model:{value:t.end_time_pm,callback:function(e){t.end_time_pm=e},expression:"end_time_pm"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机器人数量:"}},[a("ul",[a("li",{staticClass:"Slider"},[a("el-slider",{attrs:{"show-stops":"",max:10,min:1},model:{value:t.formEdit.ai_count,callback:function(e){t.$set(t.formEdit,"ai_count",e)},expression:"formEdit.ai_count"}})],1)])]),t._v(" "),a("el-form-item",{attrs:{label:"外线号码:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.formEdit.caller_id,callback:function(e){t.$set(t.formEdit,"caller_id",e)},expression:"formEdit.caller_id"}},t._l(t.editData.outLine,function(t,e){return a("el-option",{key:e,attrs:{value:t.out_number,label:t.out_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"语音识别线路:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择识别线路"},model:{value:t.formEdit.asr_number,callback:function(e){t.$set(t.formEdit,"asr_number",e)},expression:"formEdit.asr_number"}},t._l(t.editData.recognition_lies,function(t,e){return a("el-option",{key:e,attrs:{label:t.asr_number,value:t.asr_number}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"交互方式："}},[a("el-radio-group",{on:{change:t.agentorqueueChangeEdit},model:{value:t.agent_or_queue,callback:function(e){t.agent_or_queue=e},expression:"agent_or_queue"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-radio",{attrs:{label:"mobile"}},[t._v("转手机")]),t._v(" "),a("el-input",{staticStyle:{width:"120px","margin-left":"10px"},model:{value:t.formEdit.asrtomobile,callback:function(e){t.$set(t.formEdit,"asrtomobile",e)},expression:"formEdit.asrtomobile"}})],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-radio",{attrs:{label:"ext"}},[t._v("转分机")]),t._v(" "),a("el-select",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{placeholder:"请选择"},model:{value:t.formEdit.extNum,callback:function(e){t.$set(t.formEdit,"extNum",e)},expression:"formEdit.extNum"}},t._l(t.AddData.ext_list,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"queue"}},[t._v("转队列")]),t._v(" "),a("el-input",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{disabled:!0},model:{value:t.formEdit.caller_id,callback:function(e){t.$set(t.formEdit,"caller_id",e)},expression:"formEdit.caller_id"}}),t._v(" "),a("span",{staticStyle:{"font-size":"14px",display:"inline-block","border-bottom":"1px solid #333","line-height":"10px",cursor:"pointer"},on:{click:t.agentorqueueChangeWordEdit}},[a("span",{directives:[{name:"show",rawName:"v-show",value:""==t.EditQueueData.member,expression:"EditQueueData.member == ''"}]},[t._v("0")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.EditQueueData.member,expression:"EditQueueData.member != ''"}]},[t._v(t._s(t.EditQueueData.member))]),t._v("成员(点击选择接听成员)\n\t\t\t\t\t\t\t\t\t\t\t")])],1)])],1),t._v(" "),a("el-form-item",{attrs:{label:"振铃时长:"}},[a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},model:{value:t.formEdit.call_duration,callback:function(e){t.$set(t.formEdit,"call_duration",e)},expression:"formEdit.call_duration"}}),t._v("秒\n\t\t\t\t\t\t\t\t")],1),t._v(" "),a("p",{staticStyle:{"text-align":"center","font-size":"16px","margin-bottom":"10px","font-weight":"bold"}},[t._v("呼叫规则")]),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form1Edit,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form1Edit.call_times,callback:function(e){t.$set(t.form1Edit,"call_times",e)},expression:"form1Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form1Edit.template_id,callback:function(e){t.$set(t.form1Edit,"template_id",e)},expression:"form1Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus1Edit},model:{value:t.not_connected_status1Edit,callback:function(e){t.not_connected_status1Edit=e},expression:"not_connected_status1Edit"}},t._l(t.editData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择联系人"},model:{value:t.form1Edit.next_round,callback:function(e){t.$set(t.form1Edit,"next_round",e)},expression:"form1Edit.next_round"}},[a("el-option",{attrs:{label:"第一联系人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"50%",height:"900px",display:"block",background:"#fff"}},[a("el-form",{ref:"forms",attrs:{model:t.form2Edit,"label-width":"145px"}},[a("el-form-item",{attrs:{label:"第一联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form2Edit.call_times,callback:function(e){t.$set(t.form2Edit,"call_times",e)},expression:"form2Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form2Edit.template_id,callback:function(e){t.$set(t.form2Edit,"template_id",e)},expression:"form2Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通状态:"}},[a("el-checkbox-group",{on:{change:t.changeStatus2Edit},model:{value:t.not_connected_status2Edit,callback:function(e){t.not_connected_status2Edit=e},expression:"not_connected_status2Edit"}},t._l(t.editData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"直接拨打:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2Edit.next_round,callback:function(e){t.$set(t.form2Edit,"next_round",e)},expression:"form2Edit.next_round"}},[a("el-option",{attrs:{label:"第二联系人",value:"2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form3Edit,"label-width":"145px"}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"第二联系人呼叫次数:"}},[a("el-input",{style:t.Index.width,model:{value:t.form3Edit.call_times,callback:function(e){t.$set(t.form3Edit,"call_times",e)},expression:"form3Edit.call_times"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫使用话术:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择话术"},model:{value:t.form3Edit.template_id,callback:function(e){t.$set(t.form3Edit,"template_id",e)},expression:"form3Edit.template_id"}},t._l(t.editData.templates,function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})}))],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Index.editTask=!1}}},[t._v("取消")])],1)])],1),t._v(" "),a("div",{staticClass:"dial-header bind"},[a("el-dialog",{attrs:{title:"选择接听的坐席",visible:t.AddQueueData.QueueShow,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.AddQueueData,"QueueShow",e)}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"90px",model:t.AddQueueData},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃策略:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.AddQueueData.strategy,callback:function(e){t.$set(t.AddQueueData,"strategy",e)},expression:"AddQueueData.strategy"}},[a("el-option",{attrs:{value:"ringall",label:"群振"}}),t._v(" "),a("el-option",{attrs:{value:"roundrobin",label:"轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"rrmemory",label:"记忆轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"leastrecent",label:"按最后一次接通分配"}}),t._v(" "),a("el-option",{attrs:{value:"fewestcalls",label:"按呼叫次数分配"}}),t._v(" "),a("el-option",{attrs:{value:"random",label:"随机分配"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃时长:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.AddQueueData.timeout,callback:function(e){t.$set(t.AddQueueData,"timeout",e)},expression:"AddQueueData.timeout"}}),t._v(" "),a("span",[t._v("秒")])],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 最大等待数:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.AddQueueData.maxlen,callback:function(e){t.$set(t.AddQueueData,"maxlen",e)},expression:"AddQueueData.maxlen"}}),t._v(" "),a("span",[t._v("个")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTables",staticStyle:{width:"100%"},attrs:{data:t.AddQueueData.Data,"tooltip-effect":"dark",height:"200"},on:{"selection-change":t.handleSelectionChangeQueue}},[a("el-table-column",{attrs:{type:"selection",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"真实姓名(工号)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"penalty",label:"振铃顺序"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.penalty,disabled:!0}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.QueueSure}},[t._v("确定保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.AddQueueData.QueueShow=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header bind"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"选择接听的坐席",visible:t.EditQueueData.QueueShow,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.$set(t.EditQueueData,"QueueShow",e)}}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"90px",model:t.EditQueueData},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃策略:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.EditQueueData.strategy,callback:function(e){t.$set(t.EditQueueData,"strategy",e)},expression:"EditQueueData.strategy"}},[a("el-option",{attrs:{value:"ringall",label:"群振"}}),t._v(" "),a("el-option",{attrs:{value:"roundrobin",label:"轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"rrmemory",label:"记忆轮询分配"}}),t._v(" "),a("el-option",{attrs:{value:"leastrecent",label:"按最后一次接通分配"}}),t._v(" "),a("el-option",{attrs:{value:"fewestcalls",label:"按呼叫次数分配"}}),t._v(" "),a("el-option",{attrs:{value:"random",label:"随机分配"}})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 振铃时长:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.EditQueueData.timeout,callback:function(e){t.$set(t.EditQueueData,"timeout",e)},expression:"EditQueueData.timeout"}}),t._v(" "),a("span",[t._v("秒")])],1),t._v(" "),a("el-form-item",{staticStyle:{display:"block"},attrs:{label:" 最大等待数:"}},[a("el-input",{staticStyle:{width:"100px"},model:{value:t.EditQueueData.maxlen,callback:function(e){t.$set(t.EditQueueData,"maxlen",e)},expression:"EditQueueData.maxlen"}}),t._v(" "),a("span",[t._v("个")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTables1",staticStyle:{width:"100%"},attrs:{data:t.EditQueueData.Data,"tooltip-effect":"dark",height:"200"},on:{"selection-change":t.handleSelectionChangeQueueEdit}},[a("el-table-column",{attrs:{type:"selection",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staff_id",label:"真实姓名(工号)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"penalty",label:"振铃顺序"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{value:t.row.penalty,disabled:!0}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditQueueSure}},[t._v("确定保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.EditQueueData.QueueShow=!1}}},[t._v("取消")])],1)],1)],1)])])])},staticRenderFns:[]};var F=a("VU/8")($,M,!1,function(t){a("DVO/")},"data-v-3710baaa",null).exports,I=(a("7y0E"),{name:"addArea",props:["id","title","formTitle"],data:function(){return{formLabelWidth:"120px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"区域添加"==this.title?a="/api/api_backend.php?r=system-setting/area-add":"区域编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/area-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(k.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(i)}}}),A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"区域名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},O=a("VU/8")(I,A,!1,null,null,null).exports,z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pageChangeCover"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!!this.total,expression:"!!total"}],staticClass:"block"},[e("el-pagination",{attrs:{"current-page":this.page,"page-sizes":[10,20,30,40],"page-size":this.page_size,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)])},staticRenderFns:[]},N=a("VU/8")({name:"pageChange",props:["total","page","page_size"],methods:{handleSizeChange:function(t){this.$emit("pageSizeChange",t)},handleCurrentChange:function(t){this.$emit("currentPageChange",t)}},data:function(){return{}}},z,!1,null,null,null).exports,j={components:{"edit-dialog":O,"page-change":N},data:function(){return{totalNum:"",titalAmount:"",formKey:{key:""},form:{name:"",region:""},formInline:{user:"",region:""},id:"",page:1,page_size:10,total:0,bannerTitle:"区域添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""}}},created:function(){this.init()},methods:{handleSelectionChange:function(t){console.log(t)},searchFn:function(){},onSubmit:function(){},init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/area-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.formTitle,t.total=Number(e.total))}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="区域添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},editFn:function(t){this.bannerTitle="区域编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/area-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"证件号"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件状态"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"委案时间"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"退案时间"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"委案金额"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件id"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件等级"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"marginU"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"催收员"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属批次"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"标色搜索"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"最后跟进"}},[a("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词："}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.key,callback:function(e){t.$set(t.formInline,"key",e)},expression:"formInline.key"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("清空")])],1),t._v(" "),a("div",[a("div",{staticClass:"blueB"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"分配案件："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("快速分配")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("手动分配")])],1),t._v(" "),a("el-form-item",{attrs:{label:"案件操作："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("暂停案件")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("关闭案件")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("退案")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("恢复案件")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("修改催收区域")])],1),t._v(" "),a("el-form-item",{attrs:{label:"导出操作："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出查询结果")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选案件")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选电话")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出催收记录")])],1),t._v(" "),a("el-form-item",{attrs:{label:"案件标色："}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出查询结果")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选案件")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchFn}},[t._v("导出所选电话")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出催收记录")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出催收记录")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.searchFn}},[t._v("导出催收记录")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"tableCover"},[a("div",{staticClass:"totalT"},[t._v("\n\t\t\t查询统计：\t案件总数："+t._s(t.totalNum)+"件，总金额：￥"+t._s(t.titalAmount)+"\n\t\t")]),t._v(" "),a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"选框",type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"案件id",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"催收区域",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"催收状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"所属批次",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"证件号码",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"委案金额",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"已还款",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"委案余额",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"上次通话",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"委案日期",prop:"id"}})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var q=a("VU/8")(j,L,!1,function(t){a("pelR")},null,null).exports,Q={name:"addDataMan",props:["id","title","formTitle","fileList","areaList","typeList","clientList","action"],computed:{formShow:function(){return"导入资料"==this.title},data:function(){if(this.formShow)return this.formTitle;var t={};return t.batch_id=this.id,t}},data:function(){return{formLabelWidth:"70px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},submitUpload:function(){this.$refs.upload.submit()},successFn:function(t,e,a){1==t.statusCode?(this.$emit("changeAddNow",!1),this.$emit("init"),Object(k.Message)({message:t.message,type:"success",duration:3e3})):Object(k.Message)({message:t.message,type:"erro",duration:3e3})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.formShow?a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"批次名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.batch_name,callback:function(e){t.$set(t.formTitle,"batch_name",e)},expression:"formTitle.batch_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"催收区域"}},[a("el-select",{attrs:{placeholder:"请选择催收区域"},model:{value:t.formTitle.collection_area,callback:function(e){t.$set(t.formTitle,"collection_area",e)},expression:"formTitle.collection_area"}},t._l(t.areaList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方"}},[a("el-select",{attrs:{placeholder:"请选择委托方"},model:{value:t.formTitle.client,callback:function(e){t.$set(t.formTitle,"client",e)},expression:"formTitle.client"}},t._l(t.clientList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"案件类型"}},[a("el-select",{attrs:{placeholder:"请选择案件类型"},model:{value:t.formTitle.case_type,callback:function(e){t.$set(t.formTitle,"case_type",e)},expression:"formTitle.case_type"}},t._l(t.typeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.formTitle.remark,callback:function(e){t.$set(t.formTitle,"remark",e)},expression:"formTitle.remark"}})],1)],1):t._e(),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.action,data:t.data,"on-success":t.successFn,"file-list":t.fileList,"auto-upload":!1,limit:1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.formShow,expression:"formShow"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("确定上传")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.formShow,expression:"!formShow"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("确定追加")])],1)],1)},staticRenderFns:[]};var R=a("VU/8")(Q,P,!1,function(t){a("toBy")},null,null).exports,U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",prop:"id",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"模板名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.templateUse,expression:"templateUse"}],attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(a){t.downloadFn(e.row)}}},[t._v("下载")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.templateUse,expression:"templateUse"}],attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]},B=a("VU/8")({name:"tableTemplate",props:["tableData","templateUse"],methods:{editFn:function(t){this.$emit("editFn",t)},downloadFn:function(t){this.$emit("downloadFn",t)},deleteFn:function(t){this.$emit("deleteFn",t)}}},U,!1,null,null,null).exports,V={name:"addDownload",components:{"div-table":B,"page-change":N},created:function(){this.init()},data:function(){return{templateUse:!1,page:1,page_size:10,total:0,tableData:[]}},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(v.a)(e)},downloadFn:function(t){window.open("/api/api_backend.php?r=system-setting/template-download&id="+t.id)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div-table",{attrs:{templateUse:t.templateUse,tableData:t.tableData},on:{downloadFn:function(e){t.downloadFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1)},staticRenderFns:[]},K=a("VU/8")(V,W,!1,null,null,null).exports,H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"催收区域"}},[a("el-select",{attrs:{placeholder:"请选择催收区域"},model:{value:t.formInline.collection_area,callback:function(e){t.$set(t.formInline,"collection_area",e)},expression:"formInline.collection_area"}},t._l(t.areaList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"委托方"}},[a("el-select",{attrs:{placeholder:"请选择委托方"},model:{value:t.formInline.client,callback:function(e){t.$set(t.formInline,"client",e)},expression:"formInline.client"}},t._l(t.clientList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"案件类型"}},[a("el-select",{attrs:{placeholder:"请选择案件类型"},model:{value:t.formInline.case_type,callback:function(e){t.$set(t.formInline,"case_type",e)},expression:"formInline.case_type"}},t._l(t.typeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.addFn(!0)}}},[t._v("搜索")])],1)],1)},staticRenderFns:[]},Y={name:"tableDataMan",props:["tableData","taskValue","taskList","addTask"],methods:{deleteFn:function(t){this.$emit("deleteFn",t)},exportFn:function(t){this.$emit("exportFn",t)},addToFn:function(t){this.$emit("addToFn",t)},addToTask:function(t){this.$emit("addToTask",t)},sureToAddTask:function(t){this.$emit("sureToAddTask",t)},rowClick:function(t,e,a){console.log(t,e,a),ne.push("/caseManagement")}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{label:"资料编号",prop:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"collection_area",label:"催收区域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client",label:"委托方"}}),t._v(" "),a("el-table-column",{attrs:{prop:"case_type",label:"案件类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"row_count",label:"户数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"总金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"批次备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",plain:"",round:""},on:{click:function(a){t.addToFn(e.row)}}},[t._v("追加")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",plain:"",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"info",plain:"",round:""},on:{click:function(a){t.exportFn(e.row)}}},[t._v("导出")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:"",round:""},on:{click:function(a){t.addToTask(e.row)}}},[t._v("添加到任务")])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"添加到外呼任务",visible:t.addTask},on:{"update:visible":function(e){t.addTask=e}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.taskValue,callback:function(e){t.taskValue=e},expression:"taskValue"}},t._l(t.taskList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.sureToAddTask}},[t._v("确认添加")])],1)])],1)},staticRenderFns:[]},X={components:{"edit-dialog":R,"page-change":N,"div-form":a("VU/8")({name:"formDataMan",props:["formInline","areaList","typeList","clientList"],methods:{addFn:function(){this.$emit("addFn")}}},H,!1,null,null,null).exports,"div-table":a("VU/8")(Y,J,!1,null,null,null).exports,"div-dialog":K},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"导入资料",addNow:!1,addDown:!1,addTask:!1,tableData:[],formTitle:{batch_name:"",collection_area:"",client:"",case_type:"",remark:""},fileList:[],action:"",formInline:{collection_area:"",client:"",case_type:""},areaList:[],clientList:[],typeList:[],taskList:[],tableDownload:[],taskValue:""}},created:function(){this.init(),this.getAreaList(),this.getClientList(),this.getTypeList()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/case-batch-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info.info,t.total=Number(e.info.total))}};Object(v.a)(e)},searchFn:function(){var t=this,e=this.formInline;e.page=this.page,e.page_size=this.page_size;var a={url:"/api/api_backend.php?r=asrcall-case-batch/search-batch-list",data:e,success:function(e){1==e.statusCode?(t.tableData=e.info,t.total=Number(e.info.length)):0==e.statusCode&&(t.tableData=[],t.total=0)}};Object(v.a)(a)},getAreaList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/collection-area",success:function(e){1==e.statusCode&&(t.areaList=e.info)}};Object(v.a)(e)},getClientList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/client",success:function(e){1==e.statusCode&&(t.clientList=e.info)}};Object(v.a)(e)},getTypeList:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-case-batch/case-type",success:function(e){1==e.statusCode&&(t.typeList=e.info)}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="导入资料",this.addNow=t,this.id="",this.fileList=[],this.action="/api/api_backend.php?r=asrcall-case-batch/import-batch",this.formTitle={batch_name:"",collection_area:"",client:"",case_type:"",remark:""}},changeAddNow:function(t){this.addNow=t},downloadFn:function(t){this.addDown=t},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},addToFn:function(t){this.bannerTitle="资料追加",this.id=t.id,this.addNow=!0,this.fileList=[],this.action="/api/api_backend.php?r=asrcall-case-batch/superaddition"},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=asrcall-case-batch/fake-del-batch",data:{batch_id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})},exportFn:function(t){window.open("/api/api_backend.php?r=asrcall-case-batch/export-batch&batch_id="+t.id)},addToTask:function(){var t=this;this.addTask=!0,this.taskValue="";var e={url:"/api/api_backend.php?r=asrcall-case-batch/config-list",success:function(e){1==e.statusCode?t.taskList=e.info:0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(e)},sureToAddTask:function(t){var e=this,a={url:"/api/api_backend.php?r=asrcall-case-batch/config-list",data:{batch_id:t.id,config_id:this.taskValue},success:function(t){1==t.statusCode?(e.init(),e.addTask=!1,e.taskValue="",Object(k.Message)({message:"添加成功！",type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",{staticClass:"upB"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.addFn(!0)}}},[t._v("导入资料")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){t.downloadFn(!0)}}},[t._v("下载模板")])],1),t._v(" "),a("div-form",{attrs:{formInline:t.formInline,areaList:t.areaList,typeList:t.typeList,clientList:t.clientList},on:{addFn:function(e){t.searchFn(e)}}}),t._v(" "),a("div-table",{attrs:{tableData:t.tableData,taskList:t.taskList,taskValue:t.taskValue,addTask:t.addTask},on:{deleteFn:function(e){t.deleteFn(e)},exportFn:function(e){t.exportFn(e)},addToFn:function(e){t.addToFn(e)},addToTask:function(e){t.addToTask(e)},sureToAddTask:function(e){t.sureToAddTask(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}}),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,action:t.action,title:t.bannerTitle,formTitle:t.formTitle,fileList:t.fileList,areaList:t.areaList,typeList:t.typeList,clientList:t.clientList},on:{init:function(e){t.init(e)},changeAddNow:function(e){t.changeAddNow(e)},addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"下载模板",visible:t.addDown},on:{"update:visible":function(e){t.addDown=e}}},[a("div-dialog")],1)],1)},staticRenderFns:[]};var Z=a("VU/8")(X,G,!1,function(t){a("SKnF")},null,null).exports,tt=a("504h"),et=a.n(tt),at={data:function(){return{option:[],batch_id:"",loading:!0,dates:[{name:"",data:[]},{name:"",data:[]}],x:[],tip:{all:"",conn:"",per_conn:""}}},beforeMount:function(){this.initBatch(),this.init()},methods:{initBatch:function(){var t=this,e={url:"/api/api_backend.php?r=call-stat/batch-list",success:function(e){t.option=e.info}};Object(v.a)(e)},changeBatch:function(t){this.batch_id=t,this.init()},init:function(){var t=this,e={url:"/api/api_backend.php?r=call-stat/data-show",data:{batch_id:this.batch_id},success:function(e){t.tip.all=e.info.data.all,t.tip.conn=e.info.data.conn,t.tip.per_conn=e.info.data.per_conn,t.x=e.info.chart.map(function(t){return t.time}),t.dates[0].name="拨打电话量",t.dates[0].data=e.info.chart.map(function(t){return Number(t.num)}),t.dates[1].name="接通电话量",t.dates[1].data=e.info.chart.map(function(t){return Number(t.connect)}),t.loading=!1,t.loadchart(t.x,t.dates),Object(v.c)(e)}};Object(v.a)(e)},exportData:function(){window.open("/api/api_backend.php?r=call-stat/export&batch_id="+this.batch_id)},loadchart:function(t,e){et.a.chart("container",{title:{text:"通话量统计"},subtitle:{},yAxis:{title:{text:"通话量"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},xAxis:{categories:t,labels:{autoRotationLimit:80,autoRotation:[-30]}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n      批次名称:\n      "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeBatch},model:{value:t.batch_id,callback:function(e){t.batch_id=e},expression:"batch_id"}},t._l(t.option,function(t,e){return a("el-option",{key:e,attrs:{label:t.batch_name,value:t.id}})}))],1),t._v(" "),a("div",{staticStyle:{"padding-bottom":"10px","font-size":"20px",display:"flex","justify-content":"space-between"}},[a("div",[t._v("\n        呼出总量"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.all))]),t._v("; \n        接通总量 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.conn))]),t._v(" ;接通率"),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.tip.per_conn))])]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.exportData}},[t._v("导出数据")])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"container"}})])},staticRenderFns:[]};var nt=a("VU/8")(at,it,!1,function(t){a("NqAg")},"data-v-0c70b2ab",null).exports,st={components:{"page-change":N},data:function(){return{infos:[],add:{show:!1},addOrEdit:{title:"",show:!1},AddData:{call_result:[]},Index:{width:"width:200px",width1:"width:120px"},form:{name:"",remark:""},round_info:[],not_connected_status1:[],not_connected_status2:[],not_connected_status3:[],not_connected_content:"",form1:{round:"0",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},form2:{round:"1",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},form3:{round:"2",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},data1:{round:"0",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},data2:{round:"1",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},data3:{round:"2",times:"",connected_send:"",not_connected_send:"",not_connected_status:"",connected_content:"",not_connected_content:""},Dates:[],editData:{outLine:[],recognition_lies:[],call_result:[],templates:[]},formEdit:{},round_rule_edit:[],not_connected_status1Edit:[],not_connected_status2Edit:[],form1Edit:{},form2Edit:{},form3Edit:{}}},beforeMount:function(){this.init()},methods:{clone:function(t){return JSON.parse(E()(t))},init:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/list",success:function(e){t.infos=e.info}};Object(v.a)(e)},addInit:function(){var t=this,e={url:"/api/api_backend.php?r=sms-rule/add-init",success:function(e){t.AddData.call_result=e.info.call_result_status}};Object(v.a)(e)},changeStatus1:function(){this.form1.not_connected_status=this.not_connected_status1.join()},changeStatus2:function(){this.form2.not_connected_status=this.not_connected_status2.join()},changeStatus3:function(){this.form3.not_connected_status=this.not_connected_status3.join()},addTask:function(){this.add.show=!0,this.addInit()},onSubmit:function(){var t=this;this.round_info[0]=this.form1,this.round_info[1]=this.form2,this.round_info[2]=this.form3;var e=this.form;e.round_info=E()(this.round_info);var a={url:"/api/api_backend.php?r=sms-rule/add-handle",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.add.show=!1,t.form1=t.clone(t.data1),t.form2=t.clone(t.data2),t.form3=t.clone(t.data3),t.not_connected_status1=[],t.not_connected_status2=[],t.not_connected_status3=[],t.form.name="",t.form.remark="",t.init()):t.add.show=!0}};Object(v.a)(a)},edit:function(t){},changeStatus1Edit:function(){this.form1Edit.not_connected_status=this.not_connected_status1Edit.join()},changeStatus2Edit:function(){this.form2Edit.not_connected_status=this.not_connected_status2Edit.join()},onSubmitSave:function(){},del:function(t){this.$confirm("您确定要删除吗？","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){})},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"AIadd",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.addTask(1)}}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加方案")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.addTask(2,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"dial-header addTask1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加方案",visible:t.add.show},on:{"update:visible":function(e){t.$set(t.add,"show",e)}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"方案名称:"}},[a("el-input",{style:t.Index.width,model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"发送方式"}})],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"33.3%",display:"inline-block",background:"#fff"},attrs:{model:t.form1,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1.connected_send,callback:function(e){t.$set(t.form1,"connected_send",e)},expression:"form1.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1.connected_content,callback:function(e){t.$set(t.form1,"connected_content",e)},expression:"form1.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"本人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form1.not_connected_send,callback:function(e){t.$set(t.form1,"not_connected_send",e)},expression:"form1.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form1.times,callback:function(e){t.$set(t.form1,"times",e)},expression:"form1.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox-group",{on:{change:t.changeStatus1},model:{value:t.not_connected_status1,callback:function(e){t.not_connected_status1=e},expression:"not_connected_status1"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form1.not_connected_content,callback:function(e){t.$set(t.form1,"not_connected_content",e)},expression:"form1.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"33.3%",display:"inline-block",background:"#fff"},attrs:{model:t.form2,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人号码接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.connected_send,callback:function(e){t.$set(t.form2,"connected_send",e)},expression:"form2.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2.connected_content,callback:function(e){t.$set(t.form2,"connected_content",e)},expression:"form2.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"本人号码未接通:"}},[a("el-select",{style:t.Index.width,model:{value:t.form2.not_connected_send,callback:function(e){t.$set(t.form2,"not_connected_send",e)},expression:"form2.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form2.times,callback:function(e){t.$set(t.form2,"times",e)},expression:"form2.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox-group",{on:{change:t.changeStatus2},model:{value:t.not_connected_status2,callback:function(e){t.not_connected_status2=e},expression:"not_connected_status2"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form2.not_connected_content,callback:function(e){t.$set(t.form2,"not_connected_content",e)},expression:"form2.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",staticStyle:{width:"31%",display:"inline-block",background:"#fff"},attrs:{model:t.form3,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"本人号码接通:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form3.connected_send,callback:function(e){t.$set(t.form3,"connected_send",e)},expression:"form3.connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3.connected_content,callback:function(e){t.$set(t.form3,"connected_content",e)},expression:"form3.connected_content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"本人号码未接通:"}},[a("el-select",{style:t.Index.width,attrs:{placeholder:"请选择外线号码"},model:{value:t.form3.not_connected_send,callback:function(e){t.$set(t.form3,"not_connected_send",e)},expression:"form3.not_connected_send"}},[a("el-option",{attrs:{value:"0",label:"不发送"}}),t._v(" "),a("el-option",{attrs:{value:"1",label:"发送"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"呼叫次数:"}},[a("p",{staticStyle:{display:"inline-block"}},[t._v("第")]),t._v(" "),a("el-input",{staticStyle:{width:"50px"},model:{value:t.form3.times,callback:function(e){t.$set(t.form3,"times",e)},expression:"form3.times"}}),t._v(" "),a("p",{staticStyle:{display:"inline-block"}},[t._v("次")])],1),t._v(" "),a("el-form-item",{attrs:{label:"未接通:"}},[a("el-checkbox-group",{on:{change:t.changeStatus3},model:{value:t.not_connected_status3,callback:function(e){t.not_connected_status3=e},expression:"not_connected_status3"}},t._l(t.AddData.call_result,function(e,i){return a("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.status))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发送内容:"}},[a("el-input",{style:t.Index.width,attrs:{type:"textarea",rows:4},model:{value:t.form3.not_connected_content,callback:function(e){t.$set(t.form3,"not_connected_content",e)},expression:"form3.not_connected_content"}})],1)],1),t._v(" "),a("el-form",{ref:"forms",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Index.editTask=!1}}},[t._v("取消")])],1)],1)],1)],1)])])},staticRenderFns:[]};var lt=a("VU/8")(st,ot,!1,function(t){a("HXDO")},null,null).exports,rt=a("VU/8")(null,null,!1,null,null,null).exports,ct={components:{"page-change":N},data:function(){return{saving:!1,page:1,total:0,page_size:10,loading:!0,keyword:"",infos:[],AddTpl:!1,AddData:{sound_type:[],select_tpl_id:[],sound:[]},select_tpl_id:"0",AddTplData:{name:"",sound_type:"真人录音",sound_id:"",template_id:"0"},AddTplData1:{name:"",sound_type:"真人录音",sound_id:"",template_id:"0"},dataClone:{},AddSound:!1,AddSoundData:{name:""},EditTpl:!1,EditTplData:{name:"",sound_type:"",sound_name:"",template_id:""}}},mounted:function(){this.init()},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},init:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){t.infos=e.info.info,t.total=parseInt(e.info.total),t.loading=!1}};Object(v.a)(e)},addListTpl:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-list-all",success:function(e){t.AddData.select_tpl_id=e.info.map(function(t){return{id:t.id,tpl_name:t.name}})}};Object(v.a)(e)},addListSound:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-list-all",success:function(e){t.AddData.sound=e.info}};Object(v.a)(e)},addTpl:function(){this.AddTpl=!0,this.AddData.sound_type=[{sound_type:"真人录音"},{sound_type:"人工合成"}],this.addListTpl(),this.addListSound()},clone:function(t){return JSON.parse(E()(t))},AddSave:function(){var t=this;this.saving=!0;var e=this.AddTplData;"人工合成"==this.AddTplData.sound_type?e.sound_type=0:"真人录音"==this.AddTplData.sound_type&&(e.sound_type=1);var a={url:"/api/api_backend.php?r=template/template-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.AddTpl=!1,t.init(),t.AddTplData=t.clone(t.AddTplData1)):t.AddTpl=!0,t.saving=!1}};Object(v.a)(a)},addSound:function(){this.AddSound=!0},AddSoundSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-add",data:{name:this.AddSoundData.name},success:function(e){t.$alert(e.message),1==e.statusCode?(t.AddSound=!1,t.addListSound()):t.AddSound=!0}};Object(v.a)(e)},edit:function(t,e){var a=this;this.EditTpl=!0;var i={url:"/api/api_backend.php?r=template/template-info",data:{template_id:e.id},success:function(t){a.EditTplData=t.info,a.EditTplData.template_id=t.info.id}};Object(v.a)(i)},EditSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-edit",data:{template_id:this.EditTplData.template_id,name:this.EditTplData.name},success:function(e){1==e.statusCode?(t.EditTpl=!1,t.init()):t.EditTpl=!0,t.$alert(e.message)}};Object(v.a)(e)},del:function(t,e){var a=this;this.$confirm("确定删除语音模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/template-del",data:{template_id:e.id},success:function(t){1==t.statusCode&&a.init(),a.$alert(t.message)}};Object(v.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},onSubmit:function(){var t=this,e={url:"/api/api_backend.php?r=template/template-search",data:{keywords:this.keyword},success:function(e){t.total=0,1==e.statusCode?t.infos=e.info:t.infos=[]}};Object(v.a)(e)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},asrSound:function(t){this.$router.push({path:"asrSoundScheme/"+t.id})},detile:function(t,e){setCookie("telephone_detail",e.id)},flow:function(t,e){setCookie("flow_id",e.id)}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"CallCount"},[a("div",{staticClass:"AIadd",staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"success"},on:{click:t.addTpl}},[a("i",{staticClass:"fa fa-plus"}),t._v("新建模板")])],1),t._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{float:"left","margin-left":"10px"},attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"TableList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:"",height:parseInt(t.total)>0?500:100}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"方案名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sound_type",label:"语言模式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sound_type",label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"backend.php?r=asr-sound-scheme/sound"}},[a("el-button",{attrs:{type:"primary",plain:""}},[t._v("语音库")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.asrSound(e.row)}}},[t._v("话术库")]),t._v(" "),a("a",{attrs:{href:"backend.php?r=asr-voice-repository/tree"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.flow(e.$index,e.row)}}},[t._v("流程图")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.edit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.del(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("page-change",{directives:[{name:"show",rawName:"v-show",value:0!=t.total,expression:"total!=0"}],attrs:{total:t.total,page:t.page},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1)])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"新建模板",visible:t.AddTpl,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!t.saving},on:{"update:visible":function(e){t.AddTpl=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"方案名称："}},[a("el-input",{staticStyle:{width:"100%"},model:{value:t.AddTplData.name,callback:function(e){t.$set(t.AddTplData,"name",e)},expression:"AddTplData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音模式:"}},[a("el-select",{attrs:{placeholder:"请选择语音模式"},model:{value:t.AddTplData.sound_type,callback:function(e){t.$set(t.AddTplData,"sound_type",e)},expression:"AddTplData.sound_type"}},t._l(t.AddData.sound_type,function(t,e){return a("el-option",{key:e,attrs:{label:t.sound_type,value:t.sound_type}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"选择模板:"}},[a("el-select",{attrs:{placeholder:"请选择模板"},model:{value:t.AddTplData.template_id,callback:function(e){t.$set(t.AddTplData,"template_id",e)},expression:"AddTplData.template_id"}},[a("el-option",{attrs:{label:"空模板",value:"0"}}),t._v(" "),t._l(t.AddData.select_tpl_id,function(t,e){return a("el-option",{key:e,attrs:{label:t.tpl_name,value:t.id,disabled:""}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"语音库:"}},[a("el-select",{attrs:{placeholder:"请选择语音库"},model:{value:t.AddTplData.sound_id,callback:function(e){t.$set(t.AddTplData,"sound_id",e)},expression:"AddTplData.sound_id"}},t._l(t.AddData.sound,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addSound}},[t._v("新建语音库")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.saving,expression:"!saving"}],attrs:{type:"primary"},on:{click:t.AddSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],attrs:{type:"primary"}},[t._v("保存中")]),t._v(" "),a("el-button",{on:{click:function(e){t.AddTpl=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"新建语音库",visible:t.AddSound},on:{"update:visible":function(e){t.AddSound=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"语音库名称："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.AddSoundData.name,callback:function(e){t.$set(t.AddSoundData,"name",e)},expression:"AddSoundData.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.AddSoundSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.AddSound=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"修改模板",visible:t.EditTpl},on:{"update:visible":function(e){t.EditTpl=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"方案名称："}},[a("el-input",{staticStyle:{width:"450px"},model:{value:t.EditTplData.name,callback:function(e){t.$set(t.EditTplData,"name",e)},expression:"EditTplData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音模式:"}},[a("el-input",{staticStyle:{width:"450px"},attrs:{disabled:!0},model:{value:t.EditTplData.sound_type,callback:function(e){t.$set(t.EditTplData,"sound_type",e)},expression:"EditTplData.sound_type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"语音库:"}},[a("el-input",{staticStyle:{width:"450px"},attrs:{disabled:!0},model:{value:t.EditTplData.sound_name,callback:function(e){t.$set(t.EditTplData,"sound_name",e)},expression:"EditTplData.sound_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.EditTpl=!1}}},[t._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};var ut=a("VU/8")(ct,dt,!1,function(t){a("RQjr")},"data-v-5943ab0f",null).exports,mt={data:function(){var t;return t={template_id:"",req_id:"",curr:1,loading:!1,init:{page:1,page_size:15,total:0,keywords:"",InitData:[],textAudio:""},baseMessage:{Add:!1,Sound:[],Edit:!1}},S()(t,"baseMessage",{Add:!1,Sound:[],Edit:!1}),S()(t,"baseMessageData",{show_name:"",is_interrupt:"1",type:"0",name:"",nextname:".null",max_repeat:"3",wait_time:"3",record:"",answer:""}),S()(t,"baseMessageDataEdit",{show_name:"",is_interrupt:"",type:"",name:"",nextname:"",wait_time:"",max_repeat:"",record:"",answer:"",record_description:""}),S()(t,"activeName2","first"),S()(t,"touchAddData",{condition:"",name:"",is_interrupt:"1"}),S()(t,"touch",{touchShow:!1,EditTouch:!1,EditTouchLeft:!1,AddTouch:!1,Data:[],keyword:"",DataRight:[],total:0,page:1,page_size:10,req_id:"",levalData:[]}),S()(t,"touchEditDataLeft",{condition:"",name:""}),S()(t,"touchEditData",{condition:"",is_interrupt:""}),S()(t,"context",{EditContext:!1,custom:!0,ShowContext:!1,nextData:[],touchData:[],Data:[],req_id:"",page:1,page_size:10,total:0}),S()(t,"contextData",{content_type:".content",is_interrupt:"1",nextId:"",condition:"0",newCondition:""}),S()(t,"editContextData",{}),S()(t,"audioList",[]),S()(t,"add",{show:!1,audio:""}),S()(t,"edit",{show:!1,addNext:!1,title:!1,audioList:[],audio:"",nextList:[],addNextList:[]}),S()(t,"obj",[]),S()(t,"target",""),S()(t,"ops",""),S()(t,"show",!1),t},activated:function(){this.getId(),this.initData()},beforeMount:function(){},methods:{index:function(t){return(this.init.page-1)*this.init.page_size+t+1},getId:function(){this.template_id=this.$route.params&&this.$route.params.id},initData:function(){var t=this;this.getId(),this.loading=!0;var e={url:"/api/api_backend.php?r=template/req-ans-data-list",data:{template_id:this.template_id,page:this.init.page,page_size:this.init.page_size,keywords:this.init.keywords},success:function(e){t.loading=!1,t.init.InitData=e.info.info,1==e.statusCode?t.init.total=parseInt(e.info.total):t.init.total=0}};Object(v.a)(e)},search:function(){this.loading=!0,this.init.page="1",this.init.page_size="15",this.curr="1",this.initData()},handleSizeChange:function(t){this.init.page_size=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},handleCurrentChange:function(t){this.init.page=t,this.initData(),document.getElementsByClassName("el-table__body-wrapper")[0].scrollTop=0},listen:function(t){this.init.textAudio=t,document.getElementById("audioPlay").paused?document.getElementById("audioPlay").play():document.getElementById("audioPlay").pause()},editInit:function(t,e){var a=this;this.activeName2="first",this.req_id=e.id,this.baseMessage.Edit=!0,this.getSoundContent();var i={url:"/api/api_backend.php?r=template/template-base-info",data:{template_id:this.template_id,req_id:e.id},success:function(t){a.baseMessageDataEdit=t.info,"0"==t.info.type?a.baseMessageDataEdit.type="0":"1"==t.info.type&&(a.baseMessageDataEdit.type="1")}};Object(v.a)(i)},EditMessageSave:function(){var t=this;if(this.baseMessageDataEdit.max_repeat&&this.baseMessageDataEdit.wait_time){var e={};"0"==this.baseMessageDataEdit.record?e.answer=this.baseMessageDataEdit.record_description:e.answer=this.baseMessageDataEdit.answer,e.template_id=this.template_id,e.req_id=this.baseMessageDataEdit.id,e.show_name=this.baseMessageDataEdit.show_name,e.is_interrupt=this.baseMessageDataEdit.is_interrupt,e.type=this.baseMessageDataEdit.type,0==this.baseMessageDataEdit.type?e.name=".question":e.name=this.baseMessageDataEdit.name,e.nextname=this.baseMessageDataEdit.nextname,e.max_repeat=this.baseMessageDataEdit.max_repeat,e.wait_time=this.baseMessageDataEdit.wait_time,e.record=this.baseMessageDataEdit.record;var a={url:"/api/api_backend.php?r=template/template-base-info-edit",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.baseMessage.Edit=!1,t.initData()):t.baseMessage.Edit=!0}};Object(v.a)(a)}else this.$alert("等待时长和可重复次数为必填")},delInit:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/template-base-info-delete",data:{template_id:a.template_id,req_id:e.id},success:function(t){a.$alert(t.message),a.initData()}};Object(v.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getSoundContent:function(){var t=this,e={url:"/api/api_backend.php?r=template/sound-content",data:{template_id:this.template_id},success:function(e){1==e.statusCode?t.baseMessage.Sound=e.info:t.baseMessage.Sound=[],t.baseMessage.Sound.push({id:"0",spath:"无录音,填写描述"})}};Object(v.a)(e)},getMainLine:function(){var t=this,e={url:"/api/api_backend.php?r=template/max-main-line",data:{template_id:this.template_id},success:function(e){t.baseMessageData.name=e.info,t.baseMessageDataEdit.name=e.info,t.baseMessageData.show_name.trim()||(t.baseMessageData.show_name="主线"+e.info)}};Object(v.a)(e)},changeType:function(t){1==t&&this.getMainLine()},changeSoundWord:function(t){var e=this.baseMessage.Sound.filter(function(e){if(e.id==t)return e});this.baseMessageData.answer=e.map(function(t){return t.word}),this.baseMessageDataEdit.answer=e.map(function(t){return t.word})},addMessage:function(){this.baseMessage.Add=!0,this.baseMessageData.show_name="",this.baseMessageData.is_interrupt="1",this.baseMessageData.type="0",this.baseMessageData.name="",this.baseMessageData.nextname=".null",this.baseMessageData.max_repeat="3",this.baseMessageData.wait_time="3",this.baseMessageData.record="",this.baseMessageData.answer="",this.getSoundContent()},AddMessageSave:function(){var t=this;if(this.baseMessageData.max_repeat&&this.baseMessageData.wait_time){var e=this.baseMessageData;0==this.baseMessageData.type&&(e.name=".question"),e.template_id=this.template_id;var a={url:"/api/api_backend.php?r=template/template-base-info-add",data:e,success:function(e){1==e.statusCode?(t.baseMessage.Add=!1,t.initData(),t.$alert(e.message)):(t.baseMessage.Add=!0,t.$message({showClose:!0,message:e.message,duration:5e3,type:"error"}))}};Object(v.a)(a)}else this.$alert("等待时长和可重复次数为必填")},handleClick:function(t,e){1==t.index?(this.touch.req_id=this.req_id,this.touch.keyword="",this.touchInit(),this.touchDataRight()):2==t.index&&(this.contextData.req_id=this.req_id,this.contextTouch(),this.contextNext(),this.contextInit())},touchInit:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-usable-list",data:{template_id:this.template_id},success:function(e){t.touch.Data=e.info}};Object(v.a)(e)},dblclickTouchEdit:function(t,e){var a=this;this.touch.EditTouchLeft=!0;var i={url:"/api/api_backend.php?r=template/trigger-info",data:{template_id:this.template_id,trigger_id:t.id},success:function(t){a.touchEditDataLeft=t.info}};Object(v.a)(i)},touchEditSaveLeft:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-edit",data:{template_id:this.template_id,name:this.touchEditDataLeft.name,condition:this.touchEditDataLeft.condition,trigger_id:this.touchEditDataLeft.id},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouchLeft=!1,t.touchInit()):t.touch.EditTouchLeft=!0}};Object(v.a)(e)},touchSearch:function(){var t=this,e={url:"/api/api_backend.php?r=template/trigger-search",data:{template_id:this.template_id,keywords:this.touch.keyword},success:function(e){1==e.statusCode?t.touch.Data=e.info:t.$alert(e.message)}};Object(v.a)(e)},touchAdd:function(){this.touch.AddTouch=!0,this.touch.condition="",this.touch.name="",this.touch.is_interrupt=""},touchAddSave:function(){var t=this,e=this.touchAddData;e.template_id=this.template_id;var a={url:"/api/api_backend.php?r=template/trigger-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.touchInit(),t.touch.AddTouch=!1):t.touch.AddTouch=!0}};Object(v.a)(a)},touchLeftPlus:function(t,e){var a=this,i={url:"/api/api_backend.php?r=template/req-ans-trigger-add",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.initData(),a.touchInit())}};Object(v.a)(i)},touchDataRight:function(){var t=this,e=this.touch.page,a=this.touch.page_size,i={url:"/api/api_backend.php?r=template/req-ans-trigger-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?t.touch.total=parseInt(e.info.total):t.touch.total=0,t.touch.DataRight=e.info.info}};Object(v.a)(i)},handleSizeChangeTouch:function(t){this.touch.page_size=t,this.touchDataRight()},handleCurrentChangeTouch:function(t){this.touch.page=t,this.touchDataRight()},touchEdit:function(t,e){this.touch.EditTouch=!0,this.touchEditData=e},touchEditSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/req-ans-trigger-edit",data:{template_id:this.template_id,req_id:this.req_id,trigger_id:this.touchEditData.id,is_interrupt:this.touchEditData.is_interrupt,condition:this.touchEditData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.touch.EditTouch=!1,t.touchDataRight()):t.touch.EditTouch=!0}};Object(v.a)(e)},touchEdl:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/req-ans-trigger-delete",data:{template_id:a.template_id,req_id:a.req_id,trigger_id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&(a.touchDataRight(),a.touchInit())}};Object(v.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},contextNext:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-next-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.nextData=e.info}};Object(v.a)(e)},contextTouch:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-common-type-list",data:{template_id:this.template_id,req_id:this.req_id},success:function(e){t.context.touchData=e.info,t.context.touchData.unshift({condition:"自定义触发词",name:"0"})}};Object(v.a)(e)},changeTouchInput:function(t){this.context.custom="0"==t},contextSave:function(){var t=this,e=this.contextData;e.template_id=this.template_id,e.req_id=this.req_id;var a={url:"/api/api_backend.php?r=template/content-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode&&(t.contextInit(),t.contextTouch(),t.contextData.content_type=".content",t.contextData.is_interrupt="1",t.contextData.nextId="",t.contextData.condition="0",t.contextData.newCondition="",t.context.custom=!0)}};Object(v.a)(a)},contextInit:function(){var t=this,e=this.context.page,a=this.context.page_size,i={url:"/api/api_backend.php?r=template/content-list",data:{template_id:this.template_id,req_id:this.req_id,page:e,page_size:a},success:function(e){1==e.statusCode?(t.context.Data=e.info.info,t.context.total=parseInt(e.info.total)):(t.context.Data=[],t.context.total=0)}};Object(v.a)(i)},handleCurrentChangeContext:function(t){this.context.page=t,this.contextInit(this.contextData.req_id)},editContext:function(t,e){var a=this;this.context.EditContext=!0;var i={url:"/api/api_backend.php?r=template/content-info",data:{template_id:this.template_id,req_id:this.req_id,content_id:e.id},success:function(t){a.editContextData=t.info}};Object(v.a)(i)},editContextSave:function(){var t=this,e={url:"/api/api_backend.php?r=template/content-edit",data:{template_id:this.template_id,req_id:this.req_id,content_id:this.editContextData.id,content_type:this.editContextData.type,nextId:this.editContextData.answer,is_interrupt:this.editContextData.is_interrupt,newCondition:this.editContextData.newCondition,condition:this.editContextData.condition},success:function(e){t.$alert(e.message),1==e.statusCode?(t.context.EditContext=!1,t.contextInit(t.contextData.req_id)):t.context.EditContext=!0}};Object(v.a)(e)},delContext:function(t,e){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={url:"/api/api_backend.php?r=template/content-delete",data:{template_id:a.template_id,id:e.id},success:function(t){a.$alert(t.message),1==t.statusCode&&a.contextInit()}};Object(v.a)(t)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"TopForm"},[a("div",{staticClass:"CallCount"},[a("div",{staticStyle:{float:"left"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{float:"left","margin-left":"10px"},attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.init.keywords,callback:function(e){t.$set(t.init,"keywords",e)},expression:"init.keywords"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("div",{staticClass:"AIadd",staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"success"},on:{click:t.addMessage}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加基本信息")])],1),t._v(" "),a("div",{staticClass:"TableList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.init.InitData,border:"",height:t.init.total>=2?600:300}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{label:"自定义话术"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("名称:"+t._s(e.row.show_name))]),t._v(" "),a("p",[t._v("内容:"+t._s(e.row.answer))]),t._v(" "),a("p",[t._v("触发词:"+t._s(e.row.condition))]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:1==e.row.is_interrupt,expression:"scope.row.is_interrupt == 1"}]},[t._v("类型: "),a("span",{staticStyle:{color:"#0099FF"}},[t._v(t._s(e.row.type))]),t._v(" "),a("span",{staticStyle:{color:"#FF6600"}},[t._v("可以打断")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:0==e.row.is_interrupt,expression:"scope.row.is_interrupt == 0"}]},[t._v("类型: "),a("span",{staticStyle:{color:"#0099FF"}},[t._v(" "+t._s(e.row.type))]),t._v(" "),a("span",{staticStyle:{color:"#FF6600"}},[t._v("不可以打断")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"record",label:"录音状况"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.record?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.listen(e.row.record)}}},[t._v("试听")]):""==e.row.record?a("el-button",{attrs:{type:"danger",plain:""}},[t._v("等待录音")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editInit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.delInit(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("audio",{staticStyle:{width:"100%"},attrs:{src:t.init.textAudio,id:"audioPlay",autoplay:""}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[15,20,25,30],"page-size":t.init.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.init.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])]),t._v(" "),a("div",{staticClass:"dial-header tag-dial padding"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"基本信息",visible:t.baseMessage.Add},on:{"update:visible":function(e){t.$set(t.baseMessage,"Add",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.baseMessageData}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageData.show_name,callback:function(e){t.$set(t.baseMessageData,"show_name",e)},expression:"baseMessageData.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.is_interrupt,callback:function(e){t.$set(t.baseMessageData,"is_interrupt",e)},expression:"baseMessageData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageData.type,callback:function(e){t.$set(t.baseMessageData,"type",e)},expression:"baseMessageData.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageData.type,expression:"baseMessageData.type=='1'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.name,callback:function(e){t.$set(t.baseMessageData,"name",e)},expression:"baseMessageData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageData.nextname,callback:function(e){t.$set(t.baseMessageData,"nextname",e)},expression:"baseMessageData.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.wait_time,callback:function(e){t.$set(t.baseMessageData,"wait_time",e)},expression:"baseMessageData.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageData.max_repeat,callback:function(e){t.$set(t.baseMessageData,"max_repeat",e)},expression:"baseMessageData.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageData.record,callback:function(e){t.$set(t.baseMessageData,"record",e)},expression:"baseMessageData.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",[a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageData.record},model:{value:t.baseMessageData.answer,callback:function(e){t.$set(t.baseMessageData,"answer",e)},expression:"baseMessageData.answer"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.AddMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Add=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain tag-dial1"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.baseMessage.Edit},on:{"update:visible":function(e){t.$set(t.baseMessage,"Edit",e)}}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName2,callback:function(e){t.activeName2=e},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticClass:"width",model:{value:t.baseMessageDataEdit.show_name,callback:function(e){t.$set(t.baseMessageDataEdit,"show_name",e)},expression:"baseMessageDataEdit.show_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可打断:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.is_interrupt,callback:function(e){t.$set(t.baseMessageDataEdit,"is_interrupt",e)},expression:"baseMessageDataEdit.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"3"!=t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type != '3'"}],attrs:{label:"类型:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},on:{change:t.changeType},model:{value:t.baseMessageDataEdit.type,callback:function(e){t.$set(t.baseMessageDataEdit,"type",e)},expression:"baseMessageDataEdit.type"}},[a("el-option",{attrs:{label:"普通",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"主线",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==t.baseMessageDataEdit.type||"3"==t.baseMessageDataEdit.type,expression:"baseMessageDataEdit.type=='1' || baseMessageDataEdit.type=='3'"}],attrs:{label:"主线序列:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.name,callback:function(e){t.$set(t.baseMessageDataEdit,"name",e)},expression:"baseMessageDataEdit.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"请选择"},model:{value:t.baseMessageDataEdit.nextname,callback:function(e){t.$set(t.baseMessageDataEdit,"nextname",e)},expression:"baseMessageDataEdit.nextname"}},[a("el-option",{attrs:{label:"请选择",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"终止",value:"#"}}),t._v(" "),a("el-option",{attrs:{label:"转人工",value:"#####"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"等待时长(秒):"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.wait_time,callback:function(e){t.$set(t.baseMessageDataEdit,"wait_time",e)},expression:"baseMessageDataEdit.wait_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可重复次数:"}},[a("el-input",{staticClass:"width",attrs:{disabled:""},model:{value:t.baseMessageDataEdit.max_repeat,callback:function(e){t.$set(t.baseMessageDataEdit,"max_repeat",e)},expression:"baseMessageDataEdit.max_repeat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"话术内容:"}},[a("el-select",{staticClass:"width",attrs:{placeholder:"选择语音"},on:{change:t.changeSoundWord},model:{value:t.baseMessageDataEdit.record,callback:function(e){t.$set(t.baseMessageDataEdit,"record",e)},expression:"baseMessageDataEdit.record"}},t._l(t.baseMessage.Sound,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,title:e.word,label:e.spath}},[t._v(t._s(e.spath)+"-"+t._s(e.word))])}))],1),t._v(" "),a("el-form-item",[""!=t.baseMessageDataEdit.answer?a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.answer,callback:function(e){t.$set(t.baseMessageDataEdit,"answer",e)},expression:"baseMessageDataEdit.answer"}}):a("el-input",{staticClass:"width",attrs:{type:"textarea",rows:5,disabled:0!=t.baseMessageDataEdit.record},model:{value:t.baseMessageDataEdit.record_description,callback:function(e){t.$set(t.baseMessageDataEdit,"record_description",e)},expression:"baseMessageDataEdit.record_description"}})],1)],1),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.EditMessageSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{on:{click:function(e){t.baseMessage.Edit=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"触发词",name:"second"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"关键字搜索:"}},[a("el-input",{attrs:{placeholder:"关键字"},model:{value:t.touch.keyword,callback:function(e){t.$set(t.touch,"keyword",e)},expression:"touch.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.touchSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticStyle:{width:"170px",float:"left"}},[a("el-table",{ref:"multipleTable",staticStyle:{},attrs:{data:t.touch.Data,border:"",height:t.touch.Data.length>=1?300:"100"},on:{"row-dblclick":t.dblclickTouchEdit}},[a("el-table-column",{attrs:{prop:"type",label:"通用关键词"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000",cursor:"pointer"}},[t._v(t._s(e.row.show))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF",cursor:"pointer"}},[t._v(t._s(e.row.show))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.touchLeftPlus(e.$index,e.row)}}},[t._v("+")])]}}])})],1),t._v(" "),a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.touchAdd}},[t._v("添加关键词")])],1),t._v(" "),a("div",{staticStyle:{width:"1260px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.touch.DataRight,border:"",height:t.touch.total>0?300:"200"}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"left",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"来源"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"private"==e.row.type,expression:"scope.row.type=='private'"}],staticStyle:{color:"#FF0000"}},[t._v(t._s(e.row.name))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"system"==e.row.type,expression:"scope.row.type=='system'"}],staticStyle:{color:"#0099FF"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"关键词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.row.is_interrupt,expression:"scope.row.is_interrupt == 0"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.is_interrupt,expression:"scope.row.is_interrupt == 1"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdit(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:"",disabled:"system"==e.row.type},on:{click:function(a){t.touchEdl(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.touch.total>0,expression:"touch.total>0"}],staticClass:"pagination",staticStyle:{"padding-top":"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[15,20,25,30],"page-size":t.touch.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.touch.total},on:{"size-change":t.handleSizeChangeTouch,"current-change":t.handleCurrentChangeTouch}})],1)])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.touch.touchShow=!1}}},[t._v("关闭")])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"语境设置",name:"third"}},[a("div",{staticStyle:{width:"230px",float:"left"}},[a("el-form",{staticStyle:{width:"300px",float:"left"},attrs:{"label-width":"10px"}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.content_type,callback:function(e){t.$set(t.contextData,"content_type",e)},expression:"contextData.content_type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.contextData.nextId,callback:function(e){t.$set(t.contextData,"nextId",e)},expression:"contextData.nextId"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(e,i){return a("el-option",{key:i,attrs:{label:e.answer,value:e.id}},[t._v(t._s(e.show))])})],2)],1),t._v(" "),a("el-form-item",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:".jump"!=t.contextData.content_type,expression:"contextData.content_type!='.jump'"}],attrs:{placeholder:"请选择触发词(可输入)"},on:{change:t.changeTouchInput},model:{value:t.contextData.condition,callback:function(e){t.$set(t.contextData,"condition",e)},expression:"contextData.condition"}},t._l(t.context.touchData,function(t,e){return a("el-option",{key:e,attrs:{label:t.condition,value:t.name}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.context.custom&&".jump"!=t.contextData.content_type,expression:"context.custom&&contextData.content_type!='.jump'"}]},[a("el-input",{staticStyle:{width:"217px"},model:{value:t.contextData.newCondition,callback:function(e){t.$set(t.contextData,"newCondition",e)},expression:"contextData.newCondition"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.contextData.is_interrupt,callback:function(e){t.$set(t.contextData,"is_interrupt",e)},expression:"contextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{padding:"15px 52px","margin-top":"10px"},attrs:{type:"success"},on:{click:t.contextSave}},[t._v("保存")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{width:"1200px",float:"left","margin-left":"10px"}},[a("el-table",{ref:"multipleTable",attrs:{data:t.context.Data,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.index,fixed:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nextName",label:"下个话术"}}),t._v(" "),a("el-table-column",{attrs:{prop:"condition",label:"触发词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_interrupt",label:"是否可打断",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"0"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '0'"}]},[t._v("不可打断")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.is_interrupt,expression:"scope.row.is_interrupt == '1'"}]},[t._v("可打断")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"wait_time",label:"等待时长(秒)",disabled:""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editContext(e.$index,e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(a){t.delContext(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.context.total>0,expression:"context.total>0"}],staticClass:"pagination",staticStyle:{padding:"0"}},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-size":t.context.page_size,layout:"total,  prev, pager, next, jumper",total:t.context.total},on:{"current-change":t.handleCurrentChangeContext}})],1)])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加关键词",visible:t.touch.AddTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"AddTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px",model:t.touchAddData}},[a("el-form-item",{attrs:{label:"关键词标签:"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.touchAddData.name,callback:function(e){t.$set(t.touchAddData,"name",e)},expression:"touchAddData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",placeholder:"请输入关键词(多个关键词可用逗号隔开)"},model:{value:t.touchAddData.condition,callback:function(e){t.$set(t.touchAddData,"condition",e)},expression:"touchAddData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchAddData.is_interrupt,callback:function(e){t.$set(t.touchAddData,"is_interrupt",e)},expression:"touchAddData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchAddSave}},[t._v("添加")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.AddTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouchLeft,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouchLeft",e)}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"名称:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.name,callback:function(e){t.$set(t.touchEditDataLeft,"name",e)},expression:"touchEditDataLeft.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词:"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditDataLeft.condition,callback:function(e){t.$set(t.touchEditDataLeft,"condition",e)},expression:"touchEditDataLeft.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSaveLeft}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouchLeft=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.touch.EditTouch,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.touch,"EditTouch",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:4},model:{value:t.touchEditData.condition,callback:function(e){t.$set(t.touchEditData,"condition",e)},expression:"touchEditData.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否可被打断:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.touchEditData.is_interrupt,callback:function(e){t.$set(t.touchEditData,"is_interrupt",e)},expression:"touchEditData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.touchEditSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.touch.EditTouch=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header tag-dial"},[a("el-dialog",{attrs:{title:"编辑",visible:t.context.EditContext},on:{"update:visible":function(e){t.$set(t.context,"EditContext",e)}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"触发类型:"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.editContextData.type,callback:function(e){t.$set(t.editContextData,"type",e)},expression:"editContextData.type"}},[a("el-option",{attrs:{label:"关键字触发",value:".content"}}),t._v(" "),a("el-option",{attrs:{label:"直接跳转",value:".jump"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"下个话术:"}},[a("el-select",{attrs:{placeholder:"请选择下个话术"},model:{value:t.editContextData.answer,callback:function(e){t.$set(t.editContextData,"answer",e)},expression:"editContextData.answer"}},[a("el-option",{attrs:{label:"选择下个话术",value:""}}),t._v(" "),t._l(t.context.nextData,function(t,e){return a("el-option",{key:e,attrs:{label:t.show_name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"打断话术:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editContextData.is_interrupt,callback:function(e){t.$set(t.editContextData,"is_interrupt",e)},expression:"editContextData.is_interrupt"}},[a("el-option",{attrs:{label:"可被打断",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"不可被打断",value:"0"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字设置:"}},[a("el-input",{attrs:{type:"textarea",disabled:0==t.editContextData.isEdit},model:{value:t.editContextData.condition,callback:function(e){t.$set(t.editContextData,"condition",e)},expression:"editContextData.condition"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editContextSave}},[t._v("确认修改")]),t._v(" "),a("el-button",{on:{click:function(e){t.context.EditContext=!1}}},[t._v("关闭")])],1)],1)],1)])},staticRenderFns:[]};var _t=a("VU/8")(mt,pt,!1,function(t){a("bRRg")},null,null).exports,ft={data:function(){return{currentPage:1,value:"",page:1,page_size:10,total:0,initData:{voiceLine:[],tableData3:[]},form:{asr_number:"",keywords:"",nextname:".null"},addForm:{},Knowledge:{NodeAdd:!1,width:"width: 478px;",widths:"width: 300px;",InputWidth:"width:624px;"},addNode:{list:[]},loading:!0,ButtonList:[],audioData:[],showButton:""}},beforeMount:function(){},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},voiceLines:function(){var t={url:"",success:function(t){init_voice.voiceLine=t.info}};Yt.axiosRequest(t)},init:function(){var t=this,e={url:"",data:{page_size:this.page_size,page:this.page,asr_number:this.form.asr_number,keywords:this.form.keywords},success:function(e){init_data.total_count=parseInt(e.info.total),init_data.tableData3=e.info.info,t.loading=!1}};Yt.axiosRequest(e)},Search:function(){this.page_size=10,this.page=1,this.init()},handlePageChange:function(t){},handleSizeChange:function(t){},addNodeInit:function(t,e){var a=this;this.form.noAnsId=e.id,this.form.condition=e.msg,this.Knowledge.NodeAdd=!0;var i={url:"/api/api_backend.php?r=asrcall-record-noanswer/answer-sound",data:{id:e.id},success:function(t){a.addNode.list=t.info}};Yt.axiosRequest(i)},changeAnswer:function(t){console.log(t)},addNodeSave:function(){var t=this,e={url:"/api/api_backend.php?r=asrcall-record-noanswer/add-node",data:this.form,success:function(e){console.log(e),1==e.statusCode?(t.$alert("添加成功"),t.Knowledge.NodeAdd=!1,t.form.condition="",t.form.answerid="",t.init("/api/api_backend.php?r=asrcall-record-noanswer/no-answer-list",t.noAnswerData)):(t.$alert(e.message),t.Knowledge.NodeAdd=!0)}};Yt.axiosRequest(e)}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"CenterMain  MainHp"},[a("div",{staticClass:"seachForm"},[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"方案名称:"}},[a("el-select",{attrs:{placeholder:""},model:{value:t.form.asr_number,callback:function(e){t.$set(t.form,"asr_number",e)},expression:"form.asr_number"}},t._l(t.noAnswerData.voiceLine,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.asr_number}})}))],1)],1)]),t._v(" "),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"关键词："}},[a("el-input",{model:{value:t.form.keywords,callback:function(e){t.$set(t.form,"keywords",e)},expression:"form.keywords"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-button",{attrs:{type:"primary"},on:{click:t.Search}},[t._v("查询")])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"TableList TextLeft"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.noAnswerData.tableData3,border:"",stripe:""}},[a("el-table-column",{attrs:{label:"序号",width:"50",index:t.index,type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"asr_number",label:"语音识别线路",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"caller_num",label:"客户电话",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"msg",label:"问题内容"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"记录时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],attrs:{type:"danger"},on:{click:function(a){t.addNodeInit(e.$index,e.row)}}},[t._v("添加节点")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.row.type,expression:"scope.row.type == 0"}],staticStyle:{"margin-left":"0"},attrs:{type:"primary"},on:{click:function(a){t.addNodeInit(e.$index,e.row)}}},[t._v("添加节点")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.noAnswerData.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.noAnswerData.total_count},on:{"size-change":t.handleSizeChange,"current-change":t.handlePageChange}})],1)])]),t._v(" "),a("div",{staticClass:"dial-header  tag-dials",staticStyle:{"max-width":"680px"}},[a("el-dialog",{attrs:{title:"节点添加",visible:t.Knowledge.NodeAdd},on:{"update:visible":function(e){t.$set(t.Knowledge,"NodeAdd",e)}}},[a("el-form",{attrs:{model:t.addForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"节点问题："}},[a("el-input",{style:t.Knowledge.width,attrs:{value:"问题",lable:"",disabled:!0}})],1),t._v(" "),a("el-form-item",{attrs:{label:"属性/关键词："}},[a("el-input",{style:t.Knowledge.width,model:{value:t.addForm.condition,callback:function(e){t.$set(t.addForm,"condition",e)},expression:"addForm.condition"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应答语音："}},[a("el-select",{style:t.Knowledge.width,attrs:{placeholder:"请选择应答语音"},on:{change:t.changeAnswer},model:{value:t.addForm.answerid,callback:function(e){t.$set(t.addForm,"answerid",e)},expression:"addForm.answerid"}},t._l(t.addNode.list,function(e,i){return a("el-option",{key:i,attrs:{value:e.id,label:e.spath}},[t._v(" "+t._s(e.spath)+" "+t._s(e.word)+" ")])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"下个节点："}},[a("el-select",{style:t.Knowledge.width,model:{value:t.addForm.nextname,callback:function(e){t.$set(t.addForm,"nextname",e)},expression:"addForm.nextname"}},[a("el-option",{attrs:{label:"转人工",value:"#####"}}),t._v(" "),a("el-option",{attrs:{label:"无操作",value:".null"}}),t._v(" "),a("el-option",{attrs:{label:"挂机",value:"#"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addNodeSave}},[t._v("立即添加")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Knowledge.NodeAdd=!1}}},[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var vt=a("VU/8")(ft,ht,!1,function(t){a("PYar")},"data-v-24b122c8",null).exports,bt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var gt=a("VU/8")({data:function(){return{}},methods:{}},bt,!1,function(t){a("oZ0Y")},"data-v-e60f65b6",null).exports,xt={components:{"edit-dialog":O,"page-change":N},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"区域添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""}}},created:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/area-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.formTitle,t.total=Number(e.total))}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="区域添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},editFn:function(t){this.bannerTitle="区域编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/area-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加区域")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",prop:"id",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"区域名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var wt=a("VU/8")(xt,yt,!1,function(t){a("jTKH")},null,null).exports,kt={name:"addClient",props:["id","title","formTitle"],data:function(){return{formLabelWidth:"120px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"委托方添加"==this.title?a="/api/api_backend.php?r=system-setting/commissioning-party-add":"委托方编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/commissioning-party-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(k.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(i)}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"委托方名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"编号前缀","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.prefix,callback:function(e){t.$set(t.formTitle,"prefix",e)},expression:"formTitle.prefix"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},Dt={components:{"edit-dialog":a("VU/8")(kt,Ct,!1,null,null,null).exports,"page-change":N},data:function(){return{id:"",page:1,total:0,page_size:10,bannerTitle:"委托方添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:"",prefix:""}}},created:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/commissioning-party-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="委托方添加",this.addNow=t,this.id=""},pageSizeChangeFn:function(t){this.pageSize=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:"",prefix:""}},editFn:function(t){this.bannerTitle="委托方编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name,prefix:t.prefix}},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/commissioning-party-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加委托方")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",prop:"id",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"委托方名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"prefix",label:"前缀"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},clearId:function(e){t.changeId(e)},saveFn:function(e){t.init(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var Tt=a("VU/8")(Dt,Et,!1,function(t){a("T/4Z")},null,null).exports,St={name:"addArea",props:["id","title","formTitle"],data:function(){return{formLabelWidth:"120px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"案件类型添加"==this.title?a="/api/api_backend.php?r=system-setting/case-type-add":"案件类型编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/case-type-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(k.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(i)}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"案件类型","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},Mt={components:{"edit-dialog":a("VU/8")(St,$t,!1,null,null,null).exports,"page-change":N},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"案件类型添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""}}},created:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/case-type-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="案件类型添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""}},editFn:function(t){this.bannerTitle="案件类型编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/case-type-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加案件类型")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",prop:"id",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"区域名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var It=a("VU/8")(Mt,Ft,!1,function(t){a("crIS")},null,null).exports,At=a("VU/8")(null,null,!1,null,null,null).exports,Ot={name:"addArea",props:["id","title","formTitle","fieldsList"],data:function(){return{formLabelWidth:"120px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this;this.formTitle.fields=this.fieldsList.map(function(t){if(1==t.choose)return t.id}).join(",");var e=this.formTitle,a=void 0;"模板添加"==this.title?a="/api/api_backend.php?r=system-setting/template-add":"模板编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/template-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(k.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(i)}}},zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"模板名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择字段","label-width":t.formLabelWidth}},t._l(this.fieldsList,function(e){return a("el-checkbox",{key:e.id,class:"1"==e.is_required?"red":"",model:{value:e.choose,callback:function(a){t.$set(e,"choose",a)},expression:"item.choose"}},[t._v(t._s(e.field_name))])}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]};var Nt={components:{"edit-dialog":a("VU/8")(Ot,zt,!1,function(t){a("5Sas")},null,null).exports,"page-change":N,"div-table":B},data:function(){return{id:"",templateUse:!0,page:1,page_size:10,total:0,bannerTitle:"模板添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:""},fieldsList:[]}},created:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/template-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(v.a)(e)},askFields:function(t,e){var a=this,i={url:"/api/api_backend.php?r=system-setting/template-all-fields-list",success:function(i){1==i.statusCode&&(1==t?a.fieldsList=i.info:2==t&&(a.fieldsList=i.info.map(function(t){return-1!=(","+e+",").indexOf(","+t.id+",")&&(t.choose=!0),t})))}};Object(v.a)(i)},addFn:function(t){this.bannerTitle="模板添加",this.addNow=t,this.id="",this.formTitle={name:""},this.askFields(1)},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:""},this.fieldsList=[]},editFn:function(t){this.bannerTitle="模板编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name},this.askFields(2,t.fields)},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/template-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})},downloadFn:function(t){window.open("/api/api_backend.php?r=system-setting/template-download&id="+t.id)}}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加模板")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("div-table",{attrs:{tableData:t.tableData},on:{editFn:function(e){t.editFn(e)},deleteFn:function(e){t.deleteFn(e)},downloadFn:function(e){t.downloadFn(e)}}}),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle,fieldsList:t.fieldsList},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var Lt=a("VU/8")(Nt,jt,!1,function(t){a("7G2I")},null,null).exports,qt={name:"addArea",props:["id","title","formTitle"],data:function(){return{formLabelWidth:"120px"}},methods:{cancelFn:function(){this.$emit("addNowChange",!1),this.$emit("clearFormTitle")},protectFn:function(){var t=this,e=this.formTitle,a=void 0;"等级添加"==this.title?a="/api/api_backend.php?r=system-setting/case-level-add":"等级编辑"==this.title&&(a="/api/api_backend.php?r=system-setting/case-level-edit",e.id=this.id);var i={url:a,data:e,success:function(e){1==e.statusCode?(t.cancelFn(),t.$emit("saveFn"),t.$emit("clearId"),t.$emit("clearFormTitle"),Object(k.Message)({message:e.message,type:"success",duration:3e3})):0==e.statusCode&&Object(k.Message)({message:e.message,type:"erro",duration:3e3})}};Object(v.a)(i)}}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{attrs:{model:t.formTitle}},[a("el-form-item",{attrs:{label:"等级名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formTitle.name,callback:function(e){t.$set(t.formTitle,"name",e)},expression:"formTitle.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"方案设置","label-width":t.formLabelWidth}}),t._v(" "),a("el-form-item",{attrs:{label:"本人电话","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.self_phone_status,callback:function(e){t.$set(t.formTitle,"self_phone_status",e)},expression:"formTitle.self_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.self_phone_status,callback:function(e){t.$set(t.formTitle,"self_phone_status",e)},expression:"formTitle.self_phone_status"}},[t._v("未接通")])],1),t._v(" "),a("el-form-item",{attrs:{label:"第一联系人","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.first_contact_phone_status,callback:function(e){t.$set(t.formTitle,"first_contact_phone_status",e)},expression:"formTitle.first_contact_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.first_contact_phone_status,callback:function(e){t.$set(t.formTitle,"first_contact_phone_status",e)},expression:"formTitle.first_contact_phone_status"}},[t._v("未接通")])],1),t._v(" "),a("el-form-item",{attrs:{label:"第二联系人","label-width":t.formLabelWidth}},[a("el-radio",{attrs:{label:"1"},model:{value:t.formTitle.second_contact_phone_status,callback:function(e){t.$set(t.formTitle,"second_contact_phone_status",e)},expression:"formTitle.second_contact_phone_status"}},[t._v("接通")]),t._v(" "),a("el-radio",{attrs:{label:"-1"},model:{value:t.formTitle.second_contact_phone_status,callback:function(e){t.$set(t.formTitle,"second_contact_phone_status",e)},expression:"formTitle.second_contact_phone_status"}},[t._v("未接通")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.protectFn}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancelFn}},[t._v("取消")])],1)])},staticRenderFns:[]},Pt={components:{"edit-dialog":a("VU/8")(qt,Qt,!1,null,null,null).exports,"page-change":N},data:function(){return{id:"",page:1,page_size:10,total:0,bannerTitle:"等级添加",addNow:!1,tableData:[{miniImage:"上海市普陀区"},{miniImage:"闵行区"}],formTitle:{name:"",self_phone_status:"",first_contact_phone_status:"",second_contact_phone_status:""}}},created:function(){this.init()},methods:{init:function(){var t=this,e={url:"/api/api_backend.php?r=system-setting/case-level-list",data:{page:this.page,page_size:this.page_size},success:function(e){1==e.statusCode&&(t.tableData=e.info,t.total=Number(e.total))}};Object(v.a)(e)},addFn:function(t){this.bannerTitle="等级添加",this.addNow=t,this.id=""},changeId:function(){this.id=""},clearFormTitle:function(){this.formTitle={name:"",self_phone_status:"",first_contact_phone_status:"",second_contact_phone_status:""}},editFn:function(t){this.bannerTitle="等级编辑",this.id=t.id,this.addNow=!0,this.formTitle={name:t.name,self_phone_status:t.self_phone_status,first_contact_phone_status:t.first_contact_phone_status,second_contact_phone_status:t.second_contact_phone_status}},pageSizeChangeFn:function(t){this.page_size=t,this.init()},currentPageChangeFn:function(t){this.page=t,this.init()},deleteFn:function(t){var e=this;this.$confirm("确定删除这一条？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=system-setting/case-level-del",data:{id:t.id},success:function(t){1==t.statusCode?(e.init(),Object(k.Message)({message:t.message,type:"success",duration:3e3})):0==t.statusCode&&Object(k.Message)({message:t.message,type:"erro",duration:3e3})}};Object(v.a)(a)}).catch(function(){Object(k.Message)({message:"取消删除",type:"erro",duration:3e3})})}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover"},[a("div",[a("el-button",{on:{click:function(e){t.addFn(!0)}}},[t._v("添加等级")])],1),t._v(" "),a("div",{staticClass:"tableCover"},[a("el-table",{staticStyle:{width:"98%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",prop:"id",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"等级名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"方案"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){t.editFn(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(a){t.deleteFn(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("page-change",{attrs:{total:t.total,page:t.page,page_size:t.page_size},on:{pageSizeChange:function(e){t.pageSizeChangeFn(e)},currentPageChange:function(e){t.currentPageChangeFn(e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.bannerTitle,visible:t.addNow},on:{"update:visible":function(e){t.addNow=e}}},[a("edit-dialog",{attrs:{id:t.id,title:t.bannerTitle,formTitle:t.formTitle},on:{addNowChange:function(e){t.addFn(e)},saveFn:function(e){t.init(e)},clearId:function(e){t.changeId(e)},clearFormTitle:function(e){t.clearFormTitle(e)}}})],1)],1)},staticRenderFns:[]};var Ut=a("VU/8")(Pt,Rt,!1,function(t){a("5qmq")},null,null).exports,Bt=a("VU/8")(null,null,!1,null,null,null).exports,Vt={data:function(){return{fileList:[],node_operate:!1,showInput:!1,showId:"",showName:"",defaultProps2:{children:"child",value:"parent_id",label:"depart_name"},form:{parent_id:"0",depart_name:"",parent_str:""},Dates:[],addMemberDio:!1,formMember:{depart_id:"",login_name:"",true_name:"",password:"",phone:"",depart_str:""},infos:[],rest_num:"",curr:1,total:0,page:1,page_size:10,addMemberDioEdit:!1,DatesEdit:[],formMemberEdit:{depart_id:"",login_name:"",true_name:"",password:"",phone:"",depart_str:""},editPasswordDio:!1,editPasswordForm:{password:"",id:""}}},beforeMount:function(){this.initTree(),this.init()},methods:{index:function(t){return(this.page-1)*this.page_size+t+1},initTree:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/sort-list",success:function(e){t.Dates=e.info}};Object(v.a)(e)},addBranch:function(){this.node_operate=!0},addBranchSave:function(){var t=this,e=this.form;0==this.form.parent_id?e.parent_str="0":e.parent_str="0,"+this.form.parent_id;var a={url:"/api/api_backend.php?r=collect-depart/depart-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.node_operate=!1,t.initTree(),t.form.parent_id="",t.form.depart_name="",t.form.parent_str=""):t.node_operate=!0,Object(v.c)(e)}};Object(v.a)(a)},edit:function(t,e){var a=this,i={url:"/api/api_backend.php?r=collect-depart/depart-show",data:{id:e.id},success:function(t){a.showId=t.info.id,a.showName=t.info.depart_name}};Object(v.a)(i)},editSave:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/depart-edit",data:{id:this.showId,depart_name:this.showName},success:function(e){t.$alert(e.message),t.showId="",t.showName="",t.initTree()}};Object(v.a)(e)},addMember:function(){this.addMemberDio=!0},addMemberSave:function(){var t=this,e=this.formMember;e.depart_str="0,"+e.depart_id;var a={url:"/api/api_backend.php?r=collect-depart/staff-add",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.formMember.depart_id="",t.formMember.login_name="",t.formMember.true_name="",t.formMember.password="",t.formMember.phone="",t.formMember.depart_str="",t.addMemberDio=!1,t.init()):t.addMemberDio=!0}};Object(v.a)(a)},beforeUploadFile:function(t){this.file=t.name},successFile:function(t,e,a){this.fileList=[],1==t.statusCode?alert(t.message):(this.$alert(t.message),this.fileList=[])},handleExceedFile:function(t,e){this.$message.warning("当前限制选择 1 个文件")},remove:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=collect-depart/depart-del",data:{id:t},success:function(t){e.$alert(t.message),e.initTree()}};Object(v.a)(a)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},init:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/staff-list",data:{page:this.page,page_size:this.page_size},success:function(e){t.infos=e.info.info,t.total=parseInt(e.info.total),t.rest_num=e.info.rest_num}};Object(v.a)(e)},addMemberEdit:function(t,e){var a=this;this.addMemberDioEdit=!0;var i={url:"/api/api_backend.php?r=collect-depart/staff-show",data:{id:e.id},success:function(t){a.formMemberEdit=t.info.info,a.DatesEdit=t.info.tree}};Object(v.a)(i)},addMemberSaveEdit:function(){var t=this,e=this.formMemberEdit;e.depart_str="0,"+e.depart_id;var a={url:"/api/api_backend.php?r=collect-depart/staff-edit",data:e,success:function(e){t.$alert(e.message),1==e.statusCode?(t.addMemberDioEdit=!1,t.init()):t.addMemberDioEdit=!0}};Object(v.a)(a)},editPassword:function(t,e){this.editPasswordDio=!0,this.editPasswordForm.id=e.id},editPasswordSave:function(){var t=this,e={url:"/api/api_backend.php?r=collect-depart/staff-change-pwd",data:this.editPasswordForm,success:function(e){t.$alert(e.message),1==e.statusCode?(t.editPasswordDio=!1,t.editPasswordForm.id="",t.editPasswordForm.password="",t.init()):t.editPasswordDio=!0}};Object(v.a)(e)},del:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={url:"/api/api_backend.php?r=collect-depart/staff-del",data:{id:t},success:function(t){e.$alert(t.message),e.init()}};Object(v.a)(a)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},downloadWord:function(){window.open("/upload/staffTemplate.xlsx")},handleCurrentChange:function(t){this.page=t,this.init()},handleSizeChange:function(t){this.page_size=t,this.init()}}},Wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{staticStyle:{diaplay:"inline-block",float:"left"},attrs:{type:"success"},on:{click:t.addBranch}},[a("i",{staticClass:"fa fa-plus"}),t._v("添加部门")]),t._v(" "),a("el-button",{staticStyle:{diaplay:"inline-block",float:"left"},attrs:{type:"success"},on:{click:t.addMember}},[t._v("添加成员")]),t._v(" "),a("el-upload",{staticClass:"upload-demo",staticStyle:{diaplay:"inline-block",float:"left"},attrs:{action:"/api/api_backend.php?r=collect-depart/staff-batch-add","on-success":t.successFile,"before-upload":t.beforeUploadFile,multiple:"",limit:1,"file-list":t.fileList}},[a("el-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"success"}},[t._v("批量添加")])],1),t._v(" "),a("el-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",plain:""}},[a("a",{staticStyle:{color:"#409EFF"},attrs:{href:"/upload/staffTemplate.xlsx",download:"模板.xlsx"}},[t._v("\n        下载模板\n        ")])])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"60px"}},[a("div",{staticStyle:{width:"30%",float:"left"}},[a("el-tree",{attrs:{data:t.Dates,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,props:t.defaultProps2},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("span",{staticClass:"custom-tree-node"},[a("el-input",{directives:[{name:"show",rawName:"v-show",value:n.id==t.showId,expression:"data.id == showId"}],staticStyle:{width:"80%",height:"20px"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.editSave(e):null}},model:{value:t.showName,callback:function(e){t.showName=e},expression:"showName"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.id!=t.showId,expression:"data.id != showId"}]},[t._v(t._s(i.label))]),t._v(" "),a("span",[a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(e){t.edit(i,n)}}},[a("i",{staticClass:"fa fa-pencil"}),t._v("编辑\n                    ")]),t._v(" "),a("el-button",{staticStyle:{padding:"0"},attrs:{type:"text",size:"mini"},on:{click:function(e){t.remove(n.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除\n                    ")])],1)],1)}}])})],1),t._v(" "),a("div",{staticStyle:{float:"left",width:"70%"}},[a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("剩余可添加催收员人数 "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.rest_num))]),t._v("人")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.infos,border:"",height:t.total>0?500:100}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",fixed:"left",index:t.index}}),t._v(" "),a("el-table-column",{attrs:{prop:"true_name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"depart_name",label:"所在部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"login_name",label:"账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.addMemberEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.editPassword(e.$index,e.row)}}},[t._v("修改密码")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.curr,"page-sizes":[10,20,25,30],"page-size":t.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加部门",visible:t.node_operate},on:{"update:visible":function(e){t.node_operate=e}}},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},[a("el-option",{attrs:{label:"一级目录",value:"0"}}),t._v(" "),t._l(t.Dates,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})})],2)],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"部门名称:"}},[a("el-input",{model:{value:t.form.depart_name,callback:function(e){t.$set(t.form,"depart_name",e)},expression:"form.depart_name"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addBranchSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.node_operate=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"添加成员",visible:t.addMemberDio},on:{"update:visible":function(e){t.addMemberDio=e}}},[a("el-form",{ref:"formMember",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.formMember.depart_id,callback:function(e){t.$set(t.formMember,"depart_id",e)},expression:"formMember.depart_id"}},t._l(t.Dates,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})}))],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"真实姓名:"}},[a("el-input",{model:{value:t.formMember.true_name,callback:function(e){t.$set(t.formMember,"true_name",e)},expression:"formMember.true_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{model:{value:t.formMember.phone,callback:function(e){t.$set(t.formMember,"phone",e)},expression:"formMember.phone"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录账号:"}},[a("el-input",{model:{value:t.formMember.login_name,callback:function(e){t.$set(t.formMember,"login_name",e)},expression:"formMember.login_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录密码:"}},[a("el-input",{model:{value:t.formMember.password,callback:function(e){t.$set(t.formMember,"password",e)},expression:"formMember.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMemberSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addMemberDio=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"编辑",visible:t.addMemberDioEdit},on:{"update:visible":function(e){t.addMemberDioEdit=e}}},[a("el-form",{ref:"formMemberEdit",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"上级部门:"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.formMemberEdit.depart_id,callback:function(e){t.$set(t.formMemberEdit,"depart_id",e)},expression:"formMemberEdit.depart_id"}},t._l(t.DatesEdit,function(t,e){return a("el-option",{key:e,attrs:{label:t.depart_name,value:t.id}})}))],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"真实姓名:"}},[a("el-input",{model:{value:t.formMemberEdit.true_name,callback:function(e){t.$set(t.formMemberEdit,"true_name",e)},expression:"formMemberEdit.true_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"联系方式:"}},[a("el-input",{model:{value:t.formMemberEdit.phone,callback:function(e){t.$set(t.formMemberEdit,"phone",e)},expression:"formMemberEdit.phone"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录账号:"}},[a("el-input",{model:{value:t.formMemberEdit.login_name,callback:function(e){t.$set(t.formMemberEdit,"login_name",e)},expression:"formMemberEdit.login_name"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"登录密码:"}},[a("el-input",{model:{value:t.formMemberEdit.password,callback:function(e){t.$set(t.formMemberEdit,"password",e)},expression:"formMemberEdit.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMemberSaveEdit}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addMemberDioEdit=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("div",{staticClass:"dial-header DialogueMain2"},[a("el-dialog",{directives:[{name:"move",rawName:"v-move"}],attrs:{title:"修改密码",visible:t.editPasswordDio},on:{"update:visible":function(e){t.editPasswordDio=e}}},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"80px"}},[a("div",[a("el-form-item",{attrs:{label:"新密码:"}},[a("el-input",{model:{value:t.editPasswordForm.password,callback:function(e){t.$set(t.editPasswordForm,"password",e)},expression:"editPasswordForm.password"}})],1)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.editPasswordSave}},[t._v("确认保存")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editPasswordDio=!1}}},[t._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var Kt=a("VU/8")(Vt,Wt,!1,function(t){a("WVau")},null,null).exports,Ht={data:function(){return{note:{width:"100%",height:"100%",backgroundImage:"url("+a("Skak")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",overflow:"hidden"},activeName:"first",logining:!1,ruleForm2:{username:"",password:""},checked:!0,dialogVisible:!0}},methods:{handleReset2:function(){var t=this;this.logining=!0;var e={url:"/api/api_backend.php?r=login/login ",data:{username:this.ruleForm2.username,password:this.ruleForm2.password},success:function(e){1==e.statusCode?(Object(v.d)("user",2),t.$router.push({path:"/taskManagement"}),t.loading=!1):(t.$alert(e.message),t.logining=!1),Object(v.c)(e)}};Object(v.a)(e)},handleClick:function(){}}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticStyle:{overflow:"hidden",zoom:"1",width:"100%",height:"100%"}},[a("div",{staticClass:"note",style:t.note},[a("div",{staticClass:"loginForm"},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"管理员登录",name:"first"}},[a("el-form",{staticClass:"demo-ruleForm login-container",attrs:{model:t.ruleForm2,"label-position":"left","label-width":"0px"}},[a("p",{staticClass:"title"},[a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:"/static/image/login_top.png"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("言小催管理员")])]),t._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("div",{staticClass:"input"},[a("img",{attrs:{src:"/static/image/login_user.png"}}),t._v(" "),a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号",autofocus:"true"},model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",e)},expression:"ruleForm2.username"}})],1)]),t._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("div",{staticClass:"input"},[a("img",{attrs:{src:"/static/image/login_pass.png"}}),t._v(" "),a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleReset2(e):null}},model:{value:t.ruleForm2.password,callback:function(e){t.$set(t.ruleForm2,"password",e)},expression:"ruleForm2.password"}})],1)]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.handleReset2}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],staticClass:"el-icon-loading"}),t._v(" 立即登录")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"催收员登录",name:"second"}},[a("el-form",{staticClass:"demo-ruleForm login-container",attrs:{model:t.ruleForm2,"label-position":"left","label-width":"0px"}},[a("p",{staticClass:"title"},[a("img",{staticStyle:{width:"25px",height:"25px"},attrs:{src:"/static/image/login_top.png"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px"}},[t._v("言小催催收员")])]),t._v(" "),a("el-form-item",{attrs:{prop:"account"}},[a("div",{staticClass:"input"},[a("img",{attrs:{src:"/static/image/login_user.png"}}),t._v(" "),a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"}})],1)]),t._v(" "),a("el-form-item",{attrs:{prop:"checkPass"}},[a("div",{staticClass:"input"},[a("img",{attrs:{src:"/static/image/login_pass.png"}}),t._v(" "),a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleReset2(e):null}}})],1)]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],staticClass:"el-icon-loading"}),t._v(" 立即登录")])],1)],1)],1)],1)],1)])])},staticRenderFns:[]};var Xt=a("VU/8")(Ht,Jt,!1,function(t){a("NPyx")},"data-v-e94b71d2",null).exports,Gt={render:function(){var t=this.$createElement;return(this._self._c||t)("p",{staticClass:"page-container"},[this._v("404 page not found")])},staticRenderFns:[]};a("VU/8")(null,Gt,!1,function(t){a("VkcE")},"data-v-4c48d771",null).exports;var Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-breadcrumb",{staticStyle:{height:"30px","font-size":"14px"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("首页")])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("客户数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("客户总量:")]),t._v(" "),a("span",[t._v("3000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("成交客户:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("呼叫中心:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("网络电话:")]),t._v(" "),a("span",[t._v("1000")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("智能语音:")]),t._v(" "),a("span",[t._v("1000")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("业务员数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("上海:")]),t._v(" "),a("span",[t._v("20")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("合肥:")]),t._v(" "),a("span",[t._v("20")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("北京:")]),t._v(" "),a("span",[t._v("10")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("广州:")]),t._v(" "),a("span",[t._v("10")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("设备数量\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("智能语音平台:")]),t._v(" "),a("span",[t._v("40")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("呼叫中心:")]),t._v(" "),a("span",[t._v("200")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("语音识别平台:")]),t._v(" "),a("span",[t._v("60")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("金融催收:")]),t._v(" "),a("span",[t._v("100")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("本周新增客户\n            "),a("span",{staticClass:"badge fr"},[t._v("喵点")])]),t._v(" "),a("div",{staticClass:"card-body card-list"},[a("p",[a("span",{staticClass:"card-list-title"},[t._v("成交:")]),t._v(" "),a("span",[t._v("0")])]),t._v(" "),a("p",[a("span",{staticClass:"card-list-title"},[t._v("意向:")]),t._v(" "),a("span",[t._v("0")])])])])])],1),t._v(" "),a("el-row",{staticClass:"row-two"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("a",{attrs:{href:"/#/information"}},[a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("客户录入")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("客户签约")])])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-rmb icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("我的收款")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("查看收支账单")])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("我的客户")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("浏览客户")])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"fl two-left"},[a("i",{staticClass:"fa fa-address-card-o icon"})]),t._v(" "),a("div",{staticClass:"fl two-right"},[a("p",{staticClass:"two-title"},[t._v("账号开通")]),t._v(" "),a("p",{staticClass:"two-content"},[t._v("提交账号开通申请")])])])])],1),t._v(" "),a("el-row",{staticClass:"row-three"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",{staticClass:"title"},[t._v("审核统计\n      ")]),t._v(" "),a("div",{staticClass:"content"},[t._v("\n\t\t\t\t\t111\n\t\t\t")])])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("p",{staticClass:"title"},[t._v("消息中心")]),t._v(" "),a("div",{staticClass:"content"},[t._v("\n\t\t\t\t\t222\n\t\t\t")])])])],1)],1)},staticRenderFns:[]};a("VU/8")({data:function(){return{}},methods:{},mounted:function(){}},Zt,!1,function(t){a("EI7o")},"data-v-76a95f22",null).exports;var te=a("/ocq"),ee=this;i.default.use(te.a);var ae=[{path:"/login",name:"login",component:Xt,meta:{keepAlive:!1}},{path:"/taskManagement",name:"任务管理",component:F,meta:{keepAlive:!0}},{path:"/caseManagement",name:"案件管理",component:q,meta:{keepAlive:!0}},{path:"/dataStatistics",name:"数据统计",component:nt,meta:{keepAlive:!0}},{path:"/dataManagement",name:"资料管理",component:Z,meta:{keepAlive:!0}},{path:"/smsManagement",name:"短信方案",component:lt,meta:{keepAlive:!0}},{path:"/smsRecord",name:"发送记录",component:rt,meta:{keepAlive:!0}},{path:"/speechScheme",name:"话术管理",component:ut,meta:{keepAlive:!0}},{path:"/Learning",component:vt,name:"自主学习",meta:{keepAlive:!0}},{path:"/asrSoundScheme/:id",component:_t,name:"",meta:{keepAlive:!0}},{path:"/departmentManagement",name:"部门管理",component:Kt,meta:{keepAlive:!0}},{path:"/collectorManagement",name:"催收员管理",component:Bt,meta:{keepAlive:!0}},{path:"/privilegeManagement",name:"权限管理",component:gt,meta:{keepAlive:!0}},{path:"/regionalConfiguration",name:"催收区域配置",component:wt,meta:{keepAlive:!0}},{path:"/clientConfiguration",name:"委托方配置",component:Tt,meta:{keepAlive:!0}},{path:"/caseConfiguration",name:"案件类型配置",component:It,meta:{keepAlive:!0}},{path:"/accountManagement",name:"账号管理",component:At,meta:{keepAlive:!0}},{path:"/templateManagement",name:"模板管理",component:Lt,meta:{keepAlive:!0}},{path:"/levelSetting",name:"案件等级设置",component:Ut,meta:{keepAlive:!0}}],ie=new te.a({routes:ae});ie.beforeEach(function(t,e,a){var i=JSON.parse(Object(v.b)("user"));i&&"/login"==t.path?ee.$router.push({path:"/taskManagement"}):a(),console.log(i),i||"/login"==t.path?a():a({path:"/login"})});var ne=ie;a("e0XP"),a("yS2L");i.default.config.productionTip=!1,i.default.config.axios=w.a,i.default.use(C.a),i.default.use(o.a),new i.default({el:"#app",router:ne,store:l,components:{App:x},template:"<App/>"})},NPyx:function(t,e){},NqAg:function(t,e){},PYar:function(t,e){},RQjr:function(t,e){},SKnF:function(t,e){},Skak:function(t,e,a){t.exports=a.p+"static/img/login_bg.8ae586c.png"},"T/4Z":function(t,e){},VkcE:function(t,e){},WVau:function(t,e){},bRRg:function(t,e){},crIS:function(t,e){},e0XP:function(t,e){},erWL:function(t,e){},jTKH:function(t,e){},oZ0Y:function(t,e){},pelR:function(t,e){},toBy:function(t,e){},tvR6:function(t,e){},yS2L:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9ae789e5869a8b660ce2.js.map